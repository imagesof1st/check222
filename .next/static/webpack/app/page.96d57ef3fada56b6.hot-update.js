"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./app/page.tsx":
/*!**********************!*\
  !*** ./app/page.tsx ***!
  \**********************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MusicPlayerApp; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _components_AddToPlaylistModal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/components/AddToPlaylistModal */ \"(app-pages-browser)/./components/AddToPlaylistModal.tsx\");\n/* harmony import */ var _components_AuthWrapper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/AuthWrapper */ \"(app-pages-browser)/./components/AuthWrapper.tsx\");\n/* harmony import */ var _components_CreatePlaylistModal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/CreatePlaylistModal */ \"(app-pages-browser)/./components/CreatePlaylistModal.tsx\");\n/* harmony import */ var _components_HomePage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/HomePage */ \"(app-pages-browser)/./components/HomePage.tsx\");\n/* harmony import */ var _components_LikedSongsPage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/LikedSongsPage */ \"(app-pages-browser)/./components/LikedSongsPage.tsx\");\n/* harmony import */ var _components_MaximizedPlayer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/MaximizedPlayer */ \"(app-pages-browser)/./components/MaximizedPlayer.tsx\");\n/* harmony import */ var _components_MinimizedPlayer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/MinimizedPlayer */ \"(app-pages-browser)/./components/MinimizedPlayer.tsx\");\n/* harmony import */ var _components_PlaylistsPage__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/PlaylistsPage */ \"(app-pages-browser)/./components/PlaylistsPage.tsx\");\n/* harmony import */ var _components_SearchPage__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/SearchPage */ \"(app-pages-browser)/./components/SearchPage.tsx\");\n/* harmony import */ var _components_SettingsPage__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/components/SettingsPage */ \"(app-pages-browser)/./components/SettingsPage.tsx\");\n/* harmony import */ var _components_SleepTimerModal__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/components/SleepTimerModal */ \"(app-pages-browser)/./components/SleepTimerModal.tsx\");\n/* harmony import */ var _components_ThemeContext__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/components/ThemeContext */ \"(app-pages-browser)/./components/ThemeContext.tsx\");\n/* harmony import */ var _hooks_useAuth__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/hooks/useAuth */ \"(app-pages-browser)/./hooks/useAuth.ts\");\n/* harmony import */ var _hooks_useQueue__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @/hooks/useQueue */ \"(app-pages-browser)/./hooks/useQueue.ts\");\n/* harmony import */ var _hooks_useSleepTimer__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @/hooks/useSleepTimer */ \"(app-pages-browser)/./hooks/useSleepTimer.ts\");\n/* harmony import */ var _hooks_useSupabaseData__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @/hooks/useSupabaseData */ \"(app-pages-browser)/./hooks/useSupabaseData.ts\");\n/* harmony import */ var _barrel_optimize_names_Home_Search_Settings_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=Home,Search,Settings!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/home.js\");\n/* harmony import */ var _barrel_optimize_names_Home_Search_Settings_lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=Home,Search,Settings!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/search.js\");\n/* harmony import */ var _barrel_optimize_names_Home_Search_Settings_lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=Home,Search,Settings!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/settings.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var react_hot_toast__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! react-hot-toast */ \"(app-pages-browser)/./node_modules/react-hot-toast/dist/index.mjs\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction MusicPlayerContent() {\n    _s();\n    const { user } = (0,_hooks_useAuth__WEBPACK_IMPORTED_MODULE_13__.useAuth)();\n    const { songs, playlists, likedSongs, recentlyPlayedSongs, lastPlayedSong, loading, toggleLike, createPlaylist, deletePlaylist, renamePlaylist, addSongToPlaylist, removeSongFromPlaylist, recordListeningHistory, stopCurrentSongTracking, getPersonalizedSongs, getSmartPersonalizedSongs } = (0,_hooks_useSupabaseData__WEBPACK_IMPORTED_MODULE_16__.useSupabaseData)(user);\n    const { queue, addToQueue, removeFromQueue, getNextSongFromQueue, clearQueue, hasQueue } = (0,_hooks_useQueue__WEBPACK_IMPORTED_MODULE_14__.useQueue)();\n    const [activeTab, setActiveTab] = (0,react__WEBPACK_IMPORTED_MODULE_17__.useState)(\"home\");\n    const [currentPage, setCurrentPage] = (0,react__WEBPACK_IMPORTED_MODULE_17__.useState)(\"main\");\n    const [currentSong, setCurrentSong] = (0,react__WEBPACK_IMPORTED_MODULE_17__.useState)(null);\n    const [isPlaying, setIsPlaying] = (0,react__WEBPACK_IMPORTED_MODULE_17__.useState)(false);\n    const [isPlayerMaximized, setIsPlayerMaximized] = (0,react__WEBPACK_IMPORTED_MODULE_17__.useState)(false);\n    const [showCreatePlaylistModal, setShowCreatePlaylistModal] = (0,react__WEBPACK_IMPORTED_MODULE_17__.useState)(false);\n    const [showAddToPlaylistModal, setShowAddToPlaylistModal] = (0,react__WEBPACK_IMPORTED_MODULE_17__.useState)(false);\n    const [showSleepTimerModal, setShowSleepTimerModal] = (0,react__WEBPACK_IMPORTED_MODULE_17__.useState)(false);\n    const [selectedSongForPlaylist, setSelectedSongForPlaylist] = (0,react__WEBPACK_IMPORTED_MODULE_17__.useState)(null);\n    const [hasSetLastPlayedSong, setHasSetLastPlayedSong] = (0,react__WEBPACK_IMPORTED_MODULE_17__.useState)(false);\n    const [lastPlayedSongDismissed, setLastPlayedSongDismissed] = (0,react__WEBPACK_IMPORTED_MODULE_17__.useState)(false);\n    const { isDarkMode, toggleTheme } = (0,_components_ThemeContext__WEBPACK_IMPORTED_MODULE_12__.useTheme)();\n    const [displayCount, setDisplayCount] = (0,react__WEBPACK_IMPORTED_MODULE_17__.useState)(15);\n    const [imageUrls, setImageUrls] = (0,react__WEBPACK_IMPORTED_MODULE_17__.useState)({});\n    const [audioUrl, setAudioUrl] = (0,react__WEBPACK_IMPORTED_MODULE_17__.useState)(null);\n    const audioRef = (0,react__WEBPACK_IMPORTED_MODULE_17__.useRef)(null);\n    const [currentTime, setCurrentTime] = (0,react__WEBPACK_IMPORTED_MODULE_17__.useState)(0);\n    const [duration, setDuration] = (0,react__WEBPACK_IMPORTED_MODULE_17__.useState)(0);\n    const [volume, setVolume] = (0,react__WEBPACK_IMPORTED_MODULE_17__.useState)(1); // default 75%\n    const [isSeeking, setIsSeeking] = (0,react__WEBPACK_IMPORTED_MODULE_17__.useState)(false);\n    const [pendingSeekTime, setPendingSeekTime] = (0,react__WEBPACK_IMPORTED_MODULE_17__.useState)(null);\n    const [isExternallySeeking, setIsExternallySeeking] = (0,react__WEBPACK_IMPORTED_MODULE_17__.useState)(false);\n    const [recommendedQueue, setRecommendedQueue] = (0,react__WEBPACK_IMPORTED_MODULE_17__.useState)([]);\n    const [playedSongs, setPlayedSongs] = (0,react__WEBPACK_IMPORTED_MODULE_17__.useState)(new Set());\n    const [personalizedList, setPersonalizedList] = (0,react__WEBPACK_IMPORTED_MODULE_17__.useState)([]);\n    const [currentSongIndex, setCurrentSongIndex] = (0,react__WEBPACK_IMPORTED_MODULE_17__.useState)(0);\n    const [listenedSongs, setListenedSongs] = (0,react__WEBPACK_IMPORTED_MODULE_17__.useState)(new Set());\n    const [isFetchingMore, setIsFetchingMore] = (0,react__WEBPACK_IMPORTED_MODULE_17__.useState)(false);\n    // Smart recommendation system state\n    const [currentBatchListenedSongs, setCurrentBatchListenedSongs] = (0,react__WEBPACK_IMPORTED_MODULE_17__.useState)([]);\n    const [songStartTime, setSongStartTime] = (0,react__WEBPACK_IMPORTED_MODULE_17__.useState)(null);\n    const [batchStartIndex, setBatchStartIndex] = (0,react__WEBPACK_IMPORTED_MODULE_17__.useState)(0);\n    // Shuffle and repeat state\n    const [isShuffleEnabled, setIsShuffleEnabled] = (0,react__WEBPACK_IMPORTED_MODULE_17__.useState)(true); // Shuffle on by default\n    const [repeatMode, setRepeatMode] = (0,react__WEBPACK_IMPORTED_MODULE_17__.useState)(\"off\");\n    // Sleep timer\n    const { sleepTimer, remainingTime, startTimer, cancelTimer, triggerAfterSongTimer, isActive: isSleepTimerActive } = (0,_hooks_useSleepTimer__WEBPACK_IMPORTED_MODULE_15__.useSleepTimer)();\n    const loadMoreSongs = ()=>{\n        setDisplayCount((prev)=>prev + 15);\n    };\n    const displayedSongs = songs.slice(0, displayCount);\n    (0,react__WEBPACK_IMPORTED_MODULE_17__.useEffect)(()=>{\n        const loadAudio = async ()=>{\n            if (currentSong === null || currentSong === void 0 ? void 0 : currentSong.file_id) {\n                const url = \"/api/audio-proxy?fileid=\".concat(currentSong.file_id);\n                setAudioUrl(url);\n                setDuration(0);\n                setCurrentTime(0);\n                setPendingSeekTime(null);\n            }\n        };\n        loadAudio();\n    }, [\n        currentSong === null || currentSong === void 0 ? void 0 : currentSong.file_id\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_17__.useEffect)(()=>{\n        if (audioRef.current) {\n            audioRef.current.volume = volume;\n        }\n    }, [\n        volume\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_17__.useEffect)(()=>{\n        const audio = audioRef.current;\n        if (!audio) return;\n        if (!isNaN(audio.duration) && isPlaying) {\n            // Duration is valid, safe to play\n            audio.play().catch((e)=>{\n                console.error(\"Playback error:\", e);\n            });\n        } else if (!isPlaying) {\n            audio.pause();\n        }\n    }, [\n        isPlaying\n    ]);\n    // Load images for currently displayed songs\n    (0,react__WEBPACK_IMPORTED_MODULE_17__.useEffect)(()=>{\n        const fetchImages = async ()=>{\n            const newUrls = {};\n            // Songs from the main feed\n            const songsToLoad = songs.slice(0, displayCount);\n            for (const song of songsToLoad){\n                if (!imageUrls[song.id]) {\n                    newUrls[song.id] = \"/api/image-proxy?fileid=\".concat(song.img_id);\n                }\n            }\n            // Songs from playlists\n            for (const playlist of playlists){\n                for (const song of playlist.songs){\n                    if (!imageUrls[song.id]) {\n                        newUrls[song.id] = \"/api/image-proxy?fileid=\".concat(song.img_id);\n                    }\n                }\n            }\n            // Liked songs\n            for (const song of likedSongs){\n                if (!imageUrls[song.id]) {\n                    newUrls[song.id] = \"/api/image-proxy?fileid=\".concat(song.img_id);\n                }\n            }\n            // Apply if new URLs found\n            if (Object.keys(newUrls).length > 0) {\n                setImageUrls((prev)=>({\n                        ...prev,\n                        ...newUrls\n                    }));\n            }\n        };\n        fetchImages();\n    }, [\n        displayCount,\n        songs,\n        playlists,\n        likedSongs\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_17__.useEffect)(()=>{\n        console.log(\"\\uD83C\\uDFB5 personalizedList updated:\", personalizedList);\n    }, [\n        personalizedList\n    ]);\n    // Set last played song as current song when data loads (only once and if not dismissed)\n    (0,react__WEBPACK_IMPORTED_MODULE_17__.useEffect)(()=>{\n        const loadLastPlayedImage = async ()=>{\n            if (user && lastPlayedSong && !hasSetLastPlayedSong && !lastPlayedSongDismissed) {\n                try {\n                    console.log(\"\\uD83C\\uDFB5 Loading initial personalized songs for last played song\");\n                    const initialRecs = await getPersonalizedSongs(user.id, lastPlayedSong, listenedSongs);\n                    const filtered = initialRecs.filter((song)=>!playedSongs.has(song.file_id.toString()));\n                    const newPersonalizedList = [\n                        lastPlayedSong,\n                        ...filtered.slice(0, 4)\n                    ];\n                    setPersonalizedList(newPersonalizedList);\n                    console.log(\"✅ Initial personalized list set:\", newPersonalizedList.length, \"songs\");\n                } catch (error) {\n                    console.error(\"❌ Error loading initial personalized songs:\", error);\n                    setPersonalizedList([\n                        lastPlayedSong\n                    ]);\n                }\n                setCurrentSong(lastPlayedSong);\n                setHasSetLastPlayedSong(true);\n                // Add to listened songs and log\n                setListenedSongs((prev)=>{\n                    const newSet = new Set(prev);\n                    newSet.add(lastPlayedSong.file_id.toString());\n                    console.log(\"\\uD83C\\uDFB5 Listened Songs List:\", Array.from(newSet));\n                    return newSet;\n                });\n                if (!imageUrls[lastPlayedSong.img_id]) {\n                    const url = \"/api/image-proxy?fileid=\".concat(lastPlayedSong.img_id);\n                    setImageUrls((prev)=>({\n                            ...prev,\n                            [lastPlayedSong.img_id]: url\n                        }));\n                }\n            }\n        };\n        loadLastPlayedImage();\n    }, [\n        lastPlayedSong,\n        hasSetLastPlayedSong,\n        lastPlayedSongDismissed,\n        user,\n        getPersonalizedSongs\n    ]);\n    const handleSongPlay = async (song)=>{\n        // Record if previous song was listened to (>20 seconds)\n        if (currentSong && songStartTime) {\n            const listenDuration = (new Date().getTime() - songStartTime.getTime()) / 1000;\n            if (listenDuration > 20) {\n                console.log('✅ User listened to \"'.concat(currentSong.name, '\" for ').concat(listenDuration.toFixed(1), \" seconds\"));\n                setCurrentBatchListenedSongs((prev)=>{\n                    const exists = prev.some((s)=>s.file_id === currentSong.file_id);\n                    if (!exists) {\n                        const updated = [\n                            ...prev,\n                            currentSong\n                        ];\n                        console.log(\"\\uD83C\\uDFB5 Current batch listened songs:\", updated.map((s)=>s.name));\n                        return updated;\n                    }\n                    return prev;\n                });\n            } else {\n                console.log('⏭️ User skipped \"'.concat(currentSong.name, '\" after ').concat(listenDuration.toFixed(1), \" seconds\"));\n            }\n        }\n        setCurrentSong(song);\n        setIsPlaying(true);\n        setLastPlayedSongDismissed(false);\n        recordListeningHistory(song.id);\n        setSongStartTime(new Date()); // Track when this song started\n        // Add to listened songs and log\n        setListenedSongs((prev)=>{\n            const newSet = new Set(prev);\n            newSet.add(song.file_id.toString());\n            console.log(\"\\uD83C\\uDFB5 Listened Songs List:\", Array.from(newSet));\n            return newSet;\n        });\n        setPlayedSongs((prev)=>{\n            const updated = new Set(prev);\n            updated.add(song.file_id.toString());\n            return updated;\n        });\n        if (user) {\n            try {\n                console.log(\"\\uD83C\\uDFB5 Fetching personalized songs for:\", song.name);\n                const recs = await getPersonalizedSongs(user.id, song, listenedSongs);\n                const filtered = recs.filter((s)=>!playedSongs.has(s.file_id.toString()));\n                const newPersonalizedList = [\n                    song,\n                    ...filtered.slice(0, 4)\n                ];\n                setPersonalizedList(newPersonalizedList);\n                setCurrentSongIndex(0);\n                setBatchStartIndex(0);\n                setCurrentBatchListenedSongs([]); // Reset batch for new song selection\n                console.log(\"✅ New personalized list set:\", newPersonalizedList.length, \"songs\");\n            } catch (error) {\n                console.error(\"❌ Error fetching personalized songs:\", error);\n                setPersonalizedList([\n                    song\n                ]);\n                setCurrentSongIndex(0);\n                setBatchStartIndex(0);\n                setCurrentBatchListenedSongs([]);\n            }\n        }\n    };\n    const handleAddToQueue = (song)=>{\n        addToQueue(song);\n        react_hot_toast__WEBPACK_IMPORTED_MODULE_18__.toast.success('Added \"'.concat(song.name, '\" to queue'));\n    };\n    const togglePlay = ()=>{\n        setIsPlaying(!isPlaying);\n    };\n    const togglePlayerSize = ()=>{\n        setIsPlayerMaximized(!isPlayerMaximized);\n    };\n    const closePlayer = async ()=>{\n        // Stop tracking current song before closing\n        await stopCurrentSongTracking();\n        setCurrentSong(null);\n        setIsPlaying(false);\n        setIsPlayerMaximized(false);\n        // Mark last played song as dismissed so it won't auto-load again\n        setLastPlayedSongDismissed(true);\n    };\n    const handleToggleLike = (songId)=>{\n        toggleLike(songId);\n        // Update current song state if it's the one being liked/unliked\n        if (currentSong && currentSong.id === songId) {\n            setCurrentSong((prev)=>prev ? {\n                    ...prev,\n                    isLiked: !prev.isLiked\n                } : null);\n        }\n    };\n    const handlePrevious = ()=>{\n        // Record if current song was listened to before going to previous\n        if (currentSong && songStartTime) {\n            const listenDuration = (new Date().getTime() - songStartTime.getTime()) / 1000;\n            if (listenDuration > 20) {\n                console.log('✅ User listened to \"'.concat(currentSong.name, '\" for ').concat(listenDuration.toFixed(1), \" seconds\"));\n                setCurrentBatchListenedSongs((prev)=>{\n                    const exists = prev.some((s)=>s.file_id === currentSong.file_id);\n                    if (!exists) {\n                        const updated = [\n                            ...prev,\n                            currentSong\n                        ];\n                        console.log(\"\\uD83C\\uDFB5 Current batch listened songs:\", updated.map((s)=>s.name));\n                        return updated;\n                    }\n                    return prev;\n                });\n            }\n        }\n        if (!currentSong) return;\n        // Check if there's a previous song in the personalized list\n        if (currentSongIndex > 0) {\n            const prevIndex = currentSongIndex - 1;\n            const prevSong = personalizedList[prevIndex];\n            if (prevSong) {\n                setCurrentSong(prevSong);\n                setCurrentSongIndex(prevIndex);\n                setIsPlaying(true);\n                setLastPlayedSongDismissed(false);\n                recordListeningHistory(prevSong.id);\n                setSongStartTime(new Date());\n                // Add to listened songs and log\n                setListenedSongs((prev)=>{\n                    const newSet = new Set(prev);\n                    newSet.add(prevSong.file_id.toString());\n                    console.log(\"\\uD83C\\uDFB5 Listened Songs List:\", Array.from(newSet));\n                    return newSet;\n                });\n                setPlayedSongs((prev)=>{\n                    const updated = new Set(prev);\n                    updated.add(prevSong.file_id.toString());\n                    return updated;\n                });\n                // Preload image\n                if (!imageUrls[prevSong.img_id]) {\n                    const newUrl = \"/api/image-proxy?fileid=\".concat(prevSong.img_id);\n                    setImageUrls((prev)=>({\n                            ...prev,\n                            [prevSong.img_id]: newUrl\n                        }));\n                }\n            }\n        } else {\n            // If at the beginning, just restart current song\n            setCurrentTime(0);\n            setIsPlaying(true);\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_17__.useEffect)(()=>{\n        if (!currentSong) return;\n        const currentIndex = songs.findIndex((song)=>song.id === currentSong.id);\n        const nextIndex = currentIndex < songs.length - 1 ? currentIndex + 1 : 0;\n        const nextSong = songs[nextIndex];\n        // Preload next song image if not in cache\n        if (nextSong && !imageUrls[nextSong.img_id]) {\n            const newUrl = \"/api/image-proxy?fileid=\".concat(nextSong.img_id);\n            setImageUrls((prev)=>({\n                    ...prev,\n                    [nextSong.img_id]: newUrl\n                }));\n        }\n    }, [\n        currentSong,\n        songs\n    ]);\n    const handleLoadedMetadata = async ()=>{\n        const audio = audioRef.current;\n        if (!audio) return;\n        const loadedDuration = audio.duration;\n        if (!isNaN(loadedDuration) && isFinite(loadedDuration)) {\n            setDuration(loadedDuration);\n            if (pendingSeekTime !== null) {\n                audio.currentTime = pendingSeekTime;\n                setCurrentTime(pendingSeekTime);\n                setPendingSeekTime(null);\n            } else {\n                setCurrentTime(audio.currentTime);\n            }\n            try {\n                if (isPlaying) {\n                    await audio.play();\n                }\n            } catch (err) {\n                console.error(\"Auto-play error after metadata load:\", err);\n            }\n        } else {\n            // Retry metadata read\n            setTimeout(handleLoadedMetadata, 100);\n        }\n    };\n    const handleNext = async ()=>{\n        // Record if current song was listened to before going to next\n        if (currentSong && songStartTime) {\n            const listenDuration = (new Date().getTime() - songStartTime.getTime()) / 1000;\n            if (listenDuration > 20) {\n                console.log('✅ User listened to \"'.concat(currentSong.name, '\" for ').concat(listenDuration.toFixed(1), \" seconds\"));\n                setCurrentBatchListenedSongs((prev)=>{\n                    const exists = prev.some((s)=>s.file_id === currentSong.file_id);\n                    if (!exists) {\n                        const updated = [\n                            ...prev,\n                            currentSong\n                        ];\n                        console.log(\"\\uD83C\\uDFB5 Current batch listened songs:\", updated.map((s)=>s.name));\n                        return updated;\n                    }\n                    return prev;\n                });\n            } else {\n                console.log('⏭️ User skipped \"'.concat(currentSong.name, '\" after ').concat(listenDuration.toFixed(1), \" seconds\"));\n            }\n        }\n        if (!currentSong) return;\n        // Check if there's a song in the queue first\n        const nextQueueSong = getNextSongFromQueue();\n        if (nextQueueSong) {\n            setCurrentSong(nextQueueSong);\n            setIsPlaying(true);\n            setLastPlayedSongDismissed(false);\n            recordListeningHistory(nextQueueSong.id);\n            setSongStartTime(new Date());\n            // Add to listened songs and log\n            setListenedSongs((prev)=>{\n                const newSet = new Set(prev);\n                newSet.add(nextQueueSong.file_id.toString());\n                console.log(\"\\uD83C\\uDFB5 Listened Songs List:\", Array.from(newSet));\n                return newSet;\n            });\n            // Update personalized list with the queue song\n            if (user) {\n                const recs = await getPersonalizedSongs(user.id, nextQueueSong, listenedSongs);\n                const filtered = recs.filter((s)=>!playedSongs.has(String(s.file_id)));\n                const newPersonalizedList = [\n                    nextQueueSong,\n                    ...filtered.slice(0, 4)\n                ];\n                setPersonalizedList(newPersonalizedList);\n                setCurrentSongIndex(0);\n            }\n            // Preload image\n            if (!imageUrls[nextQueueSong.img_id]) {\n                const newUrl = \"/api/image-proxy?fileid=\".concat(nextQueueSong.img_id);\n                setImageUrls((prev)=>({\n                        ...prev,\n                        [nextQueueSong.img_id]: newUrl\n                    }));\n            }\n            return;\n        }\n        // Check if we're at the second-to-last song and need to fetch smart recommendations\n        if (currentSongIndex === personalizedList.length - 2 && !isFetchingMore && user && currentSong) {\n            console.log(\"\\uD83E\\uDDE0 At second-to-last song, checking for smart recommendations...\");\n            setIsFetchingMore(true);\n            try {\n                let newRecs = [];\n                // If we have songs that user actually listened to in current batch, use smart recommendations\n                if (currentBatchListenedSongs.length > 0) {\n                    console.log(\"\\uD83E\\uDDE0 Using smart recommendations based on listened songs\");\n                    newRecs = await getSmartPersonalizedSongs(user.id, currentBatchListenedSongs, new Set([\n                        ...Array.from(listenedSongs),\n                        ...personalizedList.map((s)=>s.file_id.toString())\n                    ]));\n                } else {\n                    console.log(\"\\uD83C\\uDFB5 No listened songs in batch, using regular recommendations\");\n                    newRecs = await getPersonalizedSongs(user.id, currentSong, listenedSongs);\n                }\n                const filtered = newRecs.filter((song)=>!playedSongs.has(song.file_id.toString()) && !listenedSongs.has(song.file_id.toString()) && !personalizedList.some((existing)=>existing.file_id === song.file_id));\n                if (filtered.length > 0) {\n                    setPersonalizedList((prev)=>[\n                            ...prev,\n                            ...filtered.slice(0, 5)\n                        ]);\n                    console.log(\"✅ Added\", filtered.slice(0, 5).length, \"smart recommendations to personalized list\");\n                }\n            } catch (error) {\n                console.error(\"❌ Error fetching smart recommendations:\", error);\n            } finally{\n                setIsFetchingMore(false);\n            }\n        }\n        // If no queue, proceed with personalized list\n        const nextIndex = currentSongIndex + 1;\n        if (nextIndex < personalizedList.length) {\n            const nextSong = personalizedList[nextIndex];\n            setCurrentSong(nextSong);\n            setCurrentSongIndex(nextIndex);\n            setIsPlaying(true);\n            setLastPlayedSongDismissed(false);\n            recordListeningHistory(nextSong.id);\n            setSongStartTime(new Date());\n            // Add to listened songs and log\n            setListenedSongs((prev)=>{\n                const newSet = new Set(prev);\n                newSet.add(nextSong.file_id.toString());\n                console.log(\"\\uD83C\\uDFB5 Listened Songs List:\", Array.from(newSet));\n                return newSet;\n            });\n            setPlayedSongs((prev)=>{\n                const updated = new Set(prev);\n                updated.add(String(nextSong.file_id));\n                return updated;\n            });\n            // Preload image\n            if (!imageUrls[nextSong.img_id]) {\n                const newUrl = \"/api/image-proxy?fileid=\".concat(nextSong.img_id);\n                setImageUrls((prev)=>({\n                        ...prev,\n                        [nextSong.img_id]: newUrl\n                    }));\n            }\n        } else {\n            // If we've reached the end of personalized list, get new smart recommendations\n            if (user && currentSong) {\n                try {\n                    console.log(\"\\uD83E\\uDDE0 Reached end of list, fetching new smart recommendations\");\n                    let newRecs = [];\n                    // Use smart recommendations if we have listened songs in current batch\n                    if (currentBatchListenedSongs.length > 0) {\n                        console.log(\"\\uD83E\\uDDE0 Using smart recommendations for new batch\");\n                        newRecs = await getSmartPersonalizedSongs(user.id, currentBatchListenedSongs, listenedSongs);\n                    } else {\n                        console.log(\"\\uD83C\\uDFB5 Using regular recommendations for new batch\");\n                        newRecs = await getPersonalizedSongs(user.id, currentSong, listenedSongs);\n                    }\n                    const filtered = newRecs.filter((song)=>!playedSongs.has(song.file_id.toString()) && !listenedSongs.has(song.file_id.toString()));\n                    if (filtered.length > 0) {\n                        const nextSong = filtered[0];\n                        setCurrentSong(nextSong);\n                        setIsPlaying(true);\n                        setLastPlayedSongDismissed(false);\n                        recordListeningHistory(nextSong.id);\n                        setSongStartTime(new Date());\n                        // Add to listened songs and log\n                        setListenedSongs((prev)=>{\n                            const newSet = new Set(prev);\n                            newSet.add(nextSong.file_id.toString());\n                            console.log(\"\\uD83C\\uDFB5 Listened Songs List:\", Array.from(newSet));\n                            return newSet;\n                        });\n                        // Create new personalized list starting with this song\n                        const newPersonalizedList = [\n                            nextSong,\n                            ...filtered.slice(1, 5)\n                        ];\n                        setPersonalizedList(newPersonalizedList);\n                        setCurrentSongIndex(0);\n                        setBatchStartIndex(0);\n                        setCurrentBatchListenedSongs([]); // Reset batch for new recommendations\n                        setPlayedSongs((prev)=>{\n                            const updated = new Set(prev);\n                            updated.add(nextSong.file_id.toString());\n                            return updated;\n                        });\n                        // Preload image\n                        if (!imageUrls[nextSong.img_id]) {\n                            const newUrl = \"/api/image-proxy?fileid=\".concat(nextSong.img_id);\n                            setImageUrls((prev)=>({\n                                    ...prev,\n                                    [nextSong.img_id]: newUrl\n                                }));\n                        }\n                        console.log(\"✅ New smart recommendations loaded:\", newPersonalizedList.length, \"songs\");\n                    } else {\n                        console.warn(\"⚠️ No more smart recommendations available\");\n                    }\n                } catch (error) {\n                    console.error(\"❌ Error fetching new smart recommendations:\", error);\n                }\n            }\n        }\n    };\n    const formatNumber = (num)=>{\n        if (num >= 1000000) {\n            return (num / 1000000).toFixed(1) + \"M\";\n        } else if (num >= 1000) {\n            return (num / 1000).toFixed(1) + \"K\";\n        }\n        return num.toString();\n    };\n    const handleAddToPlaylist = (song)=>{\n        setSelectedSongForPlaylist(song);\n        setShowAddToPlaylistModal(true);\n    };\n    const handleSongEnd = async ()=>{\n        // Check if sleep timer is set to \"after-song\" and trigger it\n        if (sleepTimer === \"after-song\") {\n            triggerAfterSongTimer();\n            return;\n        }\n        // Record if song was listened to completely (assume >20 seconds if it ended naturally)\n        if (currentSong && songStartTime) {\n            const listenDuration = (new Date().getTime() - songStartTime.getTime()) / 1000;\n            console.log('\\uD83C\\uDFB5 Song \"'.concat(currentSong.name, '\" ended after ').concat(listenDuration.toFixed(1), \" seconds\"));\n            if (listenDuration > 20) {\n                setCurrentBatchListenedSongs((prev)=>{\n                    const exists = prev.some((s)=>s.file_id === currentSong.file_id);\n                    if (!exists) {\n                        const updated = [\n                            ...prev,\n                            currentSong\n                        ];\n                        console.log(\"\\uD83C\\uDFB5 Current batch listened songs:\", updated.map((s)=>s.name));\n                        return updated;\n                    }\n                    return prev;\n                });\n            }\n        }\n        // Handle repeat modes\n        if (repeatMode === \"once\" || repeatMode === \"infinite\") {\n            // Restart the current song\n            setCurrentTime(0);\n            setIsPlaying(true);\n            setSongStartTime(new Date());\n            // If repeat once, turn off repeat after playing once\n            if (repeatMode === \"once\") {\n                setRepeatMode(\"off\");\n            }\n            return;\n        }\n        // When a song ends, automatically play the next one\n        await handleNext();\n    };\n    const handleSleepTimerSet = (minutes)=>{\n        if (minutes === null) {\n            cancelTimer();\n        } else {\n            startTimer(minutes, ()=>{\n                setIsPlaying(false);\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_18__.toast.success(\"Sleep timer ended - music stopped\");\n            });\n            if (typeof minutes === \"number\") {\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_18__.toast.success(\"Sleep timer set for \".concat(minutes, \" minutes\"));\n            } else {\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_18__.toast.success(\"Sleep timer set to stop after current song\");\n            }\n        }\n    };\n    const renderContent = ()=>{\n        if (currentPage === \"playlists\") {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_PlaylistsPage__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                playlists: playlists,\n                onBack: ()=>setCurrentPage(\"main\"),\n                onSongPlay: handleSongPlay,\n                onAddToQueue: handleAddToQueue,\n                onCreatePlaylist: ()=>setShowCreatePlaylistModal(true),\n                onDeletePlaylist: deletePlaylist,\n                onRenamePlaylist: renamePlaylist,\n                onRemoveSongFromPlaylist: removeSongFromPlaylist,\n                imageUrls: imageUrls,\n                clearQueue: clearQueue\n            }, void 0, false, {\n                fileName: \"/home/project/app/page.tsx\",\n                lineNumber: 710,\n                columnNumber: 9\n            }, this);\n        }\n        if (currentPage === \"liked\") {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_LikedSongsPage__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                songs: likedSongs,\n                onBack: ()=>setCurrentPage(\"main\"),\n                onSongPlay: handleSongPlay,\n                onAddToQueue: handleAddToQueue,\n                imageUrls: imageUrls,\n                clearQueue: clearQueue\n            }, void 0, false, {\n                fileName: \"/home/project/app/page.tsx\",\n                lineNumber: 726,\n                columnNumber: 14\n            }, this);\n        }\n        switch(activeTab){\n            case \"home\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_HomePage__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                    songs: displayedSongs,\n                    recentlyPlayedSongs: recentlyPlayedSongs,\n                    onSongPlay: handleSongPlay,\n                    formatNumber: formatNumber,\n                    onAddToPlaylist: handleAddToPlaylist,\n                    onAddToQueue: handleAddToQueue,\n                    imageUrls: imageUrls,\n                    onLoadMore: loadMoreSongs,\n                    hasMoreSongs: displayCount < songs.length\n                }, void 0, false, {\n                    fileName: \"/home/project/app/page.tsx\",\n                    lineNumber: 731,\n                    columnNumber: 16\n                }, this);\n            case \"search\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_SearchPage__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                    songs: songs,\n                    onSongPlay: handleSongPlay,\n                    formatNumber: formatNumber,\n                    onAddToPlaylist: handleAddToPlaylist,\n                    onAddToQueue: handleAddToQueue,\n                    imageUrls: imageUrls,\n                    setImageUrls: setImageUrls\n                }, void 0, false, {\n                    fileName: \"/home/project/app/page.tsx\",\n                    lineNumber: 743,\n                    columnNumber: 16\n                }, this);\n            case \"settings\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_SettingsPage__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                    onPlaylistsClick: ()=>setCurrentPage(\"playlists\"),\n                    onLikedClick: ()=>setCurrentPage(\"liked\")\n                }, void 0, false, {\n                    fileName: \"/home/project/app/page.tsx\",\n                    lineNumber: 753,\n                    columnNumber: 16\n                }, this);\n            default:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_HomePage__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                    songs: displayedSongs,\n                    recentlyPlayedSongs: recentlyPlayedSongs,\n                    onSongPlay: handleSongPlay,\n                    formatNumber: formatNumber,\n                    onAddToPlaylist: handleAddToPlaylist,\n                    onAddToQueue: handleAddToQueue,\n                    imageUrls: imageUrls,\n                    onLoadMore: loadMoreSongs,\n                    hasMoreSongs: displayCount < songs.length\n                }, void 0, false, {\n                    fileName: \"/home/project/app/page.tsx\",\n                    lineNumber: 755,\n                    columnNumber: 16\n                }, this);\n        }\n    };\n    const themeClasses = isDarkMode ? \"bg-gray-900 text-white\" : \"bg-gray-50 text-gray-900\";\n    const setCurrentTimeState = setCurrentTime;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen \".concat(themeClasses, \" relative overflow-hidden\"),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"transition-all duration-300 \".concat(currentSong ? \"pb-36\" : \"pb-20\"),\n                children: renderContent()\n            }, void 0, false, {\n                fileName: \"/home/project/app/page.tsx\",\n                lineNumber: 778,\n                columnNumber: 9\n            }, this),\n            currentPage === \"main\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed bottom-0 left-0 right-0 \".concat(isDarkMode ? \"bg-gray-800 border-gray-700\" : \"bg-white border-gray-200\", \" border-t z-30\"),\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center justify-around py-3\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>setActiveTab(\"home\"),\n                            className: \"flex flex-col items-center space-y-1 p-2 transition-colors \".concat(activeTab === \"home\" ? \"text-purple-400\" : isDarkMode ? \"text-gray-400\" : \"text-gray-600\"),\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Home_Search_Settings_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                    size: 24\n                                }, void 0, false, {\n                                    fileName: \"/home/project/app/page.tsx\",\n                                    lineNumber: 792,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-xs\",\n                                    children: \"Home\"\n                                }, void 0, false, {\n                                    fileName: \"/home/project/app/page.tsx\",\n                                    lineNumber: 793,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/project/app/page.tsx\",\n                            lineNumber: 786,\n                            columnNumber: 15\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>setActiveTab(\"search\"),\n                            className: \"flex flex-col items-center space-y-1 p-2 transition-colors \".concat(activeTab === \"search\" ? \"text-purple-400\" : isDarkMode ? \"text-gray-400\" : \"text-gray-600\"),\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Home_Search_Settings_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                    size: 24\n                                }, void 0, false, {\n                                    fileName: \"/home/project/app/page.tsx\",\n                                    lineNumber: 801,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-xs\",\n                                    children: \"Search\"\n                                }, void 0, false, {\n                                    fileName: \"/home/project/app/page.tsx\",\n                                    lineNumber: 802,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/project/app/page.tsx\",\n                            lineNumber: 795,\n                            columnNumber: 15\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>setActiveTab(\"settings\"),\n                            className: \"flex flex-col items-center space-y-1 p-2 transition-colors \".concat(activeTab === \"settings\" ? \"text-purple-400\" : isDarkMode ? \"text-gray-400\" : \"text-gray-600\"),\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Home_Search_Settings_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                    size: 24\n                                }, void 0, false, {\n                                    fileName: \"/home/project/app/page.tsx\",\n                                    lineNumber: 810,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-xs\",\n                                    children: \"Settings\"\n                                }, void 0, false, {\n                                    fileName: \"/home/project/app/page.tsx\",\n                                    lineNumber: 811,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/project/app/page.tsx\",\n                            lineNumber: 804,\n                            columnNumber: 15\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/project/app/page.tsx\",\n                    lineNumber: 785,\n                    columnNumber: 13\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/project/app/page.tsx\",\n                lineNumber: 784,\n                columnNumber: 11\n            }, this),\n            currentSong && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: !isPlayerMaximized ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_MinimizedPlayer__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                    song: currentSong,\n                    isPlaying: isPlaying,\n                    imageUrl: imageUrls[currentSong.img_id],\n                    onTogglePlay: togglePlay,\n                    onMaximize: togglePlayerSize,\n                    onPrevious: handlePrevious,\n                    onNext: handleNext,\n                    onClose: closePlayer,\n                    onToggleLike: ()=>handleToggleLike(currentSong.id),\n                    formatNumber: formatNumber,\n                    currentTime: currentTime,\n                    duration: duration\n                }, void 0, false, {\n                    fileName: \"/home/project/app/page.tsx\",\n                    lineNumber: 821,\n                    columnNumber: 15\n                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_MaximizedPlayer__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                    song: currentSong,\n                    isPlaying: isPlaying,\n                    imageUrl: imageUrls[currentSong.img_id],\n                    onTogglePlay: togglePlay,\n                    onMinimize: togglePlayerSize,\n                    onPrevious: handlePrevious,\n                    onNext: handleNext,\n                    onToggleLike: ()=>handleToggleLike(currentSong.id),\n                    formatNumber: formatNumber,\n                    onAddToPlaylist: ()=>handleAddToPlaylist(currentSong),\n                    currentTime: currentTime,\n                    duration: duration,\n                    setCurrentTime: (seekTime)=>{\n                        if (audioRef.current && !isNaN(audioRef.current.duration)) {\n                            setIsExternallySeeking(true);\n                            audioRef.current.currentTime = seekTime;\n                            setCurrentTimeState(seekTime);\n                            setTimeout(()=>setIsExternallySeeking(false), 200);\n                        } else {\n                            setPendingSeekTime(seekTime); // Will apply onLoadedMetadata\n                        }\n                    },\n                    volume: volume,\n                    setVolume: setVolume,\n                    isSeeking: isSeeking,\n                    setIsSeeking: setIsSeeking,\n                    queue: queue,\n                    onRemoveFromQueue: removeFromQueue,\n                    onSongPlay: handleSongPlay,\n                    imageUrls: imageUrls,\n                    isShuffleEnabled: isShuffleEnabled,\n                    setIsShuffleEnabled: setIsShuffleEnabled,\n                    repeatMode: repeatMode,\n                    setRepeatMode: setRepeatMode,\n                    sleepTimer: sleepTimer,\n                    remainingTime: remainingTime,\n                    onOpenSleepTimer: ()=>setShowSleepTimerModal(true)\n                }, void 0, false, {\n                    fileName: \"/home/project/app/page.tsx\",\n                    lineNumber: 836,\n                    columnNumber: 15\n                }, this)\n            }, void 0, false),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_CreatePlaylistModal__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                isOpen: showCreatePlaylistModal,\n                onClose: ()=>setShowCreatePlaylistModal(false),\n                onCreatePlaylist: createPlaylist\n            }, void 0, false, {\n                fileName: \"/home/project/app/page.tsx\",\n                lineNumber: 884,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AddToPlaylistModal__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n                isOpen: showAddToPlaylistModal,\n                onClose: ()=>{\n                    setShowAddToPlaylistModal(false);\n                    setSelectedSongForPlaylist(null);\n                },\n                song: selectedSongForPlaylist,\n                playlists: playlists,\n                onAddToPlaylist: addSongToPlaylist,\n                onCreatePlaylist: ()=>{\n                    setShowAddToPlaylistModal(false);\n                    setShowCreatePlaylistModal(true);\n                },\n                imageUrls: imageUrls,\n                setImageUrls: setImageUrls\n            }, void 0, false, {\n                fileName: \"/home/project/app/page.tsx\",\n                lineNumber: 890,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_SleepTimerModal__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                isOpen: showSleepTimerModal,\n                onClose: ()=>setShowSleepTimerModal(false),\n                onSetTimer: handleSleepTimerSet,\n                currentTimer: sleepTimer\n            }, void 0, false, {\n                fileName: \"/home/project/app/page.tsx\",\n                lineNumber: 907,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"audio\", {\n                ref: audioRef,\n                src: audioUrl !== null && audioUrl !== void 0 ? audioUrl : undefined,\n                onEnded: handleSongEnd,\n                onTimeUpdate: ()=>{\n                    if (audioRef.current && !isSeeking && !isExternallySeeking) {\n                        const current = audioRef.current.currentTime;\n                        // Only update state if the difference is significant\n                        if (Math.abs(currentTime - current) > 0.25) {\n                            setCurrentTime(current);\n                        }\n                    }\n                },\n                onLoadedMetadata: handleLoadedMetadata,\n                onVolumeChange: ()=>{\n                    if (audioRef.current) {\n                        setVolume(audioRef.current.volume);\n                    }\n                },\n                style: {\n                    display: \"none\"\n                }\n            }, void 0, false, {\n                fileName: \"/home/project/app/page.tsx\",\n                lineNumber: 913,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/project/app/page.tsx\",\n        lineNumber: 776,\n        columnNumber: 7\n    }, this);\n}\n_s(MusicPlayerContent, \"vm5bybzi+Elnnysjo+XDCvr7pIc=\", false, function() {\n    return [\n        _hooks_useAuth__WEBPACK_IMPORTED_MODULE_13__.useAuth,\n        _hooks_useSupabaseData__WEBPACK_IMPORTED_MODULE_16__.useSupabaseData,\n        _hooks_useQueue__WEBPACK_IMPORTED_MODULE_14__.useQueue,\n        _components_ThemeContext__WEBPACK_IMPORTED_MODULE_12__.useTheme,\n        _hooks_useSleepTimer__WEBPACK_IMPORTED_MODULE_15__.useSleepTimer\n    ];\n});\n_c = MusicPlayerContent;\nfunction MusicPlayerApp() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AuthWrapper__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_hot_toast__WEBPACK_IMPORTED_MODULE_18__.Toaster, {\n                position: \"bottom-center\"\n            }, void 0, false, {\n                fileName: \"/home/project/app/page.tsx\",\n                lineNumber: 944,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MusicPlayerContent, {}, void 0, false, {\n                fileName: \"/home/project/app/page.tsx\",\n                lineNumber: 945,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/project/app/page.tsx\",\n        lineNumber: 943,\n        columnNumber: 5\n    }, this);\n}\n_c1 = MusicPlayerApp;\nvar _c, _c1;\n$RefreshReg$(_c, \"MusicPlayerContent\");\n$RefreshReg$(_c1, \"MusicPlayerApp\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEtBQUtqSztnQkFDTGtLLEtBQUtwSyxxQkFBQUEsc0JBQUFBLFdBQVlxSztnQkFDakJDLFNBQVN6QztnQkFDVDBDLGNBQWM7b0JBQ2QsSUFBSXJLLFNBQVNrRCxPQUFPLElBQUksQ0FBQzNDLGFBQWEsQ0FBQ0kscUJBQXFCO3dCQUMxRCxNQUFNdUMsVUFBVWxELFNBQVNrRCxPQUFPLENBQUNqRCxXQUFXO3dCQUM1QyxxREFBcUQ7d0JBQ3JELElBQUlxSyxLQUFLQyxHQUFHLENBQUN0SyxjQUFjaUQsV0FBVyxNQUFNOzRCQUMxQ2hELGVBQWVnRDt3QkFDakI7b0JBQ0Y7Z0JBQ0Y7Z0JBR0VzSCxrQkFBa0IzRDtnQkFDbEI0RCxnQkFBZ0I7b0JBQ2QsSUFBSXpLLFNBQVNrRCxPQUFPLEVBQUU7d0JBQ3BCNUMsVUFBVU4sU0FBU2tELE9BQU8sQ0FBQzdDLE1BQU07b0JBQ25DO2dCQUNGO2dCQUNBcUssT0FBTztvQkFBRUMsU0FBUztnQkFBTzs7Ozs7Ozs7Ozs7O0FBS25DO0dBbDVCU2pPOztRQUNVYixvREFBT0E7UUFrQnBCRyxvRUFBZUE7UUFTZkYsc0RBQVFBO1FBYXdCRiwrREFBUUE7UUFtQ3hDRyxnRUFBYUE7OztLQTVFVlc7QUFvNUJNLFNBQVNrTztJQUN0QixxQkFDRSw4REFBQzFQLCtEQUFXQTs7MEJBQ1YsOERBQUNzQixxREFBT0E7Z0JBQUNxTyxVQUFTOzs7Ozs7MEJBQ2xCLDhEQUFDbk87Ozs7Ozs7Ozs7O0FBR1A7TUFQd0JrTyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9hcHAvcGFnZS50c3g/NzYwMyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCdcblxuaW1wb3J0IEFkZFRvUGxheWxpc3RNb2RhbCBmcm9tICdAL2NvbXBvbmVudHMvQWRkVG9QbGF5bGlzdE1vZGFsJztcbmltcG9ydCBBdXRoV3JhcHBlciBmcm9tICdAL2NvbXBvbmVudHMvQXV0aFdyYXBwZXInO1xuaW1wb3J0IENyZWF0ZVBsYXlsaXN0TW9kYWwgZnJvbSAnQC9jb21wb25lbnRzL0NyZWF0ZVBsYXlsaXN0TW9kYWwnO1xuaW1wb3J0IEhvbWVQYWdlIGZyb20gJ0AvY29tcG9uZW50cy9Ib21lUGFnZSc7XG5pbXBvcnQgTGlrZWRTb25nc1BhZ2UgZnJvbSAnQC9jb21wb25lbnRzL0xpa2VkU29uZ3NQYWdlJztcbmltcG9ydCBNYXhpbWl6ZWRQbGF5ZXIgZnJvbSAnQC9jb21wb25lbnRzL01heGltaXplZFBsYXllcic7XG5pbXBvcnQgTWluaW1pemVkUGxheWVyIGZyb20gJ0AvY29tcG9uZW50cy9NaW5pbWl6ZWRQbGF5ZXInO1xuaW1wb3J0IFBsYXlsaXN0c1BhZ2UgZnJvbSAnQC9jb21wb25lbnRzL1BsYXlsaXN0c1BhZ2UnO1xuaW1wb3J0IFNlYXJjaFBhZ2UgZnJvbSAnQC9jb21wb25lbnRzL1NlYXJjaFBhZ2UnO1xuaW1wb3J0IFNldHRpbmdzUGFnZSBmcm9tICdAL2NvbXBvbmVudHMvU2V0dGluZ3NQYWdlJztcbmltcG9ydCBTbGVlcFRpbWVyTW9kYWwgZnJvbSAnQC9jb21wb25lbnRzL1NsZWVwVGltZXJNb2RhbCc7XG5pbXBvcnQgeyB1c2VUaGVtZSB9IGZyb20gJ0AvY29tcG9uZW50cy9UaGVtZUNvbnRleHQnO1xuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gJ0AvaG9va3MvdXNlQXV0aCc7XG5pbXBvcnQgeyB1c2VRdWV1ZSB9IGZyb20gJ0AvaG9va3MvdXNlUXVldWUnO1xuaW1wb3J0IHsgdXNlU2xlZXBUaW1lciB9IGZyb20gJ0AvaG9va3MvdXNlU2xlZXBUaW1lcic7XG5pbXBvcnQgeyB1c2VTdXBhYmFzZURhdGEgfSBmcm9tICdAL2hvb2tzL3VzZVN1cGFiYXNlRGF0YSc7XG5pbXBvcnQgeyBTb25nIH0gZnJvbSAnQC90eXBlcyc7XG5pbXBvcnQgeyBIb21lIGFzIEhvbWVJY29uLCBTZWFyY2gsIFNldHRpbmdzIH0gZnJvbSAnbHVjaWRlLXJlYWN0JztcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFRvYXN0ZXIsIHRvYXN0IH0gZnJvbSAncmVhY3QtaG90LXRvYXN0JztcblxuXG5mdW5jdGlvbiBNdXNpY1BsYXllckNvbnRlbnQoKSB7XG4gIGNvbnN0IHsgdXNlciB9ID0gdXNlQXV0aCgpO1xuICBjb25zdCB7XG4gICAgc29uZ3MsXG4gICAgcGxheWxpc3RzLFxuICAgIGxpa2VkU29uZ3MsXG4gICAgcmVjZW50bHlQbGF5ZWRTb25ncyxcbiAgICBsYXN0UGxheWVkU29uZyxcbiAgICBsb2FkaW5nLFxuICAgIHRvZ2dsZUxpa2UsXG4gICAgY3JlYXRlUGxheWxpc3QsXG4gICAgZGVsZXRlUGxheWxpc3QsXG4gICAgcmVuYW1lUGxheWxpc3QsXG4gICAgYWRkU29uZ1RvUGxheWxpc3QsXG4gICAgcmVtb3ZlU29uZ0Zyb21QbGF5bGlzdCxcbiAgICByZWNvcmRMaXN0ZW5pbmdIaXN0b3J5LFxuICAgIHN0b3BDdXJyZW50U29uZ1RyYWNraW5nLFxuICAgIGdldFBlcnNvbmFsaXplZFNvbmdzLFxuICAgIGdldFNtYXJ0UGVyc29uYWxpemVkU29uZ3NcbiAgfSA9IHVzZVN1cGFiYXNlRGF0YSh1c2VyKTtcbiAgXG4gIGNvbnN0IHtcbiAgICBxdWV1ZSxcbiAgICBhZGRUb1F1ZXVlLFxuICAgIHJlbW92ZUZyb21RdWV1ZSxcbiAgICBnZXROZXh0U29uZ0Zyb21RdWV1ZSxcbiAgICBjbGVhclF1ZXVlLFxuICAgIGhhc1F1ZXVlXG4gIH0gPSB1c2VRdWV1ZSgpO1xuXG4gIGNvbnN0IFthY3RpdmVUYWIsIHNldEFjdGl2ZVRhYl0gPSB1c2VTdGF0ZTwnaG9tZScgfCAnc2VhcmNoJyB8ICdzZXR0aW5ncyc+KCdob21lJyk7XG4gIGNvbnN0IFtjdXJyZW50UGFnZSwgc2V0Q3VycmVudFBhZ2VdID0gdXNlU3RhdGU8J21haW4nIHwgJ3BsYXlsaXN0cycgfCAnbGlrZWQnPignbWFpbicpO1xuICBjb25zdCBbY3VycmVudFNvbmcsIHNldEN1cnJlbnRTb25nXSA9IHVzZVN0YXRlPFNvbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2lzUGxheWluZywgc2V0SXNQbGF5aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lzUGxheWVyTWF4aW1pemVkLCBzZXRJc1BsYXllck1heGltaXplZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93Q3JlYXRlUGxheWxpc3RNb2RhbCwgc2V0U2hvd0NyZWF0ZVBsYXlsaXN0TW9kYWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd0FkZFRvUGxheWxpc3RNb2RhbCwgc2V0U2hvd0FkZFRvUGxheWxpc3RNb2RhbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93U2xlZXBUaW1lck1vZGFsLCBzZXRTaG93U2xlZXBUaW1lck1vZGFsXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3NlbGVjdGVkU29uZ0ZvclBsYXlsaXN0LCBzZXRTZWxlY3RlZFNvbmdGb3JQbGF5bGlzdF0gPSB1c2VTdGF0ZTxTb25nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtoYXNTZXRMYXN0UGxheWVkU29uZywgc2V0SGFzU2V0TGFzdFBsYXllZFNvbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbGFzdFBsYXllZFNvbmdEaXNtaXNzZWQsIHNldExhc3RQbGF5ZWRTb25nRGlzbWlzc2VkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgeyBpc0RhcmtNb2RlLCB0b2dnbGVUaGVtZSB9ID0gdXNlVGhlbWUoKTtcbiAgY29uc3QgW2Rpc3BsYXlDb3VudCwgc2V0RGlzcGxheUNvdW50XSA9IHVzZVN0YXRlKDE1KTtcbiAgY29uc3QgW2ltYWdlVXJscywgc2V0SW1hZ2VVcmxzXSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIHN0cmluZz4+KHt9KTtcbiAgY29uc3QgW2F1ZGlvVXJsLCBzZXRBdWRpb1VybF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgYXVkaW9SZWYgPSB1c2VSZWY8SFRNTEF1ZGlvRWxlbWVudCB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbY3VycmVudFRpbWUsIHNldEN1cnJlbnRUaW1lXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbZHVyYXRpb24sIHNldER1cmF0aW9uXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbdm9sdW1lLCBzZXRWb2x1bWVdID0gdXNlU3RhdGUoMSk7IC8vIGRlZmF1bHQgNzUlXG4gIGNvbnN0IFtpc1NlZWtpbmcsIHNldElzU2Vla2luZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtwZW5kaW5nU2Vla1RpbWUsIHNldFBlbmRpbmdTZWVrVGltZV0gPSB1c2VTdGF0ZTxudW1iZXIgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2lzRXh0ZXJuYWxseVNlZWtpbmcsIHNldElzRXh0ZXJuYWxseVNlZWtpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcmVjb21tZW5kZWRRdWV1ZSwgc2V0UmVjb21tZW5kZWRRdWV1ZV0gPSB1c2VTdGF0ZTxTb25nW10+KFtdKVxuICBjb25zdCBbcGxheWVkU29uZ3MsIHNldFBsYXllZFNvbmdzXSA9IHVzZVN0YXRlPFNldDxzdHJpbmc+PihuZXcgU2V0KCkpICBcbiAgY29uc3QgW3BlcnNvbmFsaXplZExpc3QsIHNldFBlcnNvbmFsaXplZExpc3RdID0gdXNlU3RhdGU8U29uZ1tdPihbXSk7XG4gIGNvbnN0IFtjdXJyZW50U29uZ0luZGV4LCBzZXRDdXJyZW50U29uZ0luZGV4XSA9IHVzZVN0YXRlPG51bWJlcj4oMCk7XG4gIGNvbnN0IFtsaXN0ZW5lZFNvbmdzLCBzZXRMaXN0ZW5lZFNvbmdzXSA9IHVzZVN0YXRlPFNldDxzdHJpbmc+PihuZXcgU2V0KCkpO1xuICBjb25zdCBbaXNGZXRjaGluZ01vcmUsIHNldElzRmV0Y2hpbmdNb3JlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgXG4gIC8vIFNtYXJ0IHJlY29tbWVuZGF0aW9uIHN5c3RlbSBzdGF0ZVxuICBjb25zdCBbY3VycmVudEJhdGNoTGlzdGVuZWRTb25ncywgc2V0Q3VycmVudEJhdGNoTGlzdGVuZWRTb25nc10gPSB1c2VTdGF0ZTxTb25nW10+KFtdKTtcbiAgY29uc3QgW3NvbmdTdGFydFRpbWUsIHNldFNvbmdTdGFydFRpbWVdID0gdXNlU3RhdGU8RGF0ZSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbYmF0Y2hTdGFydEluZGV4LCBzZXRCYXRjaFN0YXJ0SW5kZXhdID0gdXNlU3RhdGUoMCk7XG4gIFxuICAvLyBTaHVmZmxlIGFuZCByZXBlYXQgc3RhdGVcbiAgY29uc3QgW2lzU2h1ZmZsZUVuYWJsZWQsIHNldElzU2h1ZmZsZUVuYWJsZWRdID0gdXNlU3RhdGUodHJ1ZSk7IC8vIFNodWZmbGUgb24gYnkgZGVmYXVsdFxuICBjb25zdCBbcmVwZWF0TW9kZSwgc2V0UmVwZWF0TW9kZV0gPSB1c2VTdGF0ZTwnb2ZmJyB8ICdvbmNlJyB8ICdpbmZpbml0ZSc+KCdvZmYnKTtcblxuICAvLyBTbGVlcCB0aW1lclxuICBjb25zdCB7XG4gICAgc2xlZXBUaW1lcixcbiAgICByZW1haW5pbmdUaW1lLFxuICAgIHN0YXJ0VGltZXIsXG4gICAgY2FuY2VsVGltZXIsXG4gICAgdHJpZ2dlckFmdGVyU29uZ1RpbWVyLFxuICAgIGlzQWN0aXZlOiBpc1NsZWVwVGltZXJBY3RpdmVcbiAgfSA9IHVzZVNsZWVwVGltZXIoKTtcblxuY29uc3QgbG9hZE1vcmVTb25ncyA9ICgpID0+IHtcbiAgc2V0RGlzcGxheUNvdW50KHByZXYgPT4gcHJldiArIDE1KTtcbn07XG5cbmNvbnN0IGRpc3BsYXllZFNvbmdzID0gc29uZ3Muc2xpY2UoMCwgZGlzcGxheUNvdW50KTtcbnVzZUVmZmVjdCgoKSA9PiB7XG4gIGNvbnN0IGxvYWRBdWRpbyA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoY3VycmVudFNvbmc/LmZpbGVfaWQpIHtcbiAgICAgIGNvbnN0IHVybCA9IGAvYXBpL2F1ZGlvLXByb3h5P2ZpbGVpZD0ke2N1cnJlbnRTb25nLmZpbGVfaWR9YDtcbiAgICAgIHNldEF1ZGlvVXJsKHVybCk7XG5cbiAgICAgIHNldER1cmF0aW9uKDApO1xuICAgICAgc2V0Q3VycmVudFRpbWUoMCk7XG4gICAgICBzZXRQZW5kaW5nU2Vla1RpbWUobnVsbCk7XG4gICAgfVxuICB9O1xuXG4gIGxvYWRBdWRpbygpO1xufSwgW2N1cnJlbnRTb25nPy5maWxlX2lkXSk7XG5cbnVzZUVmZmVjdCgoKSA9PiB7XG4gIGlmIChhdWRpb1JlZi5jdXJyZW50KSB7XG4gICAgYXVkaW9SZWYuY3VycmVudC52b2x1bWUgPSB2b2x1bWU7XG4gIH1cbn0sIFt2b2x1bWVdKTtcblxudXNlRWZmZWN0KCgpID0+IHtcbiAgY29uc3QgYXVkaW8gPSBhdWRpb1JlZi5jdXJyZW50O1xuICBpZiAoIWF1ZGlvKSByZXR1cm47XG5cbiAgaWYgKCFpc05hTihhdWRpby5kdXJhdGlvbikgJiYgaXNQbGF5aW5nKSB7XG4gICAgLy8gRHVyYXRpb24gaXMgdmFsaWQsIHNhZmUgdG8gcGxheVxuICAgIGF1ZGlvLnBsYXkoKS5jYXRjaCgoZSkgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcignUGxheWJhY2sgZXJyb3I6JywgZSk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoIWlzUGxheWluZykge1xuICAgIGF1ZGlvLnBhdXNlKCk7XG4gIH1cbn0sIFtpc1BsYXlpbmddKTtcblxuXG5cblxuLy8gTG9hZCBpbWFnZXMgZm9yIGN1cnJlbnRseSBkaXNwbGF5ZWQgc29uZ3NcbnVzZUVmZmVjdCgoKSA9PiB7XG4gIGNvbnN0IGZldGNoSW1hZ2VzID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IG5ld1VybHM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcblxuICAgIC8vIFNvbmdzIGZyb20gdGhlIG1haW4gZmVlZFxuICAgIGNvbnN0IHNvbmdzVG9Mb2FkID0gc29uZ3Muc2xpY2UoMCwgZGlzcGxheUNvdW50KTtcbiAgICBmb3IgKGNvbnN0IHNvbmcgb2Ygc29uZ3NUb0xvYWQpIHtcbiAgICAgIGlmICghaW1hZ2VVcmxzW3NvbmcuaWRdKSB7XG4gICAgICAgIG5ld1VybHNbc29uZy5pZF0gPSBgL2FwaS9pbWFnZS1wcm94eT9maWxlaWQ9JHtzb25nLmltZ19pZH1gO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFNvbmdzIGZyb20gcGxheWxpc3RzXG4gICAgZm9yIChjb25zdCBwbGF5bGlzdCBvZiBwbGF5bGlzdHMpIHtcbiAgICAgIGZvciAoY29uc3Qgc29uZyBvZiBwbGF5bGlzdC5zb25ncykge1xuICAgICAgICBpZiAoIWltYWdlVXJsc1tzb25nLmlkXSkge1xuICAgICAgICAgIG5ld1VybHNbc29uZy5pZF0gPSBgL2FwaS9pbWFnZS1wcm94eT9maWxlaWQ9JHtzb25nLmltZ19pZH1gO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTGlrZWQgc29uZ3NcbiAgICBmb3IgKGNvbnN0IHNvbmcgb2YgbGlrZWRTb25ncykge1xuICAgICAgaWYgKCFpbWFnZVVybHNbc29uZy5pZF0pIHtcbiAgICAgICAgbmV3VXJsc1tzb25nLmlkXSA9IGAvYXBpL2ltYWdlLXByb3h5P2ZpbGVpZD0ke3NvbmcuaW1nX2lkfWA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQXBwbHkgaWYgbmV3IFVSTHMgZm91bmRcbiAgICBpZiAoT2JqZWN0LmtleXMobmV3VXJscykubGVuZ3RoID4gMCkge1xuICAgICAgc2V0SW1hZ2VVcmxzKHByZXYgPT4gKHsgLi4ucHJldiwgLi4ubmV3VXJscyB9KSk7XG4gICAgfVxuICB9O1xuXG4gIGZldGNoSW1hZ2VzKCk7XG59LCBbZGlzcGxheUNvdW50LCBzb25ncywgcGxheWxpc3RzLCBsaWtlZFNvbmdzXSk7XG5cblxudXNlRWZmZWN0KCgpID0+IHtcbiAgY29uc29sZS5sb2coJ/CfjrUgcGVyc29uYWxpemVkTGlzdCB1cGRhdGVkOicsIHBlcnNvbmFsaXplZExpc3QpO1xufSwgW3BlcnNvbmFsaXplZExpc3RdKTtcblxuICAvLyBTZXQgbGFzdCBwbGF5ZWQgc29uZyBhcyBjdXJyZW50IHNvbmcgd2hlbiBkYXRhIGxvYWRzIChvbmx5IG9uY2UgYW5kIGlmIG5vdCBkaXNtaXNzZWQpXG51c2VFZmZlY3QoKCkgPT4ge1xuICBjb25zdCBsb2FkTGFzdFBsYXllZEltYWdlID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICh1c2VyICYmIGxhc3RQbGF5ZWRTb25nICYmICFoYXNTZXRMYXN0UGxheWVkU29uZyAmJiAhbGFzdFBsYXllZFNvbmdEaXNtaXNzZWQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn461IExvYWRpbmcgaW5pdGlhbCBwZXJzb25hbGl6ZWQgc29uZ3MgZm9yIGxhc3QgcGxheWVkIHNvbmcnKTtcbiAgICAgICAgY29uc3QgaW5pdGlhbFJlY3MgPSBhd2FpdCBnZXRQZXJzb25hbGl6ZWRTb25ncyh1c2VyLmlkLCBsYXN0UGxheWVkU29uZywgbGlzdGVuZWRTb25ncyk7XG4gICAgICAgIGNvbnN0IGZpbHRlcmVkID0gaW5pdGlhbFJlY3MuZmlsdGVyKHNvbmcgPT4gIXBsYXllZFNvbmdzLmhhcyhzb25nLmZpbGVfaWQudG9TdHJpbmcoKSkpO1xuICAgICAgICBjb25zdCBuZXdQZXJzb25hbGl6ZWRMaXN0ID0gW2xhc3RQbGF5ZWRTb25nLCAuLi5maWx0ZXJlZC5zbGljZSgwLCA0KV07XG4gICAgICAgIHNldFBlcnNvbmFsaXplZExpc3QobmV3UGVyc29uYWxpemVkTGlzdCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUgSW5pdGlhbCBwZXJzb25hbGl6ZWQgbGlzdCBzZXQ6JywgbmV3UGVyc29uYWxpemVkTGlzdC5sZW5ndGgsICdzb25ncycpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGxvYWRpbmcgaW5pdGlhbCBwZXJzb25hbGl6ZWQgc29uZ3M6JywgZXJyb3IpO1xuICAgICAgICBzZXRQZXJzb25hbGl6ZWRMaXN0KFtsYXN0UGxheWVkU29uZ10pO1xuICAgICAgfVxuICAgICAgXG4gICAgICBzZXRDdXJyZW50U29uZyhsYXN0UGxheWVkU29uZyk7XG4gICAgICBzZXRIYXNTZXRMYXN0UGxheWVkU29uZyh0cnVlKTtcblxuICAgICAgLy8gQWRkIHRvIGxpc3RlbmVkIHNvbmdzIGFuZCBsb2dcbiAgICAgIHNldExpc3RlbmVkU29uZ3MocHJldiA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1NldCA9IG5ldyBTZXQocHJldik7XG4gICAgICAgIG5ld1NldC5hZGQobGFzdFBsYXllZFNvbmcuZmlsZV9pZC50b1N0cmluZygpKTtcbiAgICAgICAgY29uc29sZS5sb2coJ/CfjrUgTGlzdGVuZWQgU29uZ3MgTGlzdDonLCBBcnJheS5mcm9tKG5ld1NldCkpO1xuICAgICAgICByZXR1cm4gbmV3U2V0O1xuICAgICAgfSk7XG5cbiAgICAgIGlmICghaW1hZ2VVcmxzW2xhc3RQbGF5ZWRTb25nLmltZ19pZF0pIHtcbiAgICAgICAgY29uc3QgdXJsID0gYC9hcGkvaW1hZ2UtcHJveHk/ZmlsZWlkPSR7bGFzdFBsYXllZFNvbmcuaW1nX2lkfWA7XG4gICAgICAgIHNldEltYWdlVXJscygocHJldikgPT4gKHtcbiAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgIFtsYXN0UGxheWVkU29uZy5pbWdfaWRdOiB1cmxcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBsb2FkTGFzdFBsYXllZEltYWdlKCk7XG59LCBbbGFzdFBsYXllZFNvbmcsIGhhc1NldExhc3RQbGF5ZWRTb25nLCBsYXN0UGxheWVkU29uZ0Rpc21pc3NlZCwgdXNlciwgZ2V0UGVyc29uYWxpemVkU29uZ3NdKTtcblxuXG5jb25zdCBoYW5kbGVTb25nUGxheSA9IGFzeW5jIChzb25nOiBTb25nKSA9PiB7XG4gIC8vIFJlY29yZCBpZiBwcmV2aW91cyBzb25nIHdhcyBsaXN0ZW5lZCB0byAoPjIwIHNlY29uZHMpXG4gIGlmIChjdXJyZW50U29uZyAmJiBzb25nU3RhcnRUaW1lKSB7XG4gICAgY29uc3QgbGlzdGVuRHVyYXRpb24gPSAobmV3IERhdGUoKS5nZXRUaW1lKCkgLSBzb25nU3RhcnRUaW1lLmdldFRpbWUoKSkgLyAxMDAwO1xuICAgIGlmIChsaXN0ZW5EdXJhdGlvbiA+IDIwKSB7XG4gICAgICBjb25zb2xlLmxvZyhg4pyFIFVzZXIgbGlzdGVuZWQgdG8gXCIke2N1cnJlbnRTb25nLm5hbWV9XCIgZm9yICR7bGlzdGVuRHVyYXRpb24udG9GaXhlZCgxKX0gc2Vjb25kc2ApO1xuICAgICAgc2V0Q3VycmVudEJhdGNoTGlzdGVuZWRTb25ncyhwcmV2ID0+IHtcbiAgICAgICAgY29uc3QgZXhpc3RzID0gcHJldi5zb21lKHMgPT4gcy5maWxlX2lkID09PSBjdXJyZW50U29uZy5maWxlX2lkKTtcbiAgICAgICAgaWYgKCFleGlzdHMpIHtcbiAgICAgICAgICBjb25zdCB1cGRhdGVkID0gWy4uLnByZXYsIGN1cnJlbnRTb25nXTtcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+OtSBDdXJyZW50IGJhdGNoIGxpc3RlbmVkIHNvbmdzOicsIHVwZGF0ZWQubWFwKHMgPT4gcy5uYW1lKSk7XG4gICAgICAgICAgcmV0dXJuIHVwZGF0ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coYOKPre+4jyBVc2VyIHNraXBwZWQgXCIke2N1cnJlbnRTb25nLm5hbWV9XCIgYWZ0ZXIgJHtsaXN0ZW5EdXJhdGlvbi50b0ZpeGVkKDEpfSBzZWNvbmRzYCk7XG4gICAgfVxuICB9XG5cbiAgc2V0Q3VycmVudFNvbmcoc29uZyk7XG4gIHNldElzUGxheWluZyh0cnVlKTtcbiAgc2V0TGFzdFBsYXllZFNvbmdEaXNtaXNzZWQoZmFsc2UpO1xuICByZWNvcmRMaXN0ZW5pbmdIaXN0b3J5KHNvbmcuaWQpO1xuICBzZXRTb25nU3RhcnRUaW1lKG5ldyBEYXRlKCkpOyAvLyBUcmFjayB3aGVuIHRoaXMgc29uZyBzdGFydGVkXG5cbiAgLy8gQWRkIHRvIGxpc3RlbmVkIHNvbmdzIGFuZCBsb2dcbiAgc2V0TGlzdGVuZWRTb25ncyhwcmV2ID0+IHtcbiAgICBjb25zdCBuZXdTZXQgPSBuZXcgU2V0KHByZXYpO1xuICAgIG5ld1NldC5hZGQoc29uZy5maWxlX2lkLnRvU3RyaW5nKCkpO1xuICAgIGNvbnNvbGUubG9nKCfwn461IExpc3RlbmVkIFNvbmdzIExpc3Q6JywgQXJyYXkuZnJvbShuZXdTZXQpKTtcbiAgICByZXR1cm4gbmV3U2V0O1xuICB9KTtcblxuICBzZXRQbGF5ZWRTb25ncygocHJldikgPT4ge1xuICAgIGNvbnN0IHVwZGF0ZWQgPSBuZXcgU2V0KHByZXYpO1xuICAgIHVwZGF0ZWQuYWRkKHNvbmcuZmlsZV9pZC50b1N0cmluZygpKTtcbiAgICByZXR1cm4gdXBkYXRlZDtcbiAgfSk7XG5cbiAgaWYgKHVzZXIpIHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coJ/CfjrUgRmV0Y2hpbmcgcGVyc29uYWxpemVkIHNvbmdzIGZvcjonLCBzb25nLm5hbWUpO1xuICAgICAgY29uc3QgcmVjcyA9IGF3YWl0IGdldFBlcnNvbmFsaXplZFNvbmdzKHVzZXIuaWQsIHNvbmcsIGxpc3RlbmVkU29uZ3MpO1xuICAgICAgY29uc3QgZmlsdGVyZWQgPSByZWNzLmZpbHRlcihzID0+ICFwbGF5ZWRTb25ncy5oYXMocy5maWxlX2lkLnRvU3RyaW5nKCkpKTtcbiAgICAgIGNvbnN0IG5ld1BlcnNvbmFsaXplZExpc3QgPSBbc29uZywgLi4uZmlsdGVyZWQuc2xpY2UoMCwgNCldO1xuICAgICAgc2V0UGVyc29uYWxpemVkTGlzdChuZXdQZXJzb25hbGl6ZWRMaXN0KTtcbiAgICAgIHNldEN1cnJlbnRTb25nSW5kZXgoMCk7XG4gICAgICBzZXRCYXRjaFN0YXJ0SW5kZXgoMCk7XG4gICAgICBzZXRDdXJyZW50QmF0Y2hMaXN0ZW5lZFNvbmdzKFtdKTsgLy8gUmVzZXQgYmF0Y2ggZm9yIG5ldyBzb25nIHNlbGVjdGlvblxuICAgICAgY29uc29sZS5sb2coJ+KchSBOZXcgcGVyc29uYWxpemVkIGxpc3Qgc2V0OicsIG5ld1BlcnNvbmFsaXplZExpc3QubGVuZ3RoLCAnc29uZ3MnKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGZldGNoaW5nIHBlcnNvbmFsaXplZCBzb25nczonLCBlcnJvcik7XG4gICAgICBzZXRQZXJzb25hbGl6ZWRMaXN0KFtzb25nXSk7XG4gICAgICBzZXRDdXJyZW50U29uZ0luZGV4KDApO1xuICAgICAgc2V0QmF0Y2hTdGFydEluZGV4KDApO1xuICAgICAgc2V0Q3VycmVudEJhdGNoTGlzdGVuZWRTb25ncyhbXSk7XG4gICAgfVxuICB9XG59O1xuXG5cbiAgY29uc3QgaGFuZGxlQWRkVG9RdWV1ZSA9IChzb25nOiBTb25nKSA9PiB7XG4gIGFkZFRvUXVldWUoc29uZyk7XG4gIHRvYXN0LnN1Y2Nlc3MoYEFkZGVkIFwiJHtzb25nLm5hbWV9XCIgdG8gcXVldWVgKTtcbn07XG5cbiAgY29uc3QgdG9nZ2xlUGxheSA9ICgpID0+IHtcbiAgICBzZXRJc1BsYXlpbmcoIWlzUGxheWluZyk7XG4gIH07XG5cbiAgY29uc3QgdG9nZ2xlUGxheWVyU2l6ZSA9ICgpID0+IHtcbiAgICBzZXRJc1BsYXllck1heGltaXplZCghaXNQbGF5ZXJNYXhpbWl6ZWQpO1xuICB9O1xuXG4gIGNvbnN0IGNsb3NlUGxheWVyID0gYXN5bmMgKCkgPT4ge1xuICAgIC8vIFN0b3AgdHJhY2tpbmcgY3VycmVudCBzb25nIGJlZm9yZSBjbG9zaW5nXG4gICAgYXdhaXQgc3RvcEN1cnJlbnRTb25nVHJhY2tpbmcoKTtcbiAgICBzZXRDdXJyZW50U29uZyhudWxsKTtcbiAgICBzZXRJc1BsYXlpbmcoZmFsc2UpO1xuICAgIHNldElzUGxheWVyTWF4aW1pemVkKGZhbHNlKTtcbiAgICBcbiAgICAvLyBNYXJrIGxhc3QgcGxheWVkIHNvbmcgYXMgZGlzbWlzc2VkIHNvIGl0IHdvbid0IGF1dG8tbG9hZCBhZ2FpblxuICAgIHNldExhc3RQbGF5ZWRTb25nRGlzbWlzc2VkKHRydWUpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVRvZ2dsZUxpa2UgPSAoc29uZ0lkOiBzdHJpbmcpID0+IHtcbiAgICB0b2dnbGVMaWtlKHNvbmdJZCk7XG4gICAgXG4gICAgLy8gVXBkYXRlIGN1cnJlbnQgc29uZyBzdGF0ZSBpZiBpdCdzIHRoZSBvbmUgYmVpbmcgbGlrZWQvdW5saWtlZFxuICAgIGlmIChjdXJyZW50U29uZyAmJiBjdXJyZW50U29uZy5pZCA9PT0gc29uZ0lkKSB7XG4gICAgICBzZXRDdXJyZW50U29uZyhwcmV2ID0+IHByZXYgPyB7IC4uLnByZXYsIGlzTGlrZWQ6ICFwcmV2LmlzTGlrZWQgfSA6IG51bGwpO1xuICAgIH1cbiAgfTtcblxuY29uc3QgaGFuZGxlUHJldmlvdXMgPSAoKSA9PiB7XG4gIC8vIFJlY29yZCBpZiBjdXJyZW50IHNvbmcgd2FzIGxpc3RlbmVkIHRvIGJlZm9yZSBnb2luZyB0byBwcmV2aW91c1xuICBpZiAoY3VycmVudFNvbmcgJiYgc29uZ1N0YXJ0VGltZSkge1xuICAgIGNvbnN0IGxpc3RlbkR1cmF0aW9uID0gKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gc29uZ1N0YXJ0VGltZS5nZXRUaW1lKCkpIC8gMTAwMDtcbiAgICBpZiAobGlzdGVuRHVyYXRpb24gPiAyMCkge1xuICAgICAgY29uc29sZS5sb2coYOKchSBVc2VyIGxpc3RlbmVkIHRvIFwiJHtjdXJyZW50U29uZy5uYW1lfVwiIGZvciAke2xpc3RlbkR1cmF0aW9uLnRvRml4ZWQoMSl9IHNlY29uZHNgKTtcbiAgICAgIHNldEN1cnJlbnRCYXRjaExpc3RlbmVkU29uZ3MocHJldiA9PiB7XG4gICAgICAgIGNvbnN0IGV4aXN0cyA9IHByZXYuc29tZShzID0+IHMuZmlsZV9pZCA9PT0gY3VycmVudFNvbmcuZmlsZV9pZCk7XG4gICAgICAgIGlmICghZXhpc3RzKSB7XG4gICAgICAgICAgY29uc3QgdXBkYXRlZCA9IFsuLi5wcmV2LCBjdXJyZW50U29uZ107XG4gICAgICAgICAgY29uc29sZS5sb2coJ/CfjrUgQ3VycmVudCBiYXRjaCBsaXN0ZW5lZCBzb25nczonLCB1cGRhdGVkLm1hcChzID0+IHMubmFtZSkpO1xuICAgICAgICAgIHJldHVybiB1cGRhdGVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFjdXJyZW50U29uZykgcmV0dXJuO1xuXG4gIC8vIENoZWNrIGlmIHRoZXJlJ3MgYSBwcmV2aW91cyBzb25nIGluIHRoZSBwZXJzb25hbGl6ZWQgbGlzdFxuICBpZiAoY3VycmVudFNvbmdJbmRleCA+IDApIHtcbiAgICBjb25zdCBwcmV2SW5kZXggPSBjdXJyZW50U29uZ0luZGV4IC0gMTtcbiAgICBjb25zdCBwcmV2U29uZyA9IHBlcnNvbmFsaXplZExpc3RbcHJldkluZGV4XTtcbiAgICBcbiAgICBpZiAocHJldlNvbmcpIHtcbiAgICAgIHNldEN1cnJlbnRTb25nKHByZXZTb25nKTtcbiAgICAgIHNldEN1cnJlbnRTb25nSW5kZXgocHJldkluZGV4KTtcbiAgICAgIHNldElzUGxheWluZyh0cnVlKTtcbiAgICAgIHNldExhc3RQbGF5ZWRTb25nRGlzbWlzc2VkKGZhbHNlKTtcbiAgICAgIHJlY29yZExpc3RlbmluZ0hpc3RvcnkocHJldlNvbmcuaWQpO1xuICAgICAgc2V0U29uZ1N0YXJ0VGltZShuZXcgRGF0ZSgpKTtcblxuICAgICAgLy8gQWRkIHRvIGxpc3RlbmVkIHNvbmdzIGFuZCBsb2dcbiAgICAgIHNldExpc3RlbmVkU29uZ3MocHJldiA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1NldCA9IG5ldyBTZXQocHJldik7XG4gICAgICAgIG5ld1NldC5hZGQocHJldlNvbmcuZmlsZV9pZC50b1N0cmluZygpKTtcbiAgICAgICAgY29uc29sZS5sb2coJ/CfjrUgTGlzdGVuZWQgU29uZ3MgTGlzdDonLCBBcnJheS5mcm9tKG5ld1NldCkpO1xuICAgICAgICByZXR1cm4gbmV3U2V0O1xuICAgICAgfSk7XG5cbiAgICAgIHNldFBsYXllZFNvbmdzKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBuZXcgU2V0KHByZXYpO1xuICAgICAgICB1cGRhdGVkLmFkZChwcmV2U29uZy5maWxlX2lkLnRvU3RyaW5nKCkpO1xuICAgICAgICByZXR1cm4gdXBkYXRlZDtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBQcmVsb2FkIGltYWdlXG4gICAgICBpZiAoIWltYWdlVXJsc1twcmV2U29uZy5pbWdfaWRdKSB7XG4gICAgICAgIGNvbnN0IG5ld1VybCA9IGAvYXBpL2ltYWdlLXByb3h5P2ZpbGVpZD0ke3ByZXZTb25nLmltZ19pZH1gO1xuICAgICAgICBzZXRJbWFnZVVybHMocHJldiA9PiAoeyAuLi5wcmV2LCBbcHJldlNvbmcuaW1nX2lkXTogbmV3VXJsIH0pKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gSWYgYXQgdGhlIGJlZ2lubmluZywganVzdCByZXN0YXJ0IGN1cnJlbnQgc29uZ1xuICAgIHNldEN1cnJlbnRUaW1lKDApO1xuICAgIHNldElzUGxheWluZyh0cnVlKTtcbiAgfVxufTtcblxudXNlRWZmZWN0KCgpID0+IHtcbiAgaWYgKCFjdXJyZW50U29uZykgcmV0dXJuO1xuXG4gIGNvbnN0IGN1cnJlbnRJbmRleCA9IHNvbmdzLmZpbmRJbmRleChzb25nID0+IHNvbmcuaWQgPT09IGN1cnJlbnRTb25nLmlkKTtcbiAgY29uc3QgbmV4dEluZGV4ID0gY3VycmVudEluZGV4IDwgc29uZ3MubGVuZ3RoIC0gMSA/IGN1cnJlbnRJbmRleCArIDEgOiAwO1xuICBjb25zdCBuZXh0U29uZyA9IHNvbmdzW25leHRJbmRleF07XG5cbiAgLy8gUHJlbG9hZCBuZXh0IHNvbmcgaW1hZ2UgaWYgbm90IGluIGNhY2hlXG4gIGlmIChuZXh0U29uZyAmJiAhaW1hZ2VVcmxzW25leHRTb25nLmltZ19pZF0pIHtcbiAgICBjb25zdCBuZXdVcmwgPSBgL2FwaS9pbWFnZS1wcm94eT9maWxlaWQ9JHtuZXh0U29uZy5pbWdfaWR9YDtcbiAgICBzZXRJbWFnZVVybHMocHJldiA9PiAoeyAuLi5wcmV2LCBbbmV4dFNvbmcuaW1nX2lkXTogbmV3VXJsIH0pKTtcbiAgfVxufSwgW2N1cnJlbnRTb25nLCBzb25nc10pO1xuXG5jb25zdCBoYW5kbGVMb2FkZWRNZXRhZGF0YSA9IGFzeW5jICgpID0+IHtcbiAgY29uc3QgYXVkaW8gPSBhdWRpb1JlZi5jdXJyZW50O1xuICBpZiAoIWF1ZGlvKSByZXR1cm47XG5cbiAgY29uc3QgbG9hZGVkRHVyYXRpb24gPSBhdWRpby5kdXJhdGlvbjtcblxuICBpZiAoIWlzTmFOKGxvYWRlZER1cmF0aW9uKSAmJiBpc0Zpbml0ZShsb2FkZWREdXJhdGlvbikpIHtcbiAgICBzZXREdXJhdGlvbihsb2FkZWREdXJhdGlvbik7XG5cbiAgICBpZiAocGVuZGluZ1NlZWtUaW1lICE9PSBudWxsKSB7XG4gICAgICBhdWRpby5jdXJyZW50VGltZSA9IHBlbmRpbmdTZWVrVGltZTtcbiAgICAgIHNldEN1cnJlbnRUaW1lKHBlbmRpbmdTZWVrVGltZSk7XG4gICAgICBzZXRQZW5kaW5nU2Vla1RpbWUobnVsbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldEN1cnJlbnRUaW1lKGF1ZGlvLmN1cnJlbnRUaW1lKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgaWYgKGlzUGxheWluZykge1xuICAgICAgICBhd2FpdCBhdWRpby5wbGF5KCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdBdXRvLXBsYXkgZXJyb3IgYWZ0ZXIgbWV0YWRhdGEgbG9hZDonLCBlcnIpO1xuICAgIH1cblxuICB9IGVsc2Uge1xuICAgIC8vIFJldHJ5IG1ldGFkYXRhIHJlYWRcbiAgICBzZXRUaW1lb3V0KGhhbmRsZUxvYWRlZE1ldGFkYXRhLCAxMDApO1xuICB9XG59O1xuXG5cblxuY29uc3QgaGFuZGxlTmV4dCA9IGFzeW5jICgpID0+IHtcbiAgLy8gUmVjb3JkIGlmIGN1cnJlbnQgc29uZyB3YXMgbGlzdGVuZWQgdG8gYmVmb3JlIGdvaW5nIHRvIG5leHRcbiAgaWYgKGN1cnJlbnRTb25nICYmIHNvbmdTdGFydFRpbWUpIHtcbiAgICBjb25zdCBsaXN0ZW5EdXJhdGlvbiA9IChuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHNvbmdTdGFydFRpbWUuZ2V0VGltZSgpKSAvIDEwMDA7XG4gICAgaWYgKGxpc3RlbkR1cmF0aW9uID4gMjApIHtcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgVXNlciBsaXN0ZW5lZCB0byBcIiR7Y3VycmVudFNvbmcubmFtZX1cIiBmb3IgJHtsaXN0ZW5EdXJhdGlvbi50b0ZpeGVkKDEpfSBzZWNvbmRzYCk7XG4gICAgICBzZXRDdXJyZW50QmF0Y2hMaXN0ZW5lZFNvbmdzKHByZXYgPT4ge1xuICAgICAgICBjb25zdCBleGlzdHMgPSBwcmV2LnNvbWUocyA9PiBzLmZpbGVfaWQgPT09IGN1cnJlbnRTb25nLmZpbGVfaWQpO1xuICAgICAgICBpZiAoIWV4aXN0cykge1xuICAgICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBbLi4ucHJldiwgY3VycmVudFNvbmddO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn461IEN1cnJlbnQgYmF0Y2ggbGlzdGVuZWQgc29uZ3M6JywgdXBkYXRlZC5tYXAocyA9PiBzLm5hbWUpKTtcbiAgICAgICAgICByZXR1cm4gdXBkYXRlZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhg4o+t77iPIFVzZXIgc2tpcHBlZCBcIiR7Y3VycmVudFNvbmcubmFtZX1cIiBhZnRlciAke2xpc3RlbkR1cmF0aW9uLnRvRml4ZWQoMSl9IHNlY29uZHNgKTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWN1cnJlbnRTb25nKSByZXR1cm47XG5cbiAgLy8gQ2hlY2sgaWYgdGhlcmUncyBhIHNvbmcgaW4gdGhlIHF1ZXVlIGZpcnN0XG4gIGNvbnN0IG5leHRRdWV1ZVNvbmcgPSBnZXROZXh0U29uZ0Zyb21RdWV1ZSgpO1xuICBpZiAobmV4dFF1ZXVlU29uZykge1xuICAgIHNldEN1cnJlbnRTb25nKG5leHRRdWV1ZVNvbmcpO1xuICAgIHNldElzUGxheWluZyh0cnVlKTtcbiAgICBzZXRMYXN0UGxheWVkU29uZ0Rpc21pc3NlZChmYWxzZSk7XG4gICAgcmVjb3JkTGlzdGVuaW5nSGlzdG9yeShuZXh0UXVldWVTb25nLmlkKTtcbiAgICBzZXRTb25nU3RhcnRUaW1lKG5ldyBEYXRlKCkpO1xuICAgIFxuICAgIC8vIEFkZCB0byBsaXN0ZW5lZCBzb25ncyBhbmQgbG9nXG4gICAgc2V0TGlzdGVuZWRTb25ncyhwcmV2ID0+IHtcbiAgICAgIGNvbnN0IG5ld1NldCA9IG5ldyBTZXQocHJldik7XG4gICAgICBuZXdTZXQuYWRkKG5leHRRdWV1ZVNvbmcuZmlsZV9pZC50b1N0cmluZygpKTtcbiAgICAgIGNvbnNvbGUubG9nKCfwn461IExpc3RlbmVkIFNvbmdzIExpc3Q6JywgQXJyYXkuZnJvbShuZXdTZXQpKTtcbiAgICAgIHJldHVybiBuZXdTZXQ7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gVXBkYXRlIHBlcnNvbmFsaXplZCBsaXN0IHdpdGggdGhlIHF1ZXVlIHNvbmdcbiAgICBpZiAodXNlcikge1xuICAgICAgY29uc3QgcmVjcyA9IGF3YWl0IGdldFBlcnNvbmFsaXplZFNvbmdzKHVzZXIuaWQsIG5leHRRdWV1ZVNvbmcsIGxpc3RlbmVkU29uZ3MpO1xuICAgICAgY29uc3QgZmlsdGVyZWQgPSByZWNzLmZpbHRlcihzID0+ICFwbGF5ZWRTb25ncy5oYXMoU3RyaW5nKHMuZmlsZV9pZCkpKTtcbiAgICAgIGNvbnN0IG5ld1BlcnNvbmFsaXplZExpc3QgPSBbbmV4dFF1ZXVlU29uZywgLi4uZmlsdGVyZWQuc2xpY2UoMCwgNCldO1xuICAgICAgc2V0UGVyc29uYWxpemVkTGlzdChuZXdQZXJzb25hbGl6ZWRMaXN0KTtcbiAgICAgIHNldEN1cnJlbnRTb25nSW5kZXgoMCk7XG4gICAgfVxuICAgIFxuICAgIC8vIFByZWxvYWQgaW1hZ2VcbiAgICBpZiAoIWltYWdlVXJsc1tuZXh0UXVldWVTb25nLmltZ19pZF0pIHtcbiAgICAgIGNvbnN0IG5ld1VybCA9IGAvYXBpL2ltYWdlLXByb3h5P2ZpbGVpZD0ke25leHRRdWV1ZVNvbmcuaW1nX2lkfWA7XG4gICAgICBzZXRJbWFnZVVybHMocHJldiA9PiAoeyAuLi5wcmV2LCBbbmV4dFF1ZXVlU29uZy5pbWdfaWRdOiBuZXdVcmwgfSkpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBDaGVjayBpZiB3ZSdyZSBhdCB0aGUgc2Vjb25kLXRvLWxhc3Qgc29uZyBhbmQgbmVlZCB0byBmZXRjaCBzbWFydCByZWNvbW1lbmRhdGlvbnNcbiAgaWYgKGN1cnJlbnRTb25nSW5kZXggPT09IHBlcnNvbmFsaXplZExpc3QubGVuZ3RoIC0gMiAmJiAhaXNGZXRjaGluZ01vcmUgJiYgdXNlciAmJiBjdXJyZW50U29uZykge1xuICAgIGNvbnNvbGUubG9nKCfwn6egIEF0IHNlY29uZC10by1sYXN0IHNvbmcsIGNoZWNraW5nIGZvciBzbWFydCByZWNvbW1lbmRhdGlvbnMuLi4nKTtcbiAgICBzZXRJc0ZldGNoaW5nTW9yZSh0cnVlKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgbGV0IG5ld1JlY3M6IFNvbmdbXSA9IFtdO1xuICAgICAgXG4gICAgICAvLyBJZiB3ZSBoYXZlIHNvbmdzIHRoYXQgdXNlciBhY3R1YWxseSBsaXN0ZW5lZCB0byBpbiBjdXJyZW50IGJhdGNoLCB1c2Ugc21hcnQgcmVjb21tZW5kYXRpb25zXG4gICAgICBpZiAoY3VycmVudEJhdGNoTGlzdGVuZWRTb25ncy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn6egIFVzaW5nIHNtYXJ0IHJlY29tbWVuZGF0aW9ucyBiYXNlZCBvbiBsaXN0ZW5lZCBzb25ncycpO1xuICAgICAgICBuZXdSZWNzID0gYXdhaXQgZ2V0U21hcnRQZXJzb25hbGl6ZWRTb25ncyhcbiAgICAgICAgICB1c2VyLmlkLCBcbiAgICAgICAgICBjdXJyZW50QmF0Y2hMaXN0ZW5lZFNvbmdzLCBcbiAgICAgICAgICBuZXcgU2V0KFsuLi5BcnJheS5mcm9tKGxpc3RlbmVkU29uZ3MpLCAuLi5wZXJzb25hbGl6ZWRMaXN0Lm1hcChzID0+IHMuZmlsZV9pZC50b1N0cmluZygpKV0pXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+OtSBObyBsaXN0ZW5lZCBzb25ncyBpbiBiYXRjaCwgdXNpbmcgcmVndWxhciByZWNvbW1lbmRhdGlvbnMnKTtcbiAgICAgICAgbmV3UmVjcyA9IGF3YWl0IGdldFBlcnNvbmFsaXplZFNvbmdzKHVzZXIuaWQsIGN1cnJlbnRTb25nLCBsaXN0ZW5lZFNvbmdzKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgZmlsdGVyZWQgPSBuZXdSZWNzLmZpbHRlcihzb25nID0+IFxuICAgICAgICAhcGxheWVkU29uZ3MuaGFzKHNvbmcuZmlsZV9pZC50b1N0cmluZygpKSAmJlxuICAgICAgICAhbGlzdGVuZWRTb25ncy5oYXMoc29uZy5maWxlX2lkLnRvU3RyaW5nKCkpICYmXG4gICAgICAgICFwZXJzb25hbGl6ZWRMaXN0LnNvbWUoZXhpc3RpbmcgPT4gZXhpc3RpbmcuZmlsZV9pZCA9PT0gc29uZy5maWxlX2lkKVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgaWYgKGZpbHRlcmVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgc2V0UGVyc29uYWxpemVkTGlzdChwcmV2ID0+IFsuLi5wcmV2LCAuLi5maWx0ZXJlZC5zbGljZSgwLCA1KV0pO1xuICAgICAgICBjb25zb2xlLmxvZygn4pyFIEFkZGVkJywgZmlsdGVyZWQuc2xpY2UoMCwgNSkubGVuZ3RoLCAnc21hcnQgcmVjb21tZW5kYXRpb25zIHRvIHBlcnNvbmFsaXplZCBsaXN0Jyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBmZXRjaGluZyBzbWFydCByZWNvbW1lbmRhdGlvbnM6JywgZXJyb3IpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc0ZldGNoaW5nTW9yZShmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgbm8gcXVldWUsIHByb2NlZWQgd2l0aCBwZXJzb25hbGl6ZWQgbGlzdFxuICBjb25zdCBuZXh0SW5kZXggPSBjdXJyZW50U29uZ0luZGV4ICsgMTtcblxuICBpZiAobmV4dEluZGV4IDwgcGVyc29uYWxpemVkTGlzdC5sZW5ndGgpIHtcbiAgICBjb25zdCBuZXh0U29uZyA9IHBlcnNvbmFsaXplZExpc3RbbmV4dEluZGV4XTtcbiAgICBzZXRDdXJyZW50U29uZyhuZXh0U29uZyk7XG4gICAgc2V0Q3VycmVudFNvbmdJbmRleChuZXh0SW5kZXgpO1xuICAgIHNldElzUGxheWluZyh0cnVlKTtcbiAgICBzZXRMYXN0UGxheWVkU29uZ0Rpc21pc3NlZChmYWxzZSk7XG4gICAgcmVjb3JkTGlzdGVuaW5nSGlzdG9yeShuZXh0U29uZy5pZCk7XG4gICAgc2V0U29uZ1N0YXJ0VGltZShuZXcgRGF0ZSgpKTtcblxuICAgIC8vIEFkZCB0byBsaXN0ZW5lZCBzb25ncyBhbmQgbG9nXG4gICAgc2V0TGlzdGVuZWRTb25ncyhwcmV2ID0+IHtcbiAgICAgIGNvbnN0IG5ld1NldCA9IG5ldyBTZXQocHJldik7XG4gICAgICBuZXdTZXQuYWRkKG5leHRTb25nLmZpbGVfaWQudG9TdHJpbmcoKSk7XG4gICAgICBjb25zb2xlLmxvZygn8J+OtSBMaXN0ZW5lZCBTb25ncyBMaXN0OicsIEFycmF5LmZyb20obmV3U2V0KSk7XG4gICAgICByZXR1cm4gbmV3U2V0O1xuICAgIH0pO1xuXG4gICAgc2V0UGxheWVkU29uZ3MoKHByZXYpID0+IHtcbiAgICAgIGNvbnN0IHVwZGF0ZWQgPSBuZXcgU2V0KHByZXYpO1xuICAgICAgdXBkYXRlZC5hZGQoU3RyaW5nKG5leHRTb25nLmZpbGVfaWQpKTtcbiAgICAgIHJldHVybiB1cGRhdGVkO1xuICAgIH0pO1xuXG4gICAgLy8gUHJlbG9hZCBpbWFnZVxuICAgIGlmICghaW1hZ2VVcmxzW25leHRTb25nLmltZ19pZF0pIHtcbiAgICAgIGNvbnN0IG5ld1VybCA9IGAvYXBpL2ltYWdlLXByb3h5P2ZpbGVpZD0ke25leHRTb25nLmltZ19pZH1gO1xuICAgICAgc2V0SW1hZ2VVcmxzKHByZXYgPT4gKHsgLi4ucHJldiwgW25leHRTb25nLmltZ19pZF06IG5ld1VybCB9KSk7XG4gICAgfVxuXG4gIH0gZWxzZSB7XG4gICAgLy8gSWYgd2UndmUgcmVhY2hlZCB0aGUgZW5kIG9mIHBlcnNvbmFsaXplZCBsaXN0LCBnZXQgbmV3IHNtYXJ0IHJlY29tbWVuZGF0aW9uc1xuICAgIGlmICh1c2VyICYmIGN1cnJlbnRTb25nKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+noCBSZWFjaGVkIGVuZCBvZiBsaXN0LCBmZXRjaGluZyBuZXcgc21hcnQgcmVjb21tZW5kYXRpb25zJyk7XG4gICAgICAgIFxuICAgICAgICBsZXQgbmV3UmVjczogU29uZ1tdID0gW107XG4gICAgICAgIFxuICAgICAgICAvLyBVc2Ugc21hcnQgcmVjb21tZW5kYXRpb25zIGlmIHdlIGhhdmUgbGlzdGVuZWQgc29uZ3MgaW4gY3VycmVudCBiYXRjaFxuICAgICAgICBpZiAoY3VycmVudEJhdGNoTGlzdGVuZWRTb25ncy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ/Cfp6AgVXNpbmcgc21hcnQgcmVjb21tZW5kYXRpb25zIGZvciBuZXcgYmF0Y2gnKTtcbiAgICAgICAgICBuZXdSZWNzID0gYXdhaXQgZ2V0U21hcnRQZXJzb25hbGl6ZWRTb25ncyhcbiAgICAgICAgICAgIHVzZXIuaWQsIFxuICAgICAgICAgICAgY3VycmVudEJhdGNoTGlzdGVuZWRTb25ncywgXG4gICAgICAgICAgICBsaXN0ZW5lZFNvbmdzXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+OtSBVc2luZyByZWd1bGFyIHJlY29tbWVuZGF0aW9ucyBmb3IgbmV3IGJhdGNoJyk7XG4gICAgICAgICAgbmV3UmVjcyA9IGF3YWl0IGdldFBlcnNvbmFsaXplZFNvbmdzKHVzZXIuaWQsIGN1cnJlbnRTb25nLCBsaXN0ZW5lZFNvbmdzKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgZmlsdGVyZWQgPSBuZXdSZWNzLmZpbHRlcihzb25nID0+IFxuICAgICAgICAgICFwbGF5ZWRTb25ncy5oYXMoc29uZy5maWxlX2lkLnRvU3RyaW5nKCkpICYmXG4gICAgICAgICAgIWxpc3RlbmVkU29uZ3MuaGFzKHNvbmcuZmlsZV9pZC50b1N0cmluZygpKVxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgaWYgKGZpbHRlcmVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCBuZXh0U29uZyA9IGZpbHRlcmVkWzBdO1xuICAgICAgICAgIHNldEN1cnJlbnRTb25nKG5leHRTb25nKTtcbiAgICAgICAgICBzZXRJc1BsYXlpbmcodHJ1ZSk7XG4gICAgICAgICAgc2V0TGFzdFBsYXllZFNvbmdEaXNtaXNzZWQoZmFsc2UpO1xuICAgICAgICAgIHJlY29yZExpc3RlbmluZ0hpc3RvcnkobmV4dFNvbmcuaWQpO1xuICAgICAgICAgIHNldFNvbmdTdGFydFRpbWUobmV3IERhdGUoKSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQWRkIHRvIGxpc3RlbmVkIHNvbmdzIGFuZCBsb2dcbiAgICAgICAgICBzZXRMaXN0ZW5lZFNvbmdzKHByZXYgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3U2V0ID0gbmV3IFNldChwcmV2KTtcbiAgICAgICAgICAgIG5ld1NldC5hZGQobmV4dFNvbmcuZmlsZV9pZC50b1N0cmluZygpKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn461IExpc3RlbmVkIFNvbmdzIExpc3Q6JywgQXJyYXkuZnJvbShuZXdTZXQpKTtcbiAgICAgICAgICAgIHJldHVybiBuZXdTZXQ7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ3JlYXRlIG5ldyBwZXJzb25hbGl6ZWQgbGlzdCBzdGFydGluZyB3aXRoIHRoaXMgc29uZ1xuICAgICAgICAgIGNvbnN0IG5ld1BlcnNvbmFsaXplZExpc3QgPSBbbmV4dFNvbmcsIC4uLmZpbHRlcmVkLnNsaWNlKDEsIDUpXTtcbiAgICAgICAgICBzZXRQZXJzb25hbGl6ZWRMaXN0KG5ld1BlcnNvbmFsaXplZExpc3QpO1xuICAgICAgICAgIHNldEN1cnJlbnRTb25nSW5kZXgoMCk7XG4gICAgICAgICAgc2V0QmF0Y2hTdGFydEluZGV4KDApO1xuICAgICAgICAgIHNldEN1cnJlbnRCYXRjaExpc3RlbmVkU29uZ3MoW10pOyAvLyBSZXNldCBiYXRjaCBmb3IgbmV3IHJlY29tbWVuZGF0aW9uc1xuICAgICAgICAgIFxuICAgICAgICAgIHNldFBsYXllZFNvbmdzKChwcmV2KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB1cGRhdGVkID0gbmV3IFNldChwcmV2KTtcbiAgICAgICAgICAgIHVwZGF0ZWQuYWRkKG5leHRTb25nLmZpbGVfaWQudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICByZXR1cm4gdXBkYXRlZDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBQcmVsb2FkIGltYWdlXG4gICAgICAgICAgaWYgKCFpbWFnZVVybHNbbmV4dFNvbmcuaW1nX2lkXSkge1xuICAgICAgICAgICAgY29uc3QgbmV3VXJsID0gYC9hcGkvaW1hZ2UtcHJveHk/ZmlsZWlkPSR7bmV4dFNvbmcuaW1nX2lkfWA7XG4gICAgICAgICAgICBzZXRJbWFnZVVybHMocHJldiA9PiAoeyAuLi5wcmV2LCBbbmV4dFNvbmcuaW1nX2lkXTogbmV3VXJsIH0pKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc29sZS5sb2coJ+KchSBOZXcgc21hcnQgcmVjb21tZW5kYXRpb25zIGxvYWRlZDonLCBuZXdQZXJzb25hbGl6ZWRMaXN0Lmxlbmd0aCwgJ3NvbmdzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gTm8gbW9yZSBzbWFydCByZWNvbW1lbmRhdGlvbnMgYXZhaWxhYmxlJyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBmZXRjaGluZyBuZXcgc21hcnQgcmVjb21tZW5kYXRpb25zOicsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cblxuXG5cbiAgY29uc3QgZm9ybWF0TnVtYmVyID0gKG51bTogbnVtYmVyKTogc3RyaW5nID0+IHtcbiAgICBpZiAobnVtID49IDEwMDAwMDApIHtcbiAgICAgIHJldHVybiAobnVtIC8gMTAwMDAwMCkudG9GaXhlZCgxKSArICdNJztcbiAgICB9IGVsc2UgaWYgKG51bSA+PSAxMDAwKSB7XG4gICAgICByZXR1cm4gKG51bSAvIDEwMDApLnRvRml4ZWQoMSkgKyAnSyc7XG4gICAgfVxuICAgIHJldHVybiBudW0udG9TdHJpbmcoKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVBZGRUb1BsYXlsaXN0ID0gKHNvbmc6IFNvbmcpID0+IHtcbiAgICBzZXRTZWxlY3RlZFNvbmdGb3JQbGF5bGlzdChzb25nKTtcbiAgICBzZXRTaG93QWRkVG9QbGF5bGlzdE1vZGFsKHRydWUpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVNvbmdFbmQgPSBhc3luYyAoKSA9PiB7XG4gICAgLy8gQ2hlY2sgaWYgc2xlZXAgdGltZXIgaXMgc2V0IHRvIFwiYWZ0ZXItc29uZ1wiIGFuZCB0cmlnZ2VyIGl0XG4gICAgaWYgKHNsZWVwVGltZXIgPT09ICdhZnRlci1zb25nJykge1xuICAgICAgdHJpZ2dlckFmdGVyU29uZ1RpbWVyKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIFJlY29yZCBpZiBzb25nIHdhcyBsaXN0ZW5lZCB0byBjb21wbGV0ZWx5IChhc3N1bWUgPjIwIHNlY29uZHMgaWYgaXQgZW5kZWQgbmF0dXJhbGx5KVxuICAgIGlmIChjdXJyZW50U29uZyAmJiBzb25nU3RhcnRUaW1lKSB7XG4gICAgICBjb25zdCBsaXN0ZW5EdXJhdGlvbiA9IChuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHNvbmdTdGFydFRpbWUuZ2V0VGltZSgpKSAvIDEwMDA7XG4gICAgICBjb25zb2xlLmxvZyhg8J+OtSBTb25nIFwiJHtjdXJyZW50U29uZy5uYW1lfVwiIGVuZGVkIGFmdGVyICR7bGlzdGVuRHVyYXRpb24udG9GaXhlZCgxKX0gc2Vjb25kc2ApO1xuICAgICAgXG4gICAgICBpZiAobGlzdGVuRHVyYXRpb24gPiAyMCkge1xuICAgICAgICBzZXRDdXJyZW50QmF0Y2hMaXN0ZW5lZFNvbmdzKHByZXYgPT4ge1xuICAgICAgICAgIGNvbnN0IGV4aXN0cyA9IHByZXYuc29tZShzID0+IHMuZmlsZV9pZCA9PT0gY3VycmVudFNvbmcuZmlsZV9pZCk7XG4gICAgICAgICAgaWYgKCFleGlzdHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBbLi4ucHJldiwgY3VycmVudFNvbmddO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfjrUgQ3VycmVudCBiYXRjaCBsaXN0ZW5lZCBzb25nczonLCB1cGRhdGVkLm1hcChzID0+IHMubmFtZSkpO1xuICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gSGFuZGxlIHJlcGVhdCBtb2Rlc1xuICAgIGlmIChyZXBlYXRNb2RlID09PSAnb25jZScgfHwgcmVwZWF0TW9kZSA9PT0gJ2luZmluaXRlJykge1xuICAgICAgLy8gUmVzdGFydCB0aGUgY3VycmVudCBzb25nXG4gICAgICBzZXRDdXJyZW50VGltZSgwKTtcbiAgICAgIHNldElzUGxheWluZyh0cnVlKTtcbiAgICAgIHNldFNvbmdTdGFydFRpbWUobmV3IERhdGUoKSk7XG4gICAgICBcbiAgICAgIC8vIElmIHJlcGVhdCBvbmNlLCB0dXJuIG9mZiByZXBlYXQgYWZ0ZXIgcGxheWluZyBvbmNlXG4gICAgICBpZiAocmVwZWF0TW9kZSA9PT0gJ29uY2UnKSB7XG4gICAgICAgIHNldFJlcGVhdE1vZGUoJ29mZicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBXaGVuIGEgc29uZyBlbmRzLCBhdXRvbWF0aWNhbGx5IHBsYXkgdGhlIG5leHQgb25lXG4gICAgYXdhaXQgaGFuZGxlTmV4dCgpO1xufTtcblxuICBjb25zdCBoYW5kbGVTbGVlcFRpbWVyU2V0ID0gKG1pbnV0ZXM6IG51bWJlciB8ICdhZnRlci1zb25nJyB8IG51bGwpID0+IHtcbiAgICBpZiAobWludXRlcyA9PT0gbnVsbCkge1xuICAgICAgY2FuY2VsVGltZXIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhcnRUaW1lcihtaW51dGVzLCAoKSA9PiB7XG4gICAgICAgIHNldElzUGxheWluZyhmYWxzZSk7XG4gICAgICAgIHRvYXN0LnN1Y2Nlc3MoJ1NsZWVwIHRpbWVyIGVuZGVkIC0gbXVzaWMgc3RvcHBlZCcpO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmICh0eXBlb2YgbWludXRlcyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgdG9hc3Quc3VjY2VzcyhgU2xlZXAgdGltZXIgc2V0IGZvciAke21pbnV0ZXN9IG1pbnV0ZXNgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRvYXN0LnN1Y2Nlc3MoJ1NsZWVwIHRpbWVyIHNldCB0byBzdG9wIGFmdGVyIGN1cnJlbnQgc29uZycpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCByZW5kZXJDb250ZW50ID0gKCkgPT4ge1xuICAgIGlmIChjdXJyZW50UGFnZSA9PT0gJ3BsYXlsaXN0cycpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxQbGF5bGlzdHNQYWdlIFxuICAgICAgICAgIHBsYXlsaXN0cz17cGxheWxpc3RzfSBcbiAgICAgICAgICBvbkJhY2s9eygpID0+IHNldEN1cnJlbnRQYWdlKCdtYWluJyl9IFxuICAgICAgICAgIG9uU29uZ1BsYXk9e2hhbmRsZVNvbmdQbGF5fVxuICAgICAgICAgIG9uQWRkVG9RdWV1ZT17aGFuZGxlQWRkVG9RdWV1ZX1cbiAgICAgICAgICBvbkNyZWF0ZVBsYXlsaXN0PXsoKSA9PiBzZXRTaG93Q3JlYXRlUGxheWxpc3RNb2RhbCh0cnVlKX1cbiAgICAgICAgICBvbkRlbGV0ZVBsYXlsaXN0PXtkZWxldGVQbGF5bGlzdH1cbiAgICAgICAgICBvblJlbmFtZVBsYXlsaXN0PXtyZW5hbWVQbGF5bGlzdH1cbiAgICAgICAgICBvblJlbW92ZVNvbmdGcm9tUGxheWxpc3Q9e3JlbW92ZVNvbmdGcm9tUGxheWxpc3R9XG4gICAgICAgICAgaW1hZ2VVcmxzPXtpbWFnZVVybHN9XG4gICAgICAgICAgY2xlYXJRdWV1ZT17Y2xlYXJRdWV1ZX1cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgfVxuICAgIFxuICAgIGlmIChjdXJyZW50UGFnZSA9PT0gJ2xpa2VkJykge1xuICAgICAgcmV0dXJuIDxMaWtlZFNvbmdzUGFnZSBzb25ncz17bGlrZWRTb25nc30gb25CYWNrPXsoKSA9PiBzZXRDdXJyZW50UGFnZSgnbWFpbicpfSBvblNvbmdQbGF5PXtoYW5kbGVTb25nUGxheX0gb25BZGRUb1F1ZXVlPXtoYW5kbGVBZGRUb1F1ZXVlfSBpbWFnZVVybHM9e2ltYWdlVXJsc30gY2xlYXJRdWV1ZT17Y2xlYXJRdWV1ZX0vPjtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKGFjdGl2ZVRhYikge1xuICAgICAgY2FzZSAnaG9tZSc6XG4gICAgICAgIHJldHVybiA8SG9tZVBhZ2VcbiAgICAgICAgICAgICAgICBzb25ncz17ZGlzcGxheWVkU29uZ3N9XG4gICAgICAgICAgICAgICAgcmVjZW50bHlQbGF5ZWRTb25ncz17cmVjZW50bHlQbGF5ZWRTb25nc31cbiAgICAgICAgICAgICAgICBvblNvbmdQbGF5PXtoYW5kbGVTb25nUGxheX1cbiAgICAgICAgICAgICAgICBmb3JtYXROdW1iZXI9e2Zvcm1hdE51bWJlcn1cbiAgICAgICAgICAgICAgICBvbkFkZFRvUGxheWxpc3Q9e2hhbmRsZUFkZFRvUGxheWxpc3R9XG4gICAgICAgICAgICAgICAgb25BZGRUb1F1ZXVlPXtoYW5kbGVBZGRUb1F1ZXVlfVxuICAgICAgICAgICAgICAgIGltYWdlVXJscz17aW1hZ2VVcmxzfVxuICAgICAgICAgICAgICAgIG9uTG9hZE1vcmU9e2xvYWRNb3JlU29uZ3N9XG4gICAgICAgICAgICAgICAgaGFzTW9yZVNvbmdzPXtkaXNwbGF5Q291bnQgPCBzb25ncy5sZW5ndGh9XG4gICAgICAgICAgICAgIC8+O1xuICAgICAgY2FzZSAnc2VhcmNoJzpcbiAgICAgICAgcmV0dXJuIDxTZWFyY2hQYWdlXG4gICAgICAgICAgICAgIHNvbmdzPXtzb25nc31cbiAgICAgICAgICAgICAgb25Tb25nUGxheT17aGFuZGxlU29uZ1BsYXl9XG4gICAgICAgICAgICAgIGZvcm1hdE51bWJlcj17Zm9ybWF0TnVtYmVyfVxuICAgICAgICAgICAgICBvbkFkZFRvUGxheWxpc3Q9e2hhbmRsZUFkZFRvUGxheWxpc3R9XG4gICAgICAgICAgICAgIG9uQWRkVG9RdWV1ZT17aGFuZGxlQWRkVG9RdWV1ZX1cbiAgICAgICAgICAgICAgaW1hZ2VVcmxzPXtpbWFnZVVybHN9XG4gICAgICAgICAgICAgIHNldEltYWdlVXJscz17c2V0SW1hZ2VVcmxzfVxuICAgICAgICAgICAgLz47XG4gICAgICBjYXNlICdzZXR0aW5ncyc6XG4gICAgICAgIHJldHVybiA8U2V0dGluZ3NQYWdlIG9uUGxheWxpc3RzQ2xpY2s9eygpID0+IHNldEN1cnJlbnRQYWdlKCdwbGF5bGlzdHMnKX0gb25MaWtlZENsaWNrPXsoKSA9PiBzZXRDdXJyZW50UGFnZSgnbGlrZWQnKX0gLz47XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gPEhvbWVQYWdlXG4gICAgICAgICAgICAgIHNvbmdzPXtkaXNwbGF5ZWRTb25nc31cbiAgICAgICAgICAgICAgcmVjZW50bHlQbGF5ZWRTb25ncz17cmVjZW50bHlQbGF5ZWRTb25nc31cbiAgICAgICAgICAgICAgb25Tb25nUGxheT17aGFuZGxlU29uZ1BsYXl9XG4gICAgICAgICAgICAgIGZvcm1hdE51bWJlcj17Zm9ybWF0TnVtYmVyfVxuICAgICAgICAgICAgICBvbkFkZFRvUGxheWxpc3Q9e2hhbmRsZUFkZFRvUGxheWxpc3R9XG4gICAgICAgICAgICAgIG9uQWRkVG9RdWV1ZT17aGFuZGxlQWRkVG9RdWV1ZX1cbiAgICAgICAgICAgICAgaW1hZ2VVcmxzPXtpbWFnZVVybHN9XG4gICAgICAgICAgICAgIG9uTG9hZE1vcmU9e2xvYWRNb3JlU29uZ3N9XG4gICAgICAgICAgICAgIGhhc01vcmVTb25ncz17ZGlzcGxheUNvdW50IDwgc29uZ3MubGVuZ3RofVxuICAgICAgICAgICAgLz47XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHRoZW1lQ2xhc3NlcyA9IGlzRGFya01vZGUgXG4gICAgPyAnYmctZ3JheS05MDAgdGV4dC13aGl0ZScgXG4gICAgOiAnYmctZ3JheS01MCB0ZXh0LWdyYXktOTAwJztcbmNvbnN0IHNldEN1cnJlbnRUaW1lU3RhdGUgPSBzZXRDdXJyZW50VGltZTtcblxuICByZXR1cm4gKFxuICAgIFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2BtaW4taC1zY3JlZW4gJHt0aGVtZUNsYXNzZXN9IHJlbGF0aXZlIG92ZXJmbG93LWhpZGRlbmB9PlxuICAgICAgICB7LyogTWFpbiBDb250ZW50ICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCAke2N1cnJlbnRTb25nID8gJ3BiLTM2JyA6ICdwYi0yMCd9YH0+XG4gICAgICAgICAge3JlbmRlckNvbnRlbnQoKX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIEJvdHRvbSBOYXZpZ2F0aW9uICovfVxuICAgICAgICB7Y3VycmVudFBhZ2UgPT09ICdtYWluJyAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BmaXhlZCBib3R0b20tMCBsZWZ0LTAgcmlnaHQtMCAke2lzRGFya01vZGUgPyAnYmctZ3JheS04MDAgYm9yZGVyLWdyYXktNzAwJyA6ICdiZy13aGl0ZSBib3JkZXItZ3JheS0yMDAnfSBib3JkZXItdCB6LTMwYH0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYXJvdW5kIHB5LTNcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEFjdGl2ZVRhYignaG9tZScpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIHNwYWNlLXktMSBwLTIgdHJhbnNpdGlvbi1jb2xvcnMgJHtcbiAgICAgICAgICAgICAgICAgIGFjdGl2ZVRhYiA9PT0gJ2hvbWUnID8gJ3RleHQtcHVycGxlLTQwMCcgOiBpc0RhcmtNb2RlID8gJ3RleHQtZ3JheS00MDAnIDogJ3RleHQtZ3JheS02MDAnXG4gICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8SG9tZUljb24gc2l6ZT17MjR9IC8+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14c1wiPkhvbWU8L3NwYW4+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0QWN0aXZlVGFiKCdzZWFyY2gnKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBzcGFjZS15LTEgcC0yIHRyYW5zaXRpb24tY29sb3JzICR7XG4gICAgICAgICAgICAgICAgICBhY3RpdmVUYWIgPT09ICdzZWFyY2gnID8gJ3RleHQtcHVycGxlLTQwMCcgOiBpc0RhcmtNb2RlID8gJ3RleHQtZ3JheS00MDAnIDogJ3RleHQtZ3JheS02MDAnXG4gICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8U2VhcmNoIHNpemU9ezI0fSAvPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHNcIj5TZWFyY2g8L3NwYW4+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0QWN0aXZlVGFiKCdzZXR0aW5ncycpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIHNwYWNlLXktMSBwLTIgdHJhbnNpdGlvbi1jb2xvcnMgJHtcbiAgICAgICAgICAgICAgICAgIGFjdGl2ZVRhYiA9PT0gJ3NldHRpbmdzJyA/ICd0ZXh0LXB1cnBsZS00MDAnIDogaXNEYXJrTW9kZSA/ICd0ZXh0LWdyYXktNDAwJyA6ICd0ZXh0LWdyYXktNjAwJ1xuICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPFNldHRpbmdzIHNpemU9ezI0fSAvPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHNcIj5TZXR0aW5nczwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICB7LyogTXVzaWMgUGxheWVyIC0gT25seSBzaG93IGlmIGN1cnJlbnRTb25nIGV4aXN0cyAqL31cbiAgICAgICAge2N1cnJlbnRTb25nICYmIChcbiAgICAgICAgICA8PlxuICAgICAgICAgICAgeyFpc1BsYXllck1heGltaXplZCA/IChcbiAgICAgICAgICAgICAgPE1pbmltaXplZFBsYXllclxuICAgICAgICAgICAgICAgIHNvbmc9e2N1cnJlbnRTb25nfVxuICAgICAgICAgICAgICAgIGlzUGxheWluZz17aXNQbGF5aW5nfVxuICAgICAgICAgICAgICAgIGltYWdlVXJsPXtpbWFnZVVybHNbY3VycmVudFNvbmcuaW1nX2lkXX1cbiAgICAgICAgICAgICAgICBvblRvZ2dsZVBsYXk9e3RvZ2dsZVBsYXl9XG4gICAgICAgICAgICAgICAgb25NYXhpbWl6ZT17dG9nZ2xlUGxheWVyU2l6ZX1cbiAgICAgICAgICAgICAgICBvblByZXZpb3VzPXtoYW5kbGVQcmV2aW91c31cbiAgICAgICAgICAgICAgICBvbk5leHQ9e2hhbmRsZU5leHR9XG4gICAgICAgICAgICAgICAgb25DbG9zZT17Y2xvc2VQbGF5ZXJ9XG4gICAgICAgICAgICAgICAgb25Ub2dnbGVMaWtlPXsoKSA9PiBoYW5kbGVUb2dnbGVMaWtlKGN1cnJlbnRTb25nLmlkKX1cbiAgICAgICAgICAgICAgICBmb3JtYXROdW1iZXI9e2Zvcm1hdE51bWJlcn1cbiAgICAgICAgICAgICAgICBjdXJyZW50VGltZT17Y3VycmVudFRpbWV9XG4gICAgICAgICAgICAgICAgZHVyYXRpb249e2R1cmF0aW9ufVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgPE1heGltaXplZFBsYXllclxuICAgICAgICAgICAgICAgIHNvbmc9e2N1cnJlbnRTb25nfVxuICAgICAgICAgICAgICAgIGlzUGxheWluZz17aXNQbGF5aW5nfVxuICAgICAgICAgICAgICAgIGltYWdlVXJsPXtpbWFnZVVybHNbY3VycmVudFNvbmcuaW1nX2lkXX1cbiAgICAgICAgICAgICAgICBvblRvZ2dsZVBsYXk9e3RvZ2dsZVBsYXl9XG4gICAgICAgICAgICAgICAgb25NaW5pbWl6ZT17dG9nZ2xlUGxheWVyU2l6ZX1cbiAgICAgICAgICAgICAgICBvblByZXZpb3VzPXtoYW5kbGVQcmV2aW91c31cbiAgICAgICAgICAgICAgICBvbk5leHQ9e2hhbmRsZU5leHR9XG4gICAgICAgICAgICAgICAgb25Ub2dnbGVMaWtlPXsoKSA9PiBoYW5kbGVUb2dnbGVMaWtlKGN1cnJlbnRTb25nLmlkKX1cbiAgICAgICAgICAgICAgICBmb3JtYXROdW1iZXI9e2Zvcm1hdE51bWJlcn1cbiAgICAgICAgICAgICAgICBvbkFkZFRvUGxheWxpc3Q9eygpID0+IGhhbmRsZUFkZFRvUGxheWxpc3QoY3VycmVudFNvbmcpfVxuICAgICAgICAgICAgICAgIGN1cnJlbnRUaW1lPXtjdXJyZW50VGltZX1cbiAgICAgICAgICAgICAgICBkdXJhdGlvbj17ZHVyYXRpb259XG5cbiAgICAgICAgICAgICAgc2V0Q3VycmVudFRpbWU9eyhzZWVrVGltZSkgPT4ge1xuICBpZiAoYXVkaW9SZWYuY3VycmVudCAmJiAhaXNOYU4oYXVkaW9SZWYuY3VycmVudC5kdXJhdGlvbikpIHtcbiAgICBzZXRJc0V4dGVybmFsbHlTZWVraW5nKHRydWUpO1xuICAgIGF1ZGlvUmVmLmN1cnJlbnQuY3VycmVudFRpbWUgPSBzZWVrVGltZTtcbiAgICBzZXRDdXJyZW50VGltZVN0YXRlKHNlZWtUaW1lKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHNldElzRXh0ZXJuYWxseVNlZWtpbmcoZmFsc2UpLCAyMDApO1xuICB9IGVsc2Uge1xuICAgIHNldFBlbmRpbmdTZWVrVGltZShzZWVrVGltZSk7IC8vIFdpbGwgYXBwbHkgb25Mb2FkZWRNZXRhZGF0YVxuICB9XG59fVxuXG5cblxuICAgICAgICAgICAgICAgIHZvbHVtZT17dm9sdW1lfVxuICAgICAgICAgICAgICAgIHNldFZvbHVtZT17c2V0Vm9sdW1lfVxuICAgICAgICAgICAgICAgIGlzU2Vla2luZz17aXNTZWVraW5nfVxuICAgICAgICAgICAgICAgIHNldElzU2Vla2luZz17c2V0SXNTZWVraW5nfVxuICAgICAgICAgICAgICAgIHF1ZXVlPXtxdWV1ZX1cbiAgICAgICAgICAgICAgICBvblJlbW92ZUZyb21RdWV1ZT17cmVtb3ZlRnJvbVF1ZXVlfVxuICAgICAgICAgICAgICAgIG9uU29uZ1BsYXk9e2hhbmRsZVNvbmdQbGF5fVxuICAgICAgICAgICAgICAgIGltYWdlVXJscz17aW1hZ2VVcmxzfVxuICAgICAgICAgICAgICAgIGlzU2h1ZmZsZUVuYWJsZWQ9e2lzU2h1ZmZsZUVuYWJsZWR9XG4gICAgICAgICAgICAgICAgc2V0SXNTaHVmZmxlRW5hYmxlZD17c2V0SXNTaHVmZmxlRW5hYmxlZH1cbiAgICAgICAgICAgICAgICByZXBlYXRNb2RlPXtyZXBlYXRNb2RlfVxuICAgICAgICAgICAgICAgIHNldFJlcGVhdE1vZGU9e3NldFJlcGVhdE1vZGV9XG4gICAgICAgICAgICAgICAgc2xlZXBUaW1lcj17c2xlZXBUaW1lcn1cbiAgICAgICAgICAgICAgICByZW1haW5pbmdUaW1lPXtyZW1haW5pbmdUaW1lfVxuICAgICAgICAgICAgICAgIG9uT3BlblNsZWVwVGltZXI9eygpID0+IHNldFNob3dTbGVlcFRpbWVyTW9kYWwodHJ1ZSl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvPlxuICAgICAgICApfVxuXG4gICAgICAgIHsvKiBNb2RhbHMgKi99XG4gICAgICAgIDxDcmVhdGVQbGF5bGlzdE1vZGFsXG4gICAgICAgICAgaXNPcGVuPXtzaG93Q3JlYXRlUGxheWxpc3RNb2RhbH1cbiAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRTaG93Q3JlYXRlUGxheWxpc3RNb2RhbChmYWxzZSl9XG4gICAgICAgICAgb25DcmVhdGVQbGF5bGlzdD17Y3JlYXRlUGxheWxpc3R9XG4gICAgICAgIC8+XG5cbiAgICAgICAgPEFkZFRvUGxheWxpc3RNb2RhbFxuICAgICAgICAgIGlzT3Blbj17c2hvd0FkZFRvUGxheWxpc3RNb2RhbH1cbiAgICAgICAgICBvbkNsb3NlPXsoKSA9PiB7XG4gICAgICAgICAgICBzZXRTaG93QWRkVG9QbGF5bGlzdE1vZGFsKGZhbHNlKTtcbiAgICAgICAgICAgIHNldFNlbGVjdGVkU29uZ0ZvclBsYXlsaXN0KG51bGwpO1xuICAgICAgICAgIH19XG4gICAgICAgICAgc29uZz17c2VsZWN0ZWRTb25nRm9yUGxheWxpc3R9XG4gICAgICAgICAgcGxheWxpc3RzPXtwbGF5bGlzdHN9XG4gICAgICAgICAgb25BZGRUb1BsYXlsaXN0PXthZGRTb25nVG9QbGF5bGlzdH1cbiAgICAgICAgICBvbkNyZWF0ZVBsYXlsaXN0PXsoKSA9PiB7XG4gICAgICAgICAgICBzZXRTaG93QWRkVG9QbGF5bGlzdE1vZGFsKGZhbHNlKTtcbiAgICAgICAgICAgIHNldFNob3dDcmVhdGVQbGF5bGlzdE1vZGFsKHRydWUpO1xuICAgICAgICAgIH19XG4gICAgICAgICAgaW1hZ2VVcmxzPXtpbWFnZVVybHN9XG4gICAgICAgICAgc2V0SW1hZ2VVcmxzPXtzZXRJbWFnZVVybHN9XG4gICAgICAgIC8+XG5cbiAgICAgICAgPFNsZWVwVGltZXJNb2RhbFxuICAgICAgICAgIGlzT3Blbj17c2hvd1NsZWVwVGltZXJNb2RhbH1cbiAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRTaG93U2xlZXBUaW1lck1vZGFsKGZhbHNlKX1cbiAgICAgICAgICBvblNldFRpbWVyPXtoYW5kbGVTbGVlcFRpbWVyU2V0fVxuICAgICAgICAgIGN1cnJlbnRUaW1lcj17c2xlZXBUaW1lcn1cbiAgICAgICAgLz5cbiAgICAgICAgPGF1ZGlvXG4gICAgICAgICAgcmVmPXthdWRpb1JlZn1cbiAgICAgICAgICBzcmM9e2F1ZGlvVXJsID8/IHVuZGVmaW5lZH1cbiAgICAgICAgICBvbkVuZGVkPXtoYW5kbGVTb25nRW5kfVxuICAgICAgICAgIG9uVGltZVVwZGF0ZT17KCkgPT4ge1xuICAgICAgICAgIGlmIChhdWRpb1JlZi5jdXJyZW50ICYmICFpc1NlZWtpbmcgJiYgIWlzRXh0ZXJuYWxseVNlZWtpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBhdWRpb1JlZi5jdXJyZW50LmN1cnJlbnRUaW1lO1xuICAgICAgICAgICAgLy8gT25seSB1cGRhdGUgc3RhdGUgaWYgdGhlIGRpZmZlcmVuY2UgaXMgc2lnbmlmaWNhbnRcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhjdXJyZW50VGltZSAtIGN1cnJlbnQpID4gMC4yNSkge1xuICAgICAgICAgICAgICBzZXRDdXJyZW50VGltZShjdXJyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH19XG5cblxuICAgICAgICAgIG9uTG9hZGVkTWV0YWRhdGE9e2hhbmRsZUxvYWRlZE1ldGFkYXRhfVxuICAgICAgICAgIG9uVm9sdW1lQ2hhbmdlPXsoKSA9PiB7XG4gICAgICAgICAgICBpZiAoYXVkaW9SZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICBzZXRWb2x1bWUoYXVkaW9SZWYuY3VycmVudC52b2x1bWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH19XG4gICAgICAgICAgc3R5bGU9e3sgZGlzcGxheTogJ25vbmUnIH19XG4gICAgICAgIC8+XG5cbiAgICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNdXNpY1BsYXllckFwcCgpIHtcbiAgcmV0dXJuIChcbiAgICA8QXV0aFdyYXBwZXI+XG4gICAgICA8VG9hc3RlciBwb3NpdGlvbj1cImJvdHRvbS1jZW50ZXJcIiAvPlxuICAgICAgPE11c2ljUGxheWVyQ29udGVudCAvPlxuICAgIDwvQXV0aFdyYXBwZXI+XG4gICk7XG59Il0sIm5hbWVzIjpbIkFkZFRvUGxheWxpc3RNb2RhbCIsIkF1dGhXcmFwcGVyIiwiQ3JlYXRlUGxheWxpc3RNb2RhbCIsIkhvbWVQYWdlIiwiTGlrZWRTb25nc1BhZ2UiLCJNYXhpbWl6ZWRQbGF5ZXIiLCJNaW5pbWl6ZWRQbGF5ZXIiLCJQbGF5bGlzdHNQYWdlIiwiU2VhcmNoUGFnZSIsIlNldHRpbmdzUGFnZSIsIlNsZWVwVGltZXJNb2RhbCIsInVzZVRoZW1lIiwidXNlQXV0aCIsInVzZVF1ZXVlIiwidXNlU2xlZXBUaW1lciIsInVzZVN1cGFiYXNlRGF0YSIsIkhvbWUiLCJIb21lSWNvbiIsIlNlYXJjaCIsIlNldHRpbmdzIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJUb2FzdGVyIiwidG9hc3QiLCJNdXNpY1BsYXllckNvbnRlbnQiLCJ1c2VyIiwic29uZ3MiLCJwbGF5bGlzdHMiLCJsaWtlZFNvbmdzIiwicmVjZW50bHlQbGF5ZWRTb25ncyIsImxhc3RQbGF5ZWRTb25nIiwibG9hZGluZyIsInRvZ2dsZUxpa2UiLCJjcmVhdGVQbGF5bGlzdCIsImRlbGV0ZVBsYXlsaXN0IiwicmVuYW1lUGxheWxpc3QiLCJhZGRTb25nVG9QbGF5bGlzdCIsInJlbW92ZVNvbmdGcm9tUGxheWxpc3QiLCJyZWNvcmRMaXN0ZW5pbmdIaXN0b3J5Iiwic3RvcEN1cnJlbnRTb25nVHJhY2tpbmciLCJnZXRQZXJzb25hbGl6ZWRTb25ncyIsImdldFNtYXJ0UGVyc29uYWxpemVkU29uZ3MiLCJxdWV1ZSIsImFkZFRvUXVldWUiLCJyZW1vdmVGcm9tUXVldWUiLCJnZXROZXh0U29uZ0Zyb21RdWV1ZSIsImNsZWFyUXVldWUiLCJoYXNRdWV1ZSIsImFjdGl2ZVRhYiIsInNldEFjdGl2ZVRhYiIsImN1cnJlbnRQYWdlIiwic2V0Q3VycmVudFBhZ2UiLCJjdXJyZW50U29uZyIsInNldEN1cnJlbnRTb25nIiwiaXNQbGF5aW5nIiwic2V0SXNQbGF5aW5nIiwiaXNQbGF5ZXJNYXhpbWl6ZWQiLCJzZXRJc1BsYXllck1heGltaXplZCIsInNob3dDcmVhdGVQbGF5bGlzdE1vZGFsIiwic2V0U2hvd0NyZWF0ZVBsYXlsaXN0TW9kYWwiLCJzaG93QWRkVG9QbGF5bGlzdE1vZGFsIiwic2V0U2hvd0FkZFRvUGxheWxpc3RNb2RhbCIsInNob3dTbGVlcFRpbWVyTW9kYWwiLCJzZXRTaG93U2xlZXBUaW1lck1vZGFsIiwic2VsZWN0ZWRTb25nRm9yUGxheWxpc3QiLCJzZXRTZWxlY3RlZFNvbmdGb3JQbGF5bGlzdCIsImhhc1NldExhc3RQbGF5ZWRTb25nIiwic2V0SGFzU2V0TGFzdFBsYXllZFNvbmciLCJsYXN0UGxheWVkU29uZ0Rpc21pc3NlZCIsInNldExhc3RQbGF5ZWRTb25nRGlzbWlzc2VkIiwiaXNEYXJrTW9kZSIsInRvZ2dsZVRoZW1lIiwiZGlzcGxheUNvdW50Iiwic2V0RGlzcGxheUNvdW50IiwiaW1hZ2VVcmxzIiwic2V0SW1hZ2VVcmxzIiwiYXVkaW9VcmwiLCJzZXRBdWRpb1VybCIsImF1ZGlvUmVmIiwiY3VycmVudFRpbWUiLCJzZXRDdXJyZW50VGltZSIsImR1cmF0aW9uIiwic2V0RHVyYXRpb24iLCJ2b2x1bWUiLCJzZXRWb2x1bWUiLCJpc1NlZWtpbmciLCJzZXRJc1NlZWtpbmciLCJwZW5kaW5nU2Vla1RpbWUiLCJzZXRQZW5kaW5nU2Vla1RpbWUiLCJpc0V4dGVybmFsbHlTZWVraW5nIiwic2V0SXNFeHRlcm5hbGx5U2Vla2luZyIsInJlY29tbWVuZGVkUXVldWUiLCJzZXRSZWNvbW1lbmRlZFF1ZXVlIiwicGxheWVkU29uZ3MiLCJzZXRQbGF5ZWRTb25ncyIsIlNldCIsInBlcnNvbmFsaXplZExpc3QiLCJzZXRQZXJzb25hbGl6ZWRMaXN0IiwiY3VycmVudFNvbmdJbmRleCIsInNldEN1cnJlbnRTb25nSW5kZXgiLCJsaXN0ZW5lZFNvbmdzIiwic2V0TGlzdGVuZWRTb25ncyIsImlzRmV0Y2hpbmdNb3JlIiwic2V0SXNGZXRjaGluZ01vcmUiLCJjdXJyZW50QmF0Y2hMaXN0ZW5lZFNvbmdzIiwic2V0Q3VycmVudEJhdGNoTGlzdGVuZWRTb25ncyIsInNvbmdTdGFydFRpbWUiLCJzZXRTb25nU3RhcnRUaW1lIiwiYmF0Y2hTdGFydEluZGV4Iiwic2V0QmF0Y2hTdGFydEluZGV4IiwiaXNTaHVmZmxlRW5hYmxlZCIsInNldElzU2h1ZmZsZUVuYWJsZWQiLCJyZXBlYXRNb2RlIiwic2V0UmVwZWF0TW9kZSIsInNsZWVwVGltZXIiLCJyZW1haW5pbmdUaW1lIiwic3RhcnRUaW1lciIsImNhbmNlbFRpbWVyIiwidHJpZ2dlckFmdGVyU29uZ1RpbWVyIiwiaXNBY3RpdmUiLCJpc1NsZWVwVGltZXJBY3RpdmUiLCJsb2FkTW9yZVNvbmdzIiwicHJldiIsImRpc3BsYXllZFNvbmdzIiwic2xpY2UiLCJsb2FkQXVkaW8iLCJmaWxlX2lkIiwidXJsIiwiY3VycmVudCIsImF1ZGlvIiwiaXNOYU4iLCJwbGF5IiwiY2F0Y2giLCJlIiwiY29uc29sZSIsImVycm9yIiwicGF1c2UiLCJmZXRjaEltYWdlcyIsIm5ld1VybHMiLCJzb25nc1RvTG9hZCIsInNvbmciLCJpZCIsImltZ19pZCIsInBsYXlsaXN0IiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsImxvZyIsImxvYWRMYXN0UGxheWVkSW1hZ2UiLCJpbml0aWFsUmVjcyIsImZpbHRlcmVkIiwiZmlsdGVyIiwiaGFzIiwidG9TdHJpbmciLCJuZXdQZXJzb25hbGl6ZWRMaXN0IiwibmV3U2V0IiwiYWRkIiwiQXJyYXkiLCJmcm9tIiwiaGFuZGxlU29uZ1BsYXkiLCJsaXN0ZW5EdXJhdGlvbiIsIkRhdGUiLCJnZXRUaW1lIiwibmFtZSIsInRvRml4ZWQiLCJleGlzdHMiLCJzb21lIiwicyIsInVwZGF0ZWQiLCJtYXAiLCJyZWNzIiwiaGFuZGxlQWRkVG9RdWV1ZSIsInN1Y2Nlc3MiLCJ0b2dnbGVQbGF5IiwidG9nZ2xlUGxheWVyU2l6ZSIsImNsb3NlUGxheWVyIiwiaGFuZGxlVG9nZ2xlTGlrZSIsInNvbmdJZCIsImlzTGlrZWQiLCJoYW5kbGVQcmV2aW91cyIsInByZXZJbmRleCIsInByZXZTb25nIiwibmV3VXJsIiwiY3VycmVudEluZGV4IiwiZmluZEluZGV4IiwibmV4dEluZGV4IiwibmV4dFNvbmciLCJoYW5kbGVMb2FkZWRNZXRhZGF0YSIsImxvYWRlZER1cmF0aW9uIiwiaXNGaW5pdGUiLCJlcnIiLCJzZXRUaW1lb3V0IiwiaGFuZGxlTmV4dCIsIm5leHRRdWV1ZVNvbmciLCJTdHJpbmciLCJuZXdSZWNzIiwiZXhpc3RpbmciLCJ3YXJuIiwiZm9ybWF0TnVtYmVyIiwibnVtIiwiaGFuZGxlQWRkVG9QbGF5bGlzdCIsImhhbmRsZVNvbmdFbmQiLCJoYW5kbGVTbGVlcFRpbWVyU2V0IiwibWludXRlcyIsInJlbmRlckNvbnRlbnQiLCJvbkJhY2siLCJvblNvbmdQbGF5Iiwib25BZGRUb1F1ZXVlIiwib25DcmVhdGVQbGF5bGlzdCIsIm9uRGVsZXRlUGxheWxpc3QiLCJvblJlbmFtZVBsYXlsaXN0Iiwib25SZW1vdmVTb25nRnJvbVBsYXlsaXN0Iiwib25BZGRUb1BsYXlsaXN0Iiwib25Mb2FkTW9yZSIsImhhc01vcmVTb25ncyIsIm9uUGxheWxpc3RzQ2xpY2siLCJvbkxpa2VkQ2xpY2siLCJ0aGVtZUNsYXNzZXMiLCJzZXRDdXJyZW50VGltZVN0YXRlIiwiZGl2IiwiY2xhc3NOYW1lIiwiYnV0dG9uIiwib25DbGljayIsInNpemUiLCJzcGFuIiwiaW1hZ2VVcmwiLCJvblRvZ2dsZVBsYXkiLCJvbk1heGltaXplIiwib25QcmV2aW91cyIsIm9uTmV4dCIsIm9uQ2xvc2UiLCJvblRvZ2dsZUxpa2UiLCJvbk1pbmltaXplIiwic2Vla1RpbWUiLCJvblJlbW92ZUZyb21RdWV1ZSIsIm9uT3BlblNsZWVwVGltZXIiLCJpc09wZW4iLCJvblNldFRpbWVyIiwiY3VycmVudFRpbWVyIiwicmVmIiwic3JjIiwidW5kZWZpbmVkIiwib25FbmRlZCIsIm9uVGltZVVwZGF0ZSIsIk1hdGgiLCJhYnMiLCJvbkxvYWRlZE1ldGFkYXRhIiwib25Wb2x1bWVDaGFuZ2UiLCJzdHlsZSIsImRpc3BsYXkiLCJNdXNpY1BsYXllckFwcCIsInBvc2l0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/page.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/HomePage.tsx":
/*!*********************************!*\
  !*** ./components/HomePage.tsx ***!
  \*********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_Music_Plus_TrendingUp_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Music,Plus,TrendingUp!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/music.js\");\n/* harmony import */ var _barrel_optimize_names_Music_Plus_TrendingUp_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=Music,Plus,TrendingUp!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/trending-up.js\");\n/* harmony import */ var _barrel_optimize_names_Music_Plus_TrendingUp_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=Music,Plus,TrendingUp!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/plus.js\");\n/* harmony import */ var _components_ThemeContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ThemeContext */ \"(app-pages-browser)/./components/ThemeContext.tsx\");\n/* harmony import */ var _hooks_useAuth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/hooks/useAuth */ \"(app-pages-browser)/./hooks/useAuth.ts\");\n/* harmony import */ var _SongCard__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./SongCard */ \"(app-pages-browser)/./components/SongCard.tsx\");\n/* harmony import */ var _TrendingSong__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./TrendingSong */ \"(app-pages-browser)/./components/TrendingSong.tsx\");\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\nconst HomePage = (param)=>{\n    let { songs, onSongPlay, formatNumber, onAddToPlaylist, onAddToQueue, imageUrls, onLoadMore, hasMoreSongs, recentlyPlayedSongs } = param;\n    var _user_user_metadata;\n    _s();\n    const { isDarkMode } = (0,_components_ThemeContext__WEBPACK_IMPORTED_MODULE_2__.useTheme)();\n    const { user } = (0,_hooks_useAuth__WEBPACK_IMPORTED_MODULE_3__.useAuth)();\n    // Show loading state if no songs are loaded yet\n    if (songs.length === 0) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen \".concat(isDarkMode ? \"bg-gray-900 text-white\" : \"bg-gray-50 text-gray-900\", \" flex items-center justify-center\"),\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto mb-4\"\n                    }, void 0, false, {\n                        fileName: \"/home/project/components/HomePage.tsx\",\n                        lineNumber: 33,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: isDarkMode ? \"text-gray-400\" : \"text-gray-600\",\n                        children: \"Loading your music...\"\n                    }, void 0, false, {\n                        fileName: \"/home/project/components/HomePage.tsx\",\n                        lineNumber: 34,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/project/components/HomePage.tsx\",\n                lineNumber: 32,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/home/project/components/HomePage.tsx\",\n            lineNumber: 31,\n            columnNumber: 7\n        }, undefined);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen \".concat(isDarkMode ? \"bg-gray-900 text-white\" : \"bg-gray-50 text-gray-900\"),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"sticky top-0 \".concat(isDarkMode ? \"bg-gray-900/95\" : \"bg-gray-50/95\", \" backdrop-blur-md z-10 px-4 py-4\"),\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center justify-between mb-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                    className: \"text-2xl font-bold\",\n                                    children: \"Good evening\"\n                                }, void 0, false, {\n                                    fileName: \"/home/project/components/HomePage.tsx\",\n                                    lineNumber: 46,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"\".concat(isDarkMode ? \"text-gray-400\" : \"text-gray-600\", \" text-sm\"),\n                                    children: \"What do you want to listen to?\"\n                                }, void 0, false, {\n                                    fileName: \"/home/project/components/HomePage.tsx\",\n                                    lineNumber: 47,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/project/components/HomePage.tsx\",\n                            lineNumber: 45,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-10 h-10 rounded-full flex items-center justify-center overflow-hidden\",\n                            children: (user === null || user === void 0 ? void 0 : (_user_user_metadata = user.user_metadata) === null || _user_user_metadata === void 0 ? void 0 : _user_user_metadata.avatar_url) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                src: user.user_metadata.avatar_url,\n                                alt: \"Profile\",\n                                className: \"w-full h-full object-cover\"\n                            }, void 0, false, {\n                                fileName: \"/home/project/components/HomePage.tsx\",\n                                lineNumber: 51,\n                                columnNumber: 15\n                            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-full h-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Music_Plus_TrendingUp_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                    size: 20,\n                                    className: \"text-white\"\n                                }, void 0, false, {\n                                    fileName: \"/home/project/components/HomePage.tsx\",\n                                    lineNumber: 58,\n                                    columnNumber: 17\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/home/project/components/HomePage.tsx\",\n                                lineNumber: 57,\n                                columnNumber: 15\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/home/project/components/HomePage.tsx\",\n                            lineNumber: 49,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/project/components/HomePage.tsx\",\n                    lineNumber: 44,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/home/project/components/HomePage.tsx\",\n                lineNumber: 43,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"px-4 pb-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mb-8\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-between mb-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        className: \"text-xl font-semibold flex items-center\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Music_Plus_TrendingUp_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                className: \"mr-2 text-purple-400\",\n                                                size: 20\n                                            }, void 0, false, {\n                                                fileName: \"/home/project/components/HomePage.tsx\",\n                                                lineNumber: 71,\n                                                columnNumber: 15\n                                            }, undefined),\n                                            \"Trending Now\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/project/components/HomePage.tsx\",\n                                        lineNumber: 70,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"text-purple-400 text-sm font-medium\",\n                                        children: \"See all\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/project/components/HomePage.tsx\",\n                                        lineNumber: 74,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/project/components/HomePage.tsx\",\n                                lineNumber: 69,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex space-x-4 overflow-x-auto pb-2 scrollbar-hide\",\n                                children: songs.slice(0, 10).map((song)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_TrendingSong__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                        song: {\n                                            ...song,\n                                            image: imageUrls[song.id] || \"\"\n                                        },\n                                        onPlay: onSongPlay,\n                                        formatNumber: formatNumber,\n                                        cachedImageUrl: imageUrls[song.id]\n                                    }, song.id, false, {\n                                        fileName: \"/home/project/components/HomePage.tsx\",\n                                        lineNumber: 78,\n                                        columnNumber: 15\n                                    }, undefined))\n                            }, void 0, false, {\n                                fileName: \"/home/project/components/HomePage.tsx\",\n                                lineNumber: 76,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/project/components/HomePage.tsx\",\n                        lineNumber: 68,\n                        columnNumber: 9\n                    }, undefined),\n                    recentlyPlayedSongs.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mb-8\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-between mb-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        className: \"text-xl font-semibold\",\n                                        children: \"Recently Played\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/project/components/HomePage.tsx\",\n                                        lineNumber: 93,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"text-purple-400 text-sm font-medium\",\n                                        children: \"See all\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/project/components/HomePage.tsx\",\n                                        lineNumber: 94,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/project/components/HomePage.tsx\",\n                                lineNumber: 92,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"grid grid-cols-3 gap-3\",\n                                children: recentlyPlayedSongs.map((song)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>onSongPlay(song),\n                                        className: \"flex items-center p-2 \".concat(isDarkMode ? \"bg-gray-800 hover:bg-gray-700\" : \"bg-white hover:bg-gray-50 border border-gray-200\", \" rounded-lg transition-all group text-left\"),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                src: imageUrls[song.id] || \"/placeholder.png\",\n                                                alt: song.name,\n                                                className: \"w-12 h-12 rounded-lg object-cover mr-3 flex-shrink-0\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/project/components/HomePage.tsx\",\n                                                lineNumber: 105,\n                                                columnNumber: 19\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex-1 min-w-0\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                        className: \"font-medium \".concat(isDarkMode ? \"text-white\" : \"text-gray-900\", \" truncate text-sm\"),\n                                                        children: song.name\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/project/components/HomePage.tsx\",\n                                                        lineNumber: 111,\n                                                        columnNumber: 21\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"\".concat(isDarkMode ? \"text-gray-400\" : \"text-gray-600\", \" text-xs truncate\"),\n                                                        children: song.artist\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/project/components/HomePage.tsx\",\n                                                        lineNumber: 114,\n                                                        columnNumber: 21\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/project/components/HomePage.tsx\",\n                                                lineNumber: 110,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        ]\n                                    }, song.id, true, {\n                                        fileName: \"/home/project/components/HomePage.tsx\",\n                                        lineNumber: 98,\n                                        columnNumber: 17\n                                    }, undefined))\n                            }, void 0, false, {\n                                fileName: \"/home/project/components/HomePage.tsx\",\n                                lineNumber: 96,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/project/components/HomePage.tsx\",\n                        lineNumber: 91,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-between mb-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        className: \"text-xl font-semibold\",\n                                        children: \"Made for you\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/project/components/HomePage.tsx\",\n                                        lineNumber: 127,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"text-purple-400 text-sm font-medium\",\n                                        children: \"See all\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/project/components/HomePage.tsx\",\n                                        lineNumber: 128,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/project/components/HomePage.tsx\",\n                                lineNumber: 126,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-3\",\n                                children: songs.map((song)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_SongCard__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                        song: {\n                                            ...song,\n                                            image: imageUrls[song.id] || \"\"\n                                        },\n                                        onPlay: onSongPlay,\n                                        formatNumber: formatNumber,\n                                        onAddToPlaylist: onAddToPlaylist,\n                                        onAddToQueue: onAddToQueue,\n                                        cachedImageUrl: imageUrls[song.id]\n                                    }, song.id, false, {\n                                        fileName: \"/home/project/components/HomePage.tsx\",\n                                        lineNumber: 132,\n                                        columnNumber: 15\n                                    }, undefined))\n                            }, void 0, false, {\n                                fileName: \"/home/project/components/HomePage.tsx\",\n                                lineNumber: 130,\n                                columnNumber: 11\n                            }, undefined),\n                            hasMoreSongs && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex justify-center mt-6\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: onLoadMore,\n                                    className: \"flex items-center space-x-2 px-6 py-3 \".concat(isDarkMode ? \"bg-gray-800 hover:bg-gray-700 border-gray-700\" : \"bg-white hover:bg-gray-50 border-gray-200\", \" border rounded-full transition-colors\"),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Music_Plus_TrendingUp_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                            size: 18,\n                                            className: \"text-purple-400\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/project/components/HomePage.tsx\",\n                                            lineNumber: 153,\n                                            columnNumber: 7\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: isDarkMode ? \"text-white\" : \"text-gray-900\",\n                                            children: \"Load More\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/project/components/HomePage.tsx\",\n                                            lineNumber: 154,\n                                            columnNumber: 7\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/project/components/HomePage.tsx\",\n                                    lineNumber: 147,\n                                    columnNumber: 5\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/home/project/components/HomePage.tsx\",\n                                lineNumber: 146,\n                                columnNumber: 3\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/project/components/HomePage.tsx\",\n                        lineNumber: 125,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/project/components/HomePage.tsx\",\n                lineNumber: 66,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/project/components/HomePage.tsx\",\n        lineNumber: 41,\n        columnNumber: 5\n    }, undefined);\n};\n_s(HomePage, \"jAnCuiuX/KWEMNgoC9SL9mKTjeU=\", false, function() {\n    return [\n        _components_ThemeContext__WEBPACK_IMPORTED_MODULE_2__.useTheme,\n        _hooks_useAuth__WEBPACK_IMPORTED_MODULE_3__.useAuth\n    ];\n});\n_c = HomePage;\n/* harmony default export */ __webpack_exports__[\"default\"] = (HomePage);\nvar _c;\n$RefreshReg$(_c, \"HomePage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvSG9tZVBhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBa0Q7QUFDSztBQUVGO0FBQ1g7QUFDUjtBQUNRO0FBaUIxQyxNQUFNUSxXQUFvQztRQUFDLEVBQUVDLEtBQUssRUFBRUMsVUFBVSxFQUFFQyxZQUFZLEVBQUVDLGVBQWUsRUFBRUMsWUFBWSxFQUFFQyxTQUFTLEVBQUNDLFVBQVUsRUFBQ0MsWUFBWSxFQUFFQyxtQkFBbUIsRUFBRTtRQTBCeEpDOztJQXpCWCxNQUFNLEVBQUVDLFVBQVUsRUFBRSxHQUFHZixrRUFBUUE7SUFDL0IsTUFBTSxFQUFFYyxJQUFJLEVBQUUsR0FBR2IsdURBQU9BO0lBRXhCLGdEQUFnRDtJQUNoRCxJQUFJSSxNQUFNVyxNQUFNLEtBQUssR0FBRztRQUN0QixxQkFDRSw4REFBQ0M7WUFBSUMsV0FBVyxnQkFBbUYsT0FBbkVILGFBQWEsMkJBQTJCLDRCQUEyQjtzQkFDakcsNEVBQUNFO2dCQUFJQyxXQUFVOztrQ0FDYiw4REFBQ0Q7d0JBQUlDLFdBQVU7Ozs7OztrQ0FDZiw4REFBQ0M7d0JBQUVELFdBQVdILGFBQWEsa0JBQWtCO2tDQUFpQjs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFJdEU7SUFFQSxxQkFDRSw4REFBQ0U7UUFBSUMsV0FBVyxnQkFBbUYsT0FBbkVILGFBQWEsMkJBQTJCOzswQkFFdEUsOERBQUNFO2dCQUFJQyxXQUFXLGdCQUFnRSxPQUFoREgsYUFBYSxtQkFBbUIsaUJBQWdCOzBCQUM5RSw0RUFBQ0U7b0JBQUlDLFdBQVU7O3NDQUNiLDhEQUFDRDs7OENBQ0MsOERBQUNHO29DQUFHRixXQUFVOzhDQUFxQjs7Ozs7OzhDQUNuQyw4REFBQ0M7b0NBQUVELFdBQVcsR0FBa0QsT0FBL0NILGFBQWEsa0JBQWtCLGlCQUFnQjs4Q0FBVzs7Ozs7Ozs7Ozs7O3NDQUU3RSw4REFBQ0U7NEJBQUlDLFdBQVU7c0NBQ1pKLENBQUFBLGlCQUFBQSw0QkFBQUEsc0JB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V0FBVTswQ0FDYiw0RUFBQ1U7b0NBQ0NRLFNBQVN6QjtvQ0FDVE8sV0FBVyx5Q0FFVixPQURDSCxhQUFhLGtEQUFrRCw2Q0FDaEU7O3NEQUVELDhEQUFDaEIsaUdBQUlBOzRDQUFDMkIsTUFBTTs0Q0FBSVIsV0FBVTs7Ozs7O3NEQUMxQiw4REFBQ3NCOzRDQUFLdEIsV0FBV0gsYUFBYSxlQUFlO3NEQUFpQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFTcEU7R0EzSU1YOztRQUNtQkosOERBQVFBO1FBQ2RDLG1EQUFPQTs7O0tBRnBCRztBQTZJTiwrREFBZUEsUUFBUUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9jb21wb25lbnRzL0hvbWVQYWdlLnRzeD80MjdiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSx1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBUcmVuZGluZ1VwLCBNdXNpYywgUGx1cyB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5pbXBvcnQgeyBTb25nIH0gZnJvbSAnQC90eXBlcyc7XG5pbXBvcnQgeyB1c2VUaGVtZSB9IGZyb20gJ0AvY29tcG9uZW50cy9UaGVtZUNvbnRleHQnO1xuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gJ0AvaG9va3MvdXNlQXV0aCc7XG5pbXBvcnQgU29uZ0NhcmQgZnJvbSAnLi9Tb25nQ2FyZCc7XG5pbXBvcnQgVHJlbmRpbmdTb25nIGZyb20gJy4vVHJlbmRpbmdTb25nJztcbmltcG9ydCB7IGdldEZpbGVMaW5rIH0gZnJvbSAnQC91dGlscy9pbWFnZUNhY2hlJztcblxuXG5pbnRlcmZhY2UgSG9tZVBhZ2VQcm9wcyB7XG4gIHNvbmdzOiBTb25nW107XG4gIG9uU29uZ1BsYXk6IChzb25nOiBTb25nKSA9PiB2b2lkO1xuICBmb3JtYXROdW1iZXI6IChudW06IG51bWJlcikgPT4gc3RyaW5nO1xuICBvbkFkZFRvUGxheWxpc3Q6IChzb25nOiBTb25nKSA9PiB2b2lkO1xuICBvbkFkZFRvUXVldWU6IChzb25nOiBTb25nKSA9PiB2b2lkO1xuICBpbWFnZVVybHM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz47ICAvLyBORVdcbiAgb25Mb2FkTW9yZTogKCkgPT4gdm9pZDsgICAgICAgICAgICAgLy8gTkVXXG4gIGhhc01vcmVTb25nczogYm9vbGVhbjsgICAgICAgICAgICAgIC8vIE5FV1xuICByZWNlbnRseVBsYXllZFNvbmdzOiBTb25nW107ICAgICAgICAvLyBORVdcbn1cblxuXG5jb25zdCBIb21lUGFnZTogUmVhY3QuRkM8SG9tZVBhZ2VQcm9wcz4gPSAoeyBzb25ncywgb25Tb25nUGxheSwgZm9ybWF0TnVtYmVyLCBvbkFkZFRvUGxheWxpc3QsIG9uQWRkVG9RdWV1ZSwgaW1hZ2VVcmxzLG9uTG9hZE1vcmUsaGFzTW9yZVNvbmdzLCByZWNlbnRseVBsYXllZFNvbmdzIH0pID0+IHtcbiAgY29uc3QgeyBpc0RhcmtNb2RlIH0gPSB1c2VUaGVtZSgpO1xuICBjb25zdCB7IHVzZXIgfSA9IHVzZUF1dGgoKTtcbiAgXG4gIC8vIFNob3cgbG9hZGluZyBzdGF0ZSBpZiBubyBzb25ncyBhcmUgbG9hZGVkIHlldFxuICBpZiAoc29uZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtgbWluLWgtc2NyZWVuICR7aXNEYXJrTW9kZSA/ICdiZy1ncmF5LTkwMCB0ZXh0LXdoaXRlJyA6ICdiZy1ncmF5LTUwIHRleHQtZ3JheS05MDAnfSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlcmB9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtMTIgdy0xMiBib3JkZXItYi0yIGJvcmRlci1wdXJwbGUtNTAwIG14LWF1dG8gbWItNFwiPjwvZGl2PlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT17aXNEYXJrTW9kZSA/ICd0ZXh0LWdyYXktNDAwJyA6ICd0ZXh0LWdyYXktNjAwJ30+TG9hZGluZyB5b3VyIG11c2ljLi4uPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtgbWluLWgtc2NyZWVuICR7aXNEYXJrTW9kZSA/ICdiZy1ncmF5LTkwMCB0ZXh0LXdoaXRlJyA6ICdiZy1ncmF5LTUwIHRleHQtZ3JheS05MDAnfWB9PlxuICAgICAgey8qIEhlYWRlciAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtgc3RpY2t5IHRvcC0wICR7aXNEYXJrTW9kZSA/ICdiZy1ncmF5LTkwMC85NScgOiAnYmctZ3JheS01MC85NSd9IGJhY2tkcm9wLWJsdXItbWQgei0xMCBweC00IHB5LTRgfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbWItNFwiPlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkXCI+R29vZCBldmVuaW5nPC9oMT5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT17YCR7aXNEYXJrTW9kZSA/ICd0ZXh0LWdyYXktNDAwJyA6ICd0ZXh0LWdyYXktNjAwJ30gdGV4dC1zbWB9PldoYXQgZG8geW91IHdhbnQgdG8gbGlzdGVuIHRvPzwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAgaC0xMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgICAgICB7dXNlcj8udXNlcl9tZXRhZGF0YT8uYXZhdGFyX3VybCA/IChcbiAgICAgICAgICAgICAgPGltZyBcbiAgICAgICAgICAgICAgICBzcmM9e3VzZXIudXNlcl9tZXRhZGF0YS5hdmF0YXJfdXJsfSBcbiAgICAgICAgICAgICAgICBhbHQ9XCJQcm9maWxlXCIgXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbCBvYmplY3QtY292ZXJcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tcHVycGxlLTUwMCB0by1waW5rLTUwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIDxNdXNpYyBzaXplPXsyMH0gY2xhc3NOYW1lPVwidGV4dC13aGl0ZVwiIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIENvbnRlbnQgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTQgcGItNFwiPlxuICAgICAgICB7LyogVHJlbmRpbmcgU2VjdGlvbiAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi04XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbWItNFwiPlxuICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1zZW1pYm9sZCBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICA8VHJlbmRpbmdVcCBjbGFzc05hbWU9XCJtci0yIHRleHQtcHVycGxlLTQwMFwiIHNpemU9ezIwfSAvPlxuICAgICAgICAgICAgICBUcmVuZGluZyBOb3dcbiAgICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInRleHQtcHVycGxlLTQwMCB0ZXh0LXNtIGZvbnQtbWVkaXVtXCI+U2VlIGFsbDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBzcGFjZS14LTQgb3ZlcmZsb3cteC1hdXRvIHBiLTIgc2Nyb2xsYmFyLWhpZGVcIj5cbiAgICAgICAgICAgIHtzb25ncy5zbGljZSgwLCAxMCkubWFwKChzb25nKSA9PiAoXG4gICAgICAgICAgICAgIDxUcmVuZGluZ1NvbmcgXG4gICAgICAgICAgICAgICAga2V5PXtzb25nLmlkfVxuICAgICAgICAgICAgICAgIHNvbmc9e3sgLi4uc29uZywgaW1hZ2U6IGltYWdlVXJsc1tzb25nLmlkXSB8fCAnJyB9fVxuICAgICAgICAgICAgICAgIG9uUGxheT17b25Tb25nUGxheX1cbiAgICAgICAgICAgICAgICBmb3JtYXROdW1iZXI9e2Zvcm1hdE51bWJlcn1cbiAgICAgICAgICAgICAgICBjYWNoZWRJbWFnZVVybD17aW1hZ2VVcmxzW3NvbmcuaWRdfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBSZWNlbnRseSBQbGF5ZWQgU2VjdGlvbiAqL31cbiAgICAgICAge3JlY2VudGx5UGxheWVkU29uZ3MubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi04XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi00XCI+XG4gICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGRcIj5SZWNlbnRseSBQbGF5ZWQ8L2gyPlxuICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInRleHQtcHVycGxlLTQwMCB0ZXh0LXNtIGZvbnQtbWVkaXVtXCI+U2VlIGFsbDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTMgZ2FwLTNcIj5cbiAgICAgICAgICAgICAge3JlY2VudGx5UGxheWVkU29uZ3MubWFwKChzb25nKSA9PiAoXG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAga2V5PXtzb25nLmlkfVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gb25Tb25nUGxheShzb25nKX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGZsZXggaXRlbXMtY2VudGVyIHAtMiAke1xuICAgICAgICAgICAgICAgICAgICBpc0RhcmtNb2RlID8gJ2JnLWdyYXktODAwIGhvdmVyOmJnLWdyYXktNzAwJyA6ICdiZy13aGl0ZSBob3ZlcjpiZy1ncmF5LTUwIGJvcmRlciBib3JkZXItZ3JheS0yMDAnXG4gICAgICAgICAgICAgICAgICB9IHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1hbGwgZ3JvdXAgdGV4dC1sZWZ0YH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgIHNyYz17aW1hZ2VVcmxzW3NvbmcuaWRdIHx8ICcvcGxhY2Vob2xkZXIucG5nJ31cbiAgICAgICAgICAgICAgICAgICAgYWx0PXtzb25nLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMTIgaC0xMiByb3VuZGVkLWxnIG9iamVjdC1jb3ZlciBtci0zIGZsZXgtc2hyaW5rLTBcIlxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG1pbi13LTBcIj5cbiAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT17YGZvbnQtbWVkaXVtICR7aXNEYXJrTW9kZSA/ICd0ZXh0LXdoaXRlJyA6ICd0ZXh0LWdyYXktOTAwJ30gdHJ1bmNhdGUgdGV4dC1zbWB9PlxuICAgICAgICAgICAgICAgICAgICAgIHtzb25nLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT17YCR7aXNEYXJrTW9kZSA/ICd0ZXh0LWdyYXktNDAwJyA6ICd0ZXh0LWdyYXktNjAwJ30gdGV4dC14cyB0cnVuY2F0ZWB9PlxuICAgICAgICAgICAgICAgICAgICAgIHtzb25nLmFydGlzdH1cbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAgey8qIFJlY29tbWVuZGF0aW9ucyBTZWN0aW9uICovfVxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG1iLTRcIj5cbiAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGRcIj5NYWRlIGZvciB5b3U8L2gyPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJ0ZXh0LXB1cnBsZS00MDAgdGV4dC1zbSBmb250LW1lZGl1bVwiPlNlZSBhbGw8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAge3NvbmdzLm1hcCgoc29uZykgPT4gKFxuICAgICAgICAgICAgICA8U29uZ0NhcmRcbiAgICAgICAgICAgICAgICBrZXk9e3NvbmcuaWR9XG4gICAgICAgICAgICAgICAgc29uZz17eyAuLi5zb25nLCBpbWFnZTogaW1hZ2VVcmxzW3NvbmcuaWRdIHx8ICcnIH19XG4gICAgICAgICAgICAgICAgb25QbGF5PXtvblNvbmdQbGF5fVxuICAgICAgICAgICAgICAgIGZvcm1hdE51bWJlcj17Zm9ybWF0TnVtYmVyfVxuICAgICAgICAgICAgICAgIG9uQWRkVG9QbGF5bGlzdD17b25BZGRUb1BsYXlsaXN0fVxuICAgICAgICAgICAgICAgIG9uQWRkVG9RdWV1ZT17b25BZGRUb1F1ZXVlfVxuICAgICAgICAgICAgICAgIGNhY2hlZEltYWdlVXJsPXtpbWFnZVVybHNbc29uZy5pZF19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICB7LyogTG9hZCBNb3JlIEJ1dHRvbiAqL31cbiAgICAgICAgICB7aGFzTW9yZVNvbmdzICYmIChcbiAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktY2VudGVyIG10LTZcIj5cbiAgICA8YnV0dG9uXG4gICAgICBvbkNsaWNrPXtvbkxvYWRNb3JlfVxuICAgICAgY2xhc3NOYW1lPXtgZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yIHB4LTYgcHktMyAke1xuICAgICAgICBpc0RhcmtNb2RlID8gJ2JnLWdyYXktODAwIGhvdmVyOmJnLWdyYXktNzAwIGJvcmRlci1ncmF5LTcwMCcgOiAnYmctd2hpdGUgaG92ZXI6YmctZ3JheS01MCBib3JkZXItZ3JheS0yMDAnXG4gICAgICB9IGJvcmRlciByb3VuZGVkLWZ1bGwgdHJhbnNpdGlvbi1jb2xvcnNgfVxuICAgID5cbiAgICAgIDxQbHVzIHNpemU9ezE4fSBjbGFzc05hbWU9XCJ0ZXh0LXB1cnBsZS00MDBcIiAvPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPXtpc0RhcmtNb2RlID8gJ3RleHQtd2hpdGUnIDogJ3RleHQtZ3JheS05MDAnfT5Mb2FkIE1vcmU8L3NwYW4+XG4gICAgPC9idXR0b24+XG4gIDwvZGl2PlxuKX1cblxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgSG9tZVBhZ2U7Il0sIm5hbWVzIjpbIlJlYWN0IiwiVHJlbmRpbmdVcCIsIk11c2ljIiwiUGx1cyIsInVzZVRoZW1lIiwidXNlQXV0aCIsIlNvbmdDYXJkIiwiVHJlbmRpbmdTb25nIiwiSG9tZVBhZ2UiLCJzb25ncyIsIm9uU29uZ1BsYXkiLCJmb3JtYXROdW1iZXIiLCJvbkFkZFRvUGxheWxpc3QiLCJvbkFkZFRvUXVldWUiLCJpbWFnZVVybHMiLCJvbkxvYWRNb3JlIiwiaGFzTW9yZVNvbmdzIiwicmVjZW50bHlQbGF5ZWRTb25ncyIsInVzZXIiLCJpc0RhcmtNb2RlIiwibGVuZ3RoIiwiZGl2IiwiY2xhc3NOYW1lIiwicCIsImgxIiwidXNlcl9tZXRhZGF0YSIsImF2YXRhcl91cmwiLCJpbWciLCJzcmMiLCJhbHQiLCJzaXplIiwiaDIiLCJidXR0b24iLCJzbGljZSIsIm1hcCIsInNvbmciLCJpbWFnZSIsImlkIiwib25QbGF5IiwiY2FjaGVkSW1hZ2VVcmwiLCJvbkNsaWNrIiwibmFtZSIsImgzIiwiYXJ0aXN0Iiwic3BhbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/HomePage.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./hooks/useSupabaseData.ts":
/*!**********************************!*\
  !*** ./hooks/useSupabaseData.ts ***!
  \**********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useSupabaseData: function() { return /* binding */ useSupabaseData; }\n/* harmony export */ });\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/supabase */ \"(app-pages-browser)/./lib/supabase.ts\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nfunction useSupabaseData(user) {\n    const [songs, setSongs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [playlists, setPlaylists] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [likedSongs, setLikedSongs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Set());\n    const [lastPlayedSong, setLastPlayedSong] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [recentlyPlayedSongs, setRecentlyPlayedSongs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [currentSongStartTime, setCurrentSongStartTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const currentSongRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Get personalized songs based on user's actual listening preferences\n    const getSmartPersonalizedSongs = async (userId, listenedSongsInBatch, excludeSongs)=>{\n        try {\n            console.log(\"\\uD83E\\uDDE0 Fetching smart personalized songs based on listening behavior\");\n            console.log(\"\\uD83C\\uDFB5 Songs user actually listened to:\", listenedSongsInBatch.map((s)=>s.name));\n            if (listenedSongsInBatch.length === 0) {\n                console.log(\"⚠️ No listened songs in batch, falling back to regular personalization\");\n                return [];\n            }\n            // Extract tags and artists from listened songs\n            const preferredTags = new Set();\n            const preferredArtists = new Set();\n            listenedSongsInBatch.forEach((song)=>{\n                var _song_tags;\n                (_song_tags = song.tags) === null || _song_tags === void 0 ? void 0 : _song_tags.forEach((tag)=>preferredTags.add(tag.toLowerCase()));\n                preferredArtists.add(song.artist.toLowerCase());\n            });\n            console.log(\"\\uD83C\\uDFF7️ Preferred tags:\", Array.from(preferredTags));\n            console.log(\"\\uD83C\\uDFA4 Preferred artists:\", Array.from(preferredArtists));\n            // Fetch all songs from database\n            const { data: songsData, error: songsError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"songs\").select(\"*\");\n            if (songsError) {\n                console.error(\"❌ Error fetching songs for smart personalization:\", songsError);\n                return [];\n            }\n            if (!songsData || songsData.length === 0) {\n                console.warn(\"⚠️ No songs found in database\");\n                return [];\n            }\n            // Get user's liked songs\n            const { data: likedData } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"liked_songs\").select(\"song_id\").eq(\"user_id\", userId);\n            const userLikedSongs = new Set();\n            if (likedData) {\n                likedData.forEach((item)=>userLikedSongs.add(item.song_id));\n            }\n            // Filter and score songs based on listening preferences\n            const availableSongs = songsData.filter((song)=>{\n                return !excludeSongs.has(song.file_id.toString());\n            });\n            console.log(\"\\uD83C\\uDFB5 Available songs for smart recommendations: \".concat(availableSongs.length));\n            if (availableSongs.length === 0) {\n                console.warn(\"⚠️ No available songs after filtering\");\n                return [];\n            }\n            // Score songs based on user's listening preferences\n            const scoredSongs = availableSongs.map((song)=>{\n                var _song_tags;\n                let score = 0;\n                // High priority: Tag matching with listened songs\n                const songTags = ((_song_tags = song.tags) === null || _song_tags === void 0 ? void 0 : _song_tags.map((tag)=>tag.toLowerCase())) || [];\n                const matchingTags = songTags.filter((tag)=>preferredTags.has(tag));\n                score += matchingTags.length * 25; // Higher weight for tag matching\n                // High priority: Artist matching with listened songs\n                if (preferredArtists.has(song.artist.toLowerCase())) {\n                    score += 30; // Higher weight for artist matching\n                }\n                // Medium priority: Same language as listened songs\n                const listenedLanguages = listenedSongsInBatch.map((s)=>s.language);\n                if (listenedLanguages.includes(song.language)) {\n                    score += 15;\n                }\n                // Lower priority: General popularity\n                score += Math.log(1 + (song.likes || 0)) * 2;\n                score += Math.log(1 + (song.views || 0)) * 1;\n                // Bonus for liked songs\n                if (userLikedSongs.has(song.file_id)) {\n                    score += 10;\n                }\n                // Add small randomness to avoid repetition\n                score += Math.random() * 2;\n                return {\n                    song: convertDatabaseSong(song, userLikedSongs.has(song.file_id)),\n                    score\n                };\n            });\n            // Sort by score and return top recommendations\n            const recommendations = scoredSongs.sort((a, b)=>b.score - a.score).slice(0, 15) // Get more songs for variety\n            .map((entry)=>entry.song);\n            console.log(\"\\uD83E\\uDDE0 Smart recommendations based on listening behavior:\", recommendations.slice(0, 5).map((s)=>\"\".concat(s.name, \" by \").concat(s.artist)));\n            return recommendations;\n        } catch (error) {\n            console.error(\"❌ Error in getSmartPersonalizedSongs:\", error);\n            return [];\n        }\n    };\n    // Convert database song to UI song format\n    const convertDatabaseSong = function(dbSong) {\n        let isLiked = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n        return {\n            file_id: dbSong.file_id,\n            img_id: dbSong.img_id,\n            name: dbSong.name,\n            artist: dbSong.artist,\n            language: dbSong.language,\n            tags: dbSong.tags,\n            views: dbSong.views,\n            likes: dbSong.likes,\n            id: dbSong.file_id.toString(),\n            image: \"https://images.pexels.com/photos/\".concat(dbSong.img_id, \"/pexels-photo-\").concat(dbSong.img_id, \".jpeg?auto=compress&cs=tinysrgb&w=300\"),\n            isLiked\n        };\n    };\n    // Fetch all songs\n    const fetchSongs = async ()=>{\n        if (!user) {\n            setSongs([]);\n            return;\n        }\n        try {\n            const { data: songsData, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"songs\").select(\"*\").order(\"views\", {\n                ascending: false\n            });\n            if (error) throw error;\n            let userLikedSongs = new Set();\n            const { data: likedData } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"liked_songs\").select(\"song_id\").eq(\"user_id\", user.id);\n            if (likedData) {\n                userLikedSongs = new Set(likedData.map((item)=>item.song_id));\n                setLikedSongs(userLikedSongs);\n            }\n            const convertedSongs = (songsData === null || songsData === void 0 ? void 0 : songsData.map((song)=>convertDatabaseSong(song, userLikedSongs.has(song.file_id)))) || [];\n            const sortedSongs = [\n                ...convertedSongs\n            ].sort((a, b)=>{\n                const aScore = a.views + a.likes;\n                const bScore = b.views + b.likes;\n                return bScore - aScore;\n            });\n            setSongs(sortedSongs);\n            const { data: userData } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"users\").select(\"last_song_file_id\").eq(\"id\", user.id).single();\n            if (userData === null || userData === void 0 ? void 0 : userData.last_song_file_id) {\n                const lastSong = convertedSongs.find((song)=>song.file_id === userData.last_song_file_id);\n                if (lastSong) {\n                    setLastPlayedSong(lastSong);\n                }\n            }\n        } catch (error) {\n            console.error(\"Error fetching songs:\", error);\n            setSongs([]) // Set empty array on error\n            ;\n        }\n    };\n    // Get personalized songs with proper error handling and filtering\n    const getPersonalizedSongs = async (userId, currentSong, listenedSongs)=>{\n        try {\n            console.log(\"\\uD83C\\uDFB5 Fetching personalized songs for:\", currentSong.name);\n            console.log(\"\\uD83C\\uDFB5 Listened songs count:\", (listenedSongs === null || listenedSongs === void 0 ? void 0 : listenedSongs.size) || 0);\n            // 1. Fetch all songs from database\n            const { data: songsData, error: songsError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"songs\").select(\"*\");\n            if (songsError) {\n                console.error(\"❌ Error fetching songs for personalization:\", songsError);\n                return [];\n            }\n            if (!songsData || songsData.length === 0) {\n                console.warn(\"⚠️ No songs found in database\");\n                return [];\n            }\n            // 2. Fetch user's listening history\n            const { data: historyData, error: historyError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"history\").select(\"song_id, minutes_listened\").eq(\"user_id\", userId);\n            if (historyError) {\n                console.error(\"❌ Error fetching history:\", historyError);\n            }\n            const historyMap = new Map();\n            if (historyData) {\n                historyData.forEach((h)=>historyMap.set(h.song_id, h.minutes_listened || 0));\n            }\n            // 3. Get user's liked songs\n            const { data: likedData } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"liked_songs\").select(\"song_id\").eq(\"user_id\", userId);\n            const userLikedSongs = new Set();\n            if (likedData) {\n                likedData.forEach((item)=>userLikedSongs.add(item.song_id));\n            }\n            // 4. Filter and score songs\n            const availableSongs = songsData.filter((song)=>{\n                // Exclude current song\n                if (song.file_id === currentSong.file_id) {\n                    return false;\n                }\n                // Exclude listened songs if provided\n                if (listenedSongs && listenedSongs.has(song.file_id.toString())) {\n                    console.log(\"\\uD83D\\uDEAB Excluding listened song: \".concat(song.name, \" by \").concat(song.artist));\n                    return false;\n                }\n                return true;\n            });\n            console.log(\"\\uD83C\\uDFB5 Available songs after filtering: \".concat(availableSongs.length));\n            if (availableSongs.length === 0) {\n                console.warn(\"⚠️ No available songs after filtering\");\n                return [];\n            }\n            // 5. Score and sort songs\n            const scoredSongs = availableSongs.map((song)=>{\n                var _song_tags;\n                let score = 0;\n                // Tag matching (highest priority)\n                const matchingTags = ((_song_tags = song.tags) === null || _song_tags === void 0 ? void 0 : _song_tags.filter((tag)=>{\n                    var _currentSong_tags;\n                    return (_currentSong_tags = currentSong.tags) === null || _currentSong_tags === void 0 ? void 0 : _currentSong_tags.includes(tag);\n                })) || [];\n                score += matchingTags.length * 15;\n                // Artist matching\n                if (song.artist === currentSong.artist) {\n                    score += 25;\n                }\n                // Language matching\n                if (song.language === currentSong.language) {\n                    score += 10;\n                }\n                // Listening history boost\n                const listenedMinutes = historyMap.get(song.file_id) || 0;\n                score += Math.min(listenedMinutes * 2, 20); // Cap at 20 points\n                // Popularity boost (likes and views)\n                score += Math.log(1 + (song.likes || 0)) * 2;\n                score += Math.log(1 + (song.views || 0)) * 1;\n                // Liked songs boost\n                if (userLikedSongs.has(song.file_id)) {\n                    score += 8;\n                }\n                // Add controlled randomness to avoid repetition\n                score += Math.random() * 3;\n                return {\n                    song: convertDatabaseSong(song, userLikedSongs.has(song.file_id)),\n                    score\n                };\n            });\n            // 6. Sort by score and return top recommendations\n            const recommendations = scoredSongs.sort((a, b)=>b.score - a.score).slice(0, 10) // Get more songs to have a buffer\n            .map((entry)=>entry.song);\n            console.log(\"\\uD83C\\uDFB5 Personalized recommendations:\", recommendations.slice(0, 5).map((s)=>\"\".concat(s.name, \" by \").concat(s.artist)));\n            console.log(\"\\uD83C\\uDFB5 Total available songs:\", availableSongs.length);\n            return recommendations;\n        } catch (error) {\n            console.error(\"❌ Error in getPersonalizedSongs:\", error);\n            return [];\n        }\n    };\n    // Fetch recently played songs based on listening history\n    const fetchRecentlyPlayed = async ()=>{\n        if (!user) {\n            setRecentlyPlayedSongs([]);\n            return;\n        }\n        try {\n            // Get user's listening history sorted by minutes listened\n            const { data: historyData, error: historyError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"history\").select(\"\\n          song_id,\\n          minutes_listened,\\n          songs (*)\\n        \").eq(\"user_id\", user.id).order(\"minutes_listened\", {\n                ascending: false\n            }).limit(9);\n            if (historyError) {\n                console.error(\"Error fetching recently played:\", historyError);\n                return;\n            }\n            if (!historyData || historyData.length === 0) {\n                setRecentlyPlayedSongs([]);\n                return;\n            }\n            // Get user's liked songs for proper conversion\n            const { data: likedData } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"liked_songs\").select(\"song_id\").eq(\"user_id\", user.id);\n            const userLikedSongs = new Set();\n            if (likedData) {\n                likedData.forEach((item)=>userLikedSongs.add(item.song_id));\n            }\n            // Convert to Song format\n            const recentSongs = historyData.filter((item)=>item.songs) // Ensure song data exists\n            .map((item)=>convertDatabaseSong(item.songs, userLikedSongs.has(item.song_id)));\n            setRecentlyPlayedSongs(recentSongs);\n        } catch (error) {\n            console.error(\"Error fetching recently played songs:\", error);\n            setRecentlyPlayedSongs([]);\n        }\n    };\n    // Fetch user playlists\n    const fetchPlaylists = async ()=>{\n        if (!user) {\n            setPlaylists([]);\n            return;\n        }\n        try {\n            const { data: playlistsData, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"playlists\").select(\"\\n          id,\\n          name,\\n          playlist_songs (\\n            songs (*)\\n          )\\n        \").eq(\"user_id\", user.id);\n            if (error) throw error;\n            const convertedPlaylists = (playlistsData === null || playlistsData === void 0 ? void 0 : playlistsData.map((playlist)=>{\n                var _playlist_playlist_songs, _playlistSongs_;\n                const playlistSongs = ((_playlist_playlist_songs = playlist.playlist_songs) === null || _playlist_playlist_songs === void 0 ? void 0 : _playlist_playlist_songs.map((ps)=>convertDatabaseSong(ps.songs, likedSongs.has(ps.songs.file_id)))) || [];\n                return {\n                    id: playlist.id.toString(),\n                    name: playlist.name,\n                    songCount: playlistSongs.length,\n                    image: ((_playlistSongs_ = playlistSongs[0]) === null || _playlistSongs_ === void 0 ? void 0 : _playlistSongs_.image) || \"https://images.pexels.com/photos/1763075/pexels-photo-1763075.jpeg?auto=compress&cs=tinysrgb&w=300\",\n                    songs: playlistSongs\n                };\n            })) || [];\n            setPlaylists(convertedPlaylists);\n        } catch (error) {\n            console.error(\"Error fetching playlists:\", error);\n        }\n    };\n    // Toggle like song\n    const toggleLike = async (songId)=>{\n        if (!user) return;\n        const songFileId = parseInt(songId);\n        const isCurrentlyLiked = likedSongs.has(songFileId);\n        try {\n            if (isCurrentlyLiked) {\n                // Remove from liked_songs\n                const { error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"liked_songs\").delete().eq(\"user_id\", user.id).eq(\"song_id\", songFileId);\n                if (error) throw error;\n                // Decrement likes\n                await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.rpc(\"decrement_song_likes\", {\n                    song_file_id: songFileId\n                });\n                setLikedSongs((prev)=>{\n                    const newSet = new Set(prev);\n                    newSet.delete(songFileId);\n                    return newSet;\n                });\n            } else {\n                // Add to liked_songs\n                const { error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"liked_songs\").insert({\n                    user_id: user.id,\n                    song_id: songFileId\n                });\n                if (error) throw error;\n                // Increment likes\n                await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.rpc(\"increment_song_likes\", {\n                    song_file_id: songFileId\n                });\n                setLikedSongs((prev)=>new Set(prev).add(songFileId));\n            }\n            // Update songs state\n            // Update songs state\n            setSongs((prevSongs)=>prevSongs.map((song)=>song.id === songId ? {\n                        ...song,\n                        isLiked: !isCurrentlyLiked,\n                        likes: song.likes + (isCurrentlyLiked ? -1 : 1)\n                    } : song));\n            // Update playlists state\n            setPlaylists((prevPlaylists)=>prevPlaylists.map((playlist)=>({\n                        ...playlist,\n                        songs: playlist.songs.map((song)=>song.id === songId ? {\n                                ...song,\n                                isLiked: !isCurrentlyLiked,\n                                likes: song.likes + (isCurrentlyLiked ? -1 : 1)\n                            } : song)\n                    })));\n        } catch (error) {\n            console.error(\"Error toggling like:\", error);\n        }\n    };\n    // Create playlist\n    const createPlaylist = async (name)=>{\n        if (!user) return;\n        try {\n            const { data, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"playlists\").insert({\n                user_id: user.id,\n                name\n            }).select().single();\n            if (error) throw error;\n            const newPlaylist = {\n                id: data.id.toString(),\n                name: data.name,\n                songCount: 0,\n                image: \"https://images.pexels.com/photos/1763075/pexels-photo-1763075.jpeg?auto=compress&cs=tinysrgb&w=300\",\n                songs: []\n            };\n            setPlaylists((prev)=>[\n                    ...prev,\n                    newPlaylist\n                ]);\n        } catch (error) {\n            console.error(\"Error creating playlist:\", error);\n        }\n    };\n    // Delete playlist\n    const deletePlaylist = async (playlistId)=>{\n        if (!user) return;\n        try {\n            const { error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"playlists\").delete().eq(\"id\", parseInt(playlistId)).eq(\"user_id\", user.id);\n            if (error) throw error;\n            setPlaylists((prev)=>prev.filter((playlist)=>playlist.id !== playlistId));\n        } catch (error) {\n            console.error(\"Error deleting playlist:\", error);\n        }\n    };\n    // Rename playlist\n    const renamePlaylist = async (playlistId, newName)=>{\n        if (!user) return;\n        try {\n            const { error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"playlists\").update({\n                name: newName\n            }).eq(\"id\", parseInt(playlistId)).eq(\"user_id\", user.id);\n            if (error) throw error;\n            setPlaylists((prev)=>prev.map((playlist)=>playlist.id === playlistId ? {\n                        ...playlist,\n                        name: newName\n                    } : playlist));\n        } catch (error) {\n            console.error(\"Error renaming playlist:\", error);\n        }\n    };\n    // Add song to playlist\n    const addSongToPlaylist = async (playlistId, song)=>{\n        if (!user) return;\n        try {\n            const { error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"playlist_songs\").insert({\n                playlist_id: parseInt(playlistId),\n                song_id: song.file_id\n            });\n            if (error) throw error;\n            setPlaylists((prev)=>prev.map((playlist)=>{\n                    if (playlist.id === playlistId) {\n                        const songExists = playlist.songs.some((s)=>s.id === song.id);\n                        if (!songExists) {\n                            var _updatedSongs_;\n                            const updatedSongs = [\n                                ...playlist.songs,\n                                song\n                            ];\n                            return {\n                                ...playlist,\n                                songs: updatedSongs,\n                                songCount: updatedSongs.length,\n                                image: ((_updatedSongs_ = updatedSongs[0]) === null || _updatedSongs_ === void 0 ? void 0 : _updatedSongs_.image) || playlist.image\n                            };\n                        }\n                    }\n                    return playlist;\n                }));\n        } catch (error) {\n            console.error(\"Error adding song to playlist:\", error);\n        }\n    };\n    // Remove song from playlist\n    const removeSongFromPlaylist = async (playlistId, songId)=>{\n        if (!user) return;\n        try {\n            const { error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"playlist_songs\").delete().eq(\"playlist_id\", parseInt(playlistId)).eq(\"song_id\", parseInt(songId));\n            if (error) throw error;\n            setPlaylists((prev)=>prev.map((playlist)=>{\n                    if (playlist.id === playlistId) {\n                        var _updatedSongs_;\n                        const updatedSongs = playlist.songs.filter((song)=>song.id !== songId);\n                        return {\n                            ...playlist,\n                            songs: updatedSongs,\n                            songCount: updatedSongs.length,\n                            image: ((_updatedSongs_ = updatedSongs[0]) === null || _updatedSongs_ === void 0 ? void 0 : _updatedSongs_.image) || \"https://images.pexels.com/photos/1763075/pexels-photo-1763075.jpeg?auto=compress&cs=tinysrgb&w=300\"\n                        };\n                    }\n                    return playlist;\n                }));\n        } catch (error) {\n            console.error(\"Error removing song from playlist:\", error);\n        }\n    };\n    // Update last song in user profile\n    const updateLastSong = async (songId)=>{\n        if (!user) return;\n        try {\n            const { error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"users\").update({\n                last_song_file_id: parseInt(songId)\n            }).eq(\"id\", user.id);\n            if (error) throw error;\n        } catch (error) {\n            console.error(\"Error updating last song:\", error);\n        }\n    };\n    // Record listening history with proper time tracking\n    const recordListeningHistory = async (songId)=>{\n        if (!user) return;\n        // If there's a previous song playing, record its listening time\n        if (currentSongRef.current && currentSongStartTime) {\n            const endTime = new Date();\n            const minutesListened = (endTime.getTime() - currentSongStartTime.getTime()) / (1000 * 60);\n            if (minutesListened > 0.1) {\n                try {\n                    const minutes = Math.round(minutesListened * 100) / 100;\n                    const { error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.rpc(\"upsert_history_minutes\", {\n                        user_uuid: user.id,\n                        song_file_id: parseInt(currentSongRef.current),\n                        minutes: minutes\n                    });\n                    if (error) {\n                        console.error(\"❌ Error recording song history:\", error);\n                    } else {\n                        console.log(\"✅ History updated: +\".concat(minutes, \" mins for song \").concat(currentSongRef.current));\n                    }\n                } catch (error) {\n                    console.error(\"Error recording previous song history:\", error);\n                }\n            }\n        }\n        // Set new song as current\n        currentSongRef.current = songId;\n        setCurrentSongStartTime(new Date());\n        // Update last song in user profile\n        await updateLastSong(songId);\n        try {\n            await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.rpc(\"increment_song_views\", {\n                song_file_id: parseInt(songId)\n            });\n        } catch (error) {\n            console.error(\"Error incrementing song views:\", error);\n        }\n    };\n    // Stop current song tracking (when player is closed)\n    const stopCurrentSongTracking = async ()=>{\n        if (currentSongRef.current && currentSongStartTime && user) {\n            const endTime = new Date();\n            const minutesListened = (endTime.getTime() - currentSongStartTime.getTime()) / (1000 * 60);\n            if (minutesListened > 0.1) {\n                try {\n                    const minutes = Math.round(minutesListened * 100) / 100;\n                    const { error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.rpc(\"upsert_history_minutes\", {\n                        user_uuid: user.id,\n                        song_file_id: parseInt(currentSongRef.current),\n                        minutes: minutes\n                    });\n                    if (error) {\n                        console.error(\"❌ Error recording song history on stop:\", error);\n                    } else {\n                        console.log(\"\\uD83D\\uDED1 History updated on stop: +\".concat(minutes, \" mins for song \").concat(currentSongRef.current));\n                    }\n                } catch (error) {\n                    console.error(\"Error recording final song history:\", error);\n                }\n            }\n        }\n        currentSongRef.current = null;\n        setCurrentSongStartTime(null);\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const loadData = async ()=>{\n            if (!user) {\n                // Reset data when user logs out\n                setSongs([]);\n                setPlaylists([]);\n                setLikedSongs(new Set());\n                setLastPlayedSong(null);\n                setLoading(false);\n                return;\n            }\n            try {\n                setLoading(true);\n                await Promise.all([\n                    fetchSongs(),\n                    fetchPlaylists(),\n                    fetchRecentlyPlayed()\n                ]);\n            } catch (error) {\n                console.error(\"Error loading data:\", error);\n            } finally{\n                setLoading(false);\n            }\n        };\n        loadData();\n    }, [\n        user\n    ]);\n    return {\n        songs,\n        playlists,\n        likedSongs: songs.filter((song)=>song.isLiked),\n        recentlyPlayedSongs,\n        lastPlayedSong,\n        loading,\n        toggleLike,\n        createPlaylist,\n        deletePlaylist,\n        renamePlaylist,\n        addSongToPlaylist,\n        removeSongFromPlaylist,\n        recordListeningHistory,\n        stopCurrentSongTracking,\n        refreshData: ()=>{\n            fetchSongs();\n            fetchPlaylists();\n            fetchRecentlyPlayed();\n        },\n        getPersonalizedSongs,\n        getSmartPersonalizedSongs\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2hvb2tzL3VzZVN1cGFiYXNlRGF0YS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXVEO0FBR0o7QUFFNUMsU0FBU0ksZ0JBQWdCQyxJQUFpQjtJQUMvQyxNQUFNLENBQUNDLE9BQU9DLFNBQVMsR0FBR0osK0NBQVFBLENBQVMsRUFBRTtJQUM3QyxNQUFNLENBQUNLLFdBQVdDLGFBQWEsR0FBR04sK0NBQVFBLENBQWEsRUFBRTtJQUN6RCxNQUFNLENBQUNPLFlBQVlDLGNBQWMsR0FBR1IsK0NBQVFBLENBQWMsSUFBSVM7SUFDOUQsTUFBTSxDQUFDQyxnQkFBZ0JDLGtCQUFrQixHQUFHWCwrQ0FBUUEsQ0FBYztJQUNsRSxNQUFNLENBQUNZLHFCQUFxQkMsdUJBQXVCLEdBQUdiLCtDQUFRQSxDQUFTLEVBQUU7SUFDekUsTUFBTSxDQUFDYyxTQUFTQyxXQUFXLEdBQUdmLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQ2dCLHNCQUFzQkMsd0JBQXdCLEdBQUdqQiwrQ0FBUUEsQ0FBYztJQUM5RSxNQUFNa0IsaUJBQWlCbkIsNkNBQU1BLENBQWdCO0lBRTdDLHNFQUFzRTtJQUN0RSxNQUFNb0IsNEJBQTRCLE9BQ2hDQyxRQUNBQyxzQkFDQUM7UUFFQSxJQUFJO1lBQ0ZDLFFBQVFDLEdBQUcsQ0FBQztZQUNaRCxRQUFRQyxHQUFHLENBQUMsaURBQXVDSCxxQkFBcUJJLEdBQUcsQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRUMsSUFBSTtZQUV2RixJQUFJTixxQkFBcUJPLE1BQU0sS0FBSyxHQUFHO2dCQUNyQ0wsUUFBUUMsR0FBRyxDQUFDO2dCQUNaLE9BQU8sRUFBRTtZQUNYO1lBRUEsK0NBQStDO1lBQy9DLE1BQU1LLGdCQUFnQixJQUFJcEI7WUFDMUIsTUFBTXFCLG1CQUFtQixJQUFJckI7WUFFN0JZLHFCQUFxQlUsT0FBTyxDQUFDQyxDQUFBQTtvQkFDM0JBO2lCQUFBQSxhQUFBQSxLQUFLQyxJQUFJLGNBQVRELGlDQUFBQSxXQUFX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b0JBQzNELE9BQU87d0JBQ0xuQixRQUFRQyxHQUFHLENBQUMsMENBQXlETixPQUF6Qm9JLFNBQVEsbUJBQXdDLE9BQXZCcEksZUFBZStILE9BQU87b0JBQzdGO2dCQUNGLEVBQUUsT0FBT3ZHLE9BQU87b0JBQ2RuQixRQUFRbUIsS0FBSyxDQUFDLHVDQUF1Q0E7Z0JBQ3ZEO1lBQ0Y7UUFFSTtRQUVBeEIsZUFBZStILE9BQU8sR0FBRztRQUN6QmhJLHdCQUF3QjtJQUMxQjtJQUVBbkIsZ0RBQVNBLENBQUM7UUFDUixNQUFNNEosV0FBVztZQUNmLElBQUksQ0FBQ3hKLE1BQU07Z0JBQ1QsZ0NBQWdDO2dCQUNoQ0UsU0FBUyxFQUFFO2dCQUNYRSxhQUFhLEVBQUU7Z0JBQ2ZFLGNBQWMsSUFBSUM7Z0JBQ2xCRSxrQkFBa0I7Z0JBQ2xCSSxXQUFXO2dCQUNYO1lBQ0Y7WUFFQSxJQUFJO2dCQUNGQSxXQUFXO2dCQUNYLE1BQU00SSxRQUFRQyxHQUFHLENBQUM7b0JBQUM3RTtvQkFBYzZCO29CQUFrQkg7aUJBQXNCO1lBQzNFLEVBQUUsT0FBTy9ELE9BQU87Z0JBQ2RuQixRQUFRbUIsS0FBSyxDQUFDLHVCQUF1QkE7WUFDdkMsU0FBVTtnQkFDUjNCLFdBQVc7WUFDYjtRQUNGO1FBRUEySTtJQUNGLEdBQUc7UUFBQ3hKO0tBQUs7SUFFVCxPQUFPO1FBQ0xDO1FBQ0FFO1FBQ0FFLFlBQVlKLE1BQU1pRCxNQUFNLENBQUNwQixDQUFBQSxPQUFRQSxLQUFLMkMsT0FBTztRQUM3Qy9EO1FBQ0FGO1FBQ0FJO1FBQ0FzRztRQUNBYztRQUNBRTtRQUNBRTtRQUNBRztRQUNBSztRQUNBRTtRQUNBUztRQUNBSSxhQUFhO1lBQ1g5RTtZQUNBNkI7WUFDQUg7UUFDRjtRQUNBZDtRQUNBeEU7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2hvb2tzL3VzZVN1cGFiYXNlRGF0YS50cz9hYmZjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERhdGFiYXNlU29uZywgc3VwYWJhc2UgfSBmcm9tICdAL2xpYi9zdXBhYmFzZSdcbmltcG9ydCB7IFBsYXlsaXN0LCBTb25nIH0gZnJvbSAnQC90eXBlcydcbmltcG9ydCB7IFVzZXIgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZVN1cGFiYXNlRGF0YSh1c2VyOiBVc2VyIHwgbnVsbCkge1xuICBjb25zdCBbc29uZ3MsIHNldFNvbmdzXSA9IHVzZVN0YXRlPFNvbmdbXT4oW10pXG4gIGNvbnN0IFtwbGF5bGlzdHMsIHNldFBsYXlsaXN0c10gPSB1c2VTdGF0ZTxQbGF5bGlzdFtdPihbXSlcbiAgY29uc3QgW2xpa2VkU29uZ3MsIHNldExpa2VkU29uZ3NdID0gdXNlU3RhdGU8U2V0PG51bWJlcj4+KG5ldyBTZXQoKSlcbiAgY29uc3QgW2xhc3RQbGF5ZWRTb25nLCBzZXRMYXN0UGxheWVkU29uZ10gPSB1c2VTdGF0ZTxTb25nIHwgbnVsbD4obnVsbClcbiAgY29uc3QgW3JlY2VudGx5UGxheWVkU29uZ3MsIHNldFJlY2VudGx5UGxheWVkU29uZ3NdID0gdXNlU3RhdGU8U29uZ1tdPihbXSlcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSlcbiAgY29uc3QgW2N1cnJlbnRTb25nU3RhcnRUaW1lLCBzZXRDdXJyZW50U29uZ1N0YXJ0VGltZV0gPSB1c2VTdGF0ZTxEYXRlIHwgbnVsbD4obnVsbClcbiAgY29uc3QgY3VycmVudFNvbmdSZWYgPSB1c2VSZWY8c3RyaW5nIHwgbnVsbD4obnVsbClcblxuICAvLyBHZXQgcGVyc29uYWxpemVkIHNvbmdzIGJhc2VkIG9uIHVzZXIncyBhY3R1YWwgbGlzdGVuaW5nIHByZWZlcmVuY2VzXG4gIGNvbnN0IGdldFNtYXJ0UGVyc29uYWxpemVkU29uZ3MgPSBhc3luYyAoXG4gICAgdXNlcklkOiBzdHJpbmcsIFxuICAgIGxpc3RlbmVkU29uZ3NJbkJhdGNoOiBTb25nW10sIFxuICAgIGV4Y2x1ZGVTb25nczogU2V0PHN0cmluZz5cbiAgKTogUHJvbWlzZTxTb25nW10+ID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coJ/Cfp6AgRmV0Y2hpbmcgc21hcnQgcGVyc29uYWxpemVkIHNvbmdzIGJhc2VkIG9uIGxpc3RlbmluZyBiZWhhdmlvcicpO1xuICAgICAgY29uc29sZS5sb2coJ/CfjrUgU29uZ3MgdXNlciBhY3R1YWxseSBsaXN0ZW5lZCB0bzonLCBsaXN0ZW5lZFNvbmdzSW5CYXRjaC5tYXAocyA9PiBzLm5hbWUpKTtcbiAgICAgIFxuICAgICAgaWYgKGxpc3RlbmVkU29uZ3NJbkJhdGNoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25zb2xlLmxvZygn4pqg77iPIE5vIGxpc3RlbmVkIHNvbmdzIGluIGJhdGNoLCBmYWxsaW5nIGJhY2sgdG8gcmVndWxhciBwZXJzb25hbGl6YXRpb24nKTtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuXG4gICAgICAvLyBFeHRyYWN0IHRhZ3MgYW5kIGFydGlzdHMgZnJvbSBsaXN0ZW5lZCBzb25nc1xuICAgICAgY29uc3QgcHJlZmVycmVkVGFncyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgICAgY29uc3QgcHJlZmVycmVkQXJ0aXN0cyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgICAgXG4gICAgICBsaXN0ZW5lZFNvbmdzSW5CYXRjaC5mb3JFYWNoKHNvbmcgPT4ge1xuICAgICAgICBzb25nLnRhZ3M/LmZvckVhY2godGFnID0+IHByZWZlcnJlZFRhZ3MuYWRkKHRhZy50b0xvd2VyQ2FzZSgpKSk7XG4gICAgICAgIHByZWZlcnJlZEFydGlzdHMuYWRkKHNvbmcuYXJ0aXN0LnRvTG93ZXJDYXNlKCkpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnNvbGUubG9nKCfwn4+377iPIFByZWZlcnJlZCB0YWdzOicsIEFycmF5LmZyb20ocHJlZmVycmVkVGFncykpO1xuICAgICAgY29uc29sZS5sb2coJ/CfjqQgUHJlZmVycmVkIGFydGlzdHM6JywgQXJyYXkuZnJvbShwcmVmZXJyZWRBcnRpc3RzKSk7XG5cbiAgICAgIC8vIEZldGNoIGFsbCBzb25ncyBmcm9tIGRhdGFiYXNlXG4gICAgICBjb25zdCB7IGRhdGE6IHNvbmdzRGF0YSwgZXJyb3I6IHNvbmdzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdzb25ncycpXG4gICAgICAgIC5zZWxlY3QoJyonKTtcbiAgICAgIFxuICAgICAgaWYgKHNvbmdzRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGZldGNoaW5nIHNvbmdzIGZvciBzbWFydCBwZXJzb25hbGl6YXRpb246Jywgc29uZ3NFcnJvcik7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKCFzb25nc0RhdGEgfHwgc29uZ3NEYXRhLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBObyBzb25ncyBmb3VuZCBpbiBkYXRhYmFzZScpO1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG5cbiAgICAgIC8vIEdldCB1c2VyJ3MgbGlrZWQgc29uZ3NcbiAgICAgIGNvbnN0IHsgZGF0YTogbGlrZWREYXRhIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnbGlrZWRfc29uZ3MnKVxuICAgICAgICAuc2VsZWN0KCdzb25nX2lkJylcbiAgICAgICAgLmVxKCd1c2VyX2lkJywgdXNlcklkKTtcbiAgICAgIFxuICAgICAgY29uc3QgdXNlckxpa2VkU29uZ3MgPSBuZXcgU2V0PG51bWJlcj4oKTtcbiAgICAgIGlmIChsaWtlZERhdGEpIHtcbiAgICAgICAgbGlrZWREYXRhLmZvckVhY2goaXRlbSA9PiB1c2VyTGlrZWRTb25ncy5hZGQoaXRlbS5zb25nX2lkKSk7XG4gICAgICB9XG5cbiAgICAgIC8vIEZpbHRlciBhbmQgc2NvcmUgc29uZ3MgYmFzZWQgb24gbGlzdGVuaW5nIHByZWZlcmVuY2VzXG4gICAgICBjb25zdCBhdmFpbGFibGVTb25ncyA9IHNvbmdzRGF0YS5maWx0ZXIoKHNvbmcpID0+IHtcbiAgICAgICAgcmV0dXJuICFleGNsdWRlU29uZ3MuaGFzKHNvbmcuZmlsZV9pZC50b1N0cmluZygpKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zb2xlLmxvZyhg8J+OtSBBdmFpbGFibGUgc29uZ3MgZm9yIHNtYXJ0IHJlY29tbWVuZGF0aW9uczogJHthdmFpbGFibGVTb25ncy5sZW5ndGh9YCk7XG5cbiAgICAgIGlmIChhdmFpbGFibGVTb25ncy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gTm8gYXZhaWxhYmxlIHNvbmdzIGFmdGVyIGZpbHRlcmluZycpO1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG5cbiAgICAgIC8vIFNjb3JlIHNvbmdzIGJhc2VkIG9uIHVzZXIncyBsaXN0ZW5pbmcgcHJlZmVyZW5jZXNcbiAgICAgIGNvbnN0IHNjb3JlZFNvbmdzID0gYXZhaWxhYmxlU29uZ3MubWFwKChzb25nKSA9PiB7XG4gICAgICAgIGxldCBzY29yZSA9IDA7XG5cbiAgICAgICAgLy8gSGlnaCBwcmlvcml0eTogVGFnIG1hdGNoaW5nIHdpdGggbGlzdGVuZWQgc29uZ3NcbiAgICAgICAgY29uc3Qgc29uZ1RhZ3MgPSBzb25nLnRhZ3M/Lm1hcCgodGFnOiBzdHJpbmcpID0+IHRhZy50b0xvd2VyQ2FzZSgpKSB8fCBbXTtcbiAgICAgICAgY29uc3QgbWF0Y2hpbmdUYWdzID0gc29uZ1RhZ3MuZmlsdGVyKCh0YWc6IHN0cmluZykgPT4gcHJlZmVycmVkVGFncy5oYXModGFnKSk7XG4gICAgICAgIHNjb3JlICs9IG1hdGNoaW5nVGFncy5sZW5ndGggKiAyNTsgLy8gSGlnaGVyIHdlaWdodCBmb3IgdGFnIG1hdGNoaW5nXG5cbiAgICAgICAgLy8gSGlnaCBwcmlvcml0eTogQXJ0aXN0IG1hdGNoaW5nIHdpdGggbGlzdGVuZWQgc29uZ3NcbiAgICAgICAgaWYgKHByZWZlcnJlZEFydGlzdHMuaGFzKHNvbmcuYXJ0aXN0LnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgICAgc2NvcmUgKz0gMzA7IC8vIEhpZ2hlciB3ZWlnaHQgZm9yIGFydGlzdCBtYXRjaGluZ1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTWVkaXVtIHByaW9yaXR5OiBTYW1lIGxhbmd1YWdlIGFzIGxpc3RlbmVkIHNvbmdzXG4gICAgICAgIGNvbnN0IGxpc3RlbmVkTGFuZ3VhZ2VzID0gbGlzdGVuZWRTb25nc0luQmF0Y2gubWFwKHMgPT4gcy5sYW5ndWFnZSk7XG4gICAgICAgIGlmIChsaXN0ZW5lZExhbmd1YWdlcy5pbmNsdWRlcyhzb25nLmxhbmd1YWdlKSkge1xuICAgICAgICAgIHNjb3JlICs9IDE1O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTG93ZXIgcHJpb3JpdHk6IEdlbmVyYWwgcG9wdWxhcml0eVxuICAgICAgICBzY29yZSArPSBNYXRoLmxvZygxICsgKHNvbmcubGlrZXMgfHwgMCkpICogMjtcbiAgICAgICAgc2NvcmUgKz0gTWF0aC5sb2coMSArIChzb25nLnZpZXdzIHx8IDApKSAqIDE7XG5cbiAgICAgICAgLy8gQm9udXMgZm9yIGxpa2VkIHNvbmdzXG4gICAgICAgIGlmICh1c2VyTGlrZWRTb25ncy5oYXMoc29uZy5maWxlX2lkKSkge1xuICAgICAgICAgIHNjb3JlICs9IDEwO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIHNtYWxsIHJhbmRvbW5lc3MgdG8gYXZvaWQgcmVwZXRpdGlvblxuICAgICAgICBzY29yZSArPSBNYXRoLnJhbmRvbSgpICogMjtcblxuICAgICAgICByZXR1cm4geyBcbiAgICAgICAgICBzb25nOiBjb252ZXJ0RGF0YWJhc2VTb25nKHNvbmcsIHVzZXJMaWtlZFNvbmdzLmhhcyhzb25nLmZpbGVfaWQpKSwgXG4gICAgICAgICAgc2NvcmUgXG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgICAgLy8gU29ydCBieSBzY29yZSBhbmQgcmV0dXJuIHRvcCByZWNvbW1lbmRhdGlvbnNcbiAgICAgIGNvbnN0IHJlY29tbWVuZGF0aW9ucyA9IHNjb3JlZFNvbmdzXG4gICAgICAgIC5zb3J0KChhLCBiKSA9PiBiLnNjb3JlIC0gYS5zY29yZSlcbiAgICAgICAgLnNsaWNlKDAsIDE1KSAvLyBHZXQgbW9yZSBzb25ncyBmb3IgdmFyaWV0eVxuICAgICAgICAubWFwKGVudHJ5ID0+IGVudHJ5LnNvbmcpO1xuXG4gICAgICBjb25zb2xlLmxvZygn8J+noCBTbWFydCByZWNvbW1lbmRhdGlvbnMgYmFzZWQgb24gbGlzdGVuaW5nIGJlaGF2aW9yOicsIFxuICAgICAgICByZWNvbW1lbmRhdGlvbnMuc2xpY2UoMCwgNSkubWFwKHMgPT4gYCR7cy5uYW1lfSBieSAke3MuYXJ0aXN0fWApKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHJlY29tbWVuZGF0aW9ucztcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgaW4gZ2V0U21hcnRQZXJzb25hbGl6ZWRTb25nczonLCBlcnJvcik7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9O1xuXG4gIC8vIENvbnZlcnQgZGF0YWJhc2Ugc29uZyB0byBVSSBzb25nIGZvcm1hdFxuICBjb25zdCBjb252ZXJ0RGF0YWJhc2VTb25nID0gKGRiU29uZzogRGF0YWJhc2VTb25nLCBpc0xpa2VkOiBib29sZWFuID0gZmFsc2UpOiBTb25nID0+ICh7XG4gICAgZmlsZV9pZDogZGJTb25nLmZpbGVfaWQsXG4gICAgaW1nX2lkOiBkYlNvbmcuaW1nX2lkLFxuICAgIG5hbWU6IGRiU29uZy5uYW1lLFxuICAgIGFydGlzdDogZGJTb25nLmFydGlzdCxcbiAgICBsYW5ndWFnZTogZGJTb25nLmxhbmd1YWdlLFxuICAgIHRhZ3M6IGRiU29uZy50YWdzLFxuICAgIHZpZXdzOiBkYlNvbmcudmlld3MsXG4gICAgbGlrZXM6IGRiU29uZy5saWtlcyxcbiAgICBpZDogZGJTb25nLmZpbGVfaWQudG9TdHJpbmcoKSxcbiAgICBpbWFnZTogYGh0dHBzOi8vaW1hZ2VzLnBleGVscy5jb20vcGhvdG9zLyR7ZGJTb25nLmltZ19pZH0vcGV4ZWxzLXBob3RvLSR7ZGJTb25nLmltZ19pZH0uanBlZz9hdXRvPWNvbXByZXNzJmNzPXRpbnlzcmdiJnc9MzAwYCxcbiAgICBpc0xpa2VkXG4gIH0pXG5cbiAgLy8gRmV0Y2ggYWxsIHNvbmdzXG4gIGNvbnN0IGZldGNoU29uZ3MgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICBzZXRTb25ncyhbXSlcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBkYXRhOiBzb25nc0RhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnc29uZ3MnKVxuICAgICAgICAuc2VsZWN0KCcqJylcbiAgICAgICAgLm9yZGVyKCd2aWV3cycsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxuXG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXG5cbiAgICAgIGxldCB1c2VyTGlrZWRTb25ncyA9IG5ldyBTZXQ8bnVtYmVyPigpXG4gICAgICBcbiAgICAgIGNvbnN0IHsgZGF0YTogbGlrZWREYXRhIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnbGlrZWRfc29uZ3MnKVxuICAgICAgICAuc2VsZWN0KCdzb25nX2lkJylcbiAgICAgICAgLmVxKCd1c2VyX2lkJywgdXNlci5pZClcbiAgICAgIFxuICAgICAgaWYgKGxpa2VkRGF0YSkge1xuICAgICAgICB1c2VyTGlrZWRTb25ncyA9IG5ldyBTZXQobGlrZWREYXRhLm1hcChpdGVtID0+IGl0ZW0uc29uZ19pZCkpXG4gICAgICAgIHNldExpa2VkU29uZ3ModXNlckxpa2VkU29uZ3MpXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNvbnZlcnRlZFNvbmdzID0gc29uZ3NEYXRhPy5tYXAoc29uZyA9PiBcbiAgICAgICAgY29udmVydERhdGFiYXNlU29uZyhzb25nLCB1c2VyTGlrZWRTb25ncy5oYXMoc29uZy5maWxlX2lkKSlcbiAgICAgICkgfHwgW11cblxuICAgICAgY29uc3Qgc29ydGVkU29uZ3MgPSBbLi4uY29udmVydGVkU29uZ3NdLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgY29uc3QgYVNjb3JlID0gYS52aWV3cyArIGEubGlrZXM7XG4gICAgICAgIGNvbnN0IGJTY29yZSA9IGIudmlld3MgKyBiLmxpa2VzO1xuICAgICAgICByZXR1cm4gYlNjb3JlIC0gYVNjb3JlO1xuICAgICAgfSk7XG5cbiAgICAgIHNldFNvbmdzKHNvcnRlZFNvbmdzKTtcblxuICAgICAgY29uc3QgeyBkYXRhOiB1c2VyRGF0YSB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3VzZXJzJylcbiAgICAgICAgLnNlbGVjdCgnbGFzdF9zb25nX2ZpbGVfaWQnKVxuICAgICAgICAuZXEoJ2lkJywgdXNlci5pZClcbiAgICAgICAgLnNpbmdsZSgpXG5cbiAgICAgIGlmICh1c2VyRGF0YT8ubGFzdF9zb25nX2ZpbGVfaWQpIHtcbiAgICAgICAgY29uc3QgbGFzdFNvbmcgPSBjb252ZXJ0ZWRTb25ncy5maW5kKHNvbmcgPT4gc29uZy5maWxlX2lkID09PSB1c2VyRGF0YS5sYXN0X3NvbmdfZmlsZV9pZClcbiAgICAgICAgaWYgKGxhc3RTb25nKSB7XG4gICAgICAgICAgc2V0TGFzdFBsYXllZFNvbmcobGFzdFNvbmcpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgc29uZ3M6JywgZXJyb3IpXG4gICAgICBzZXRTb25ncyhbXSkgLy8gU2V0IGVtcHR5IGFycmF5IG9uIGVycm9yXG4gICAgfVxuICB9XG5cbiAgLy8gR2V0IHBlcnNvbmFsaXplZCBzb25ncyB3aXRoIHByb3BlciBlcnJvciBoYW5kbGluZyBhbmQgZmlsdGVyaW5nXG4gIGNvbnN0IGdldFBlcnNvbmFsaXplZFNvbmdzID0gYXN5bmMgKHVzZXJJZDogc3RyaW5nLCBjdXJyZW50U29uZzogU29uZywgbGlzdGVuZWRTb25ncz86IFNldDxzdHJpbmc+KTogUHJvbWlzZTxTb25nW10+ID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coJ/CfjrUgRmV0Y2hpbmcgcGVyc29uYWxpemVkIHNvbmdzIGZvcjonLCBjdXJyZW50U29uZy5uYW1lKTtcbiAgICAgIGNvbnNvbGUubG9nKCfwn461IExpc3RlbmVkIHNvbmdzIGNvdW50OicsIGxpc3RlbmVkU29uZ3M/LnNpemUgfHwgMCk7XG4gICAgICBcbiAgICAgIC8vIDEuIEZldGNoIGFsbCBzb25ncyBmcm9tIGRhdGFiYXNlXG4gICAgICBjb25zdCB7IGRhdGE6IHNvbmdzRGF0YSwgZXJyb3I6IHNvbmdzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdzb25ncycpXG4gICAgICAgIC5zZWxlY3QoJyonKTtcbiAgICAgIFxuICAgICAgaWYgKHNvbmdzRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGZldGNoaW5nIHNvbmdzIGZvciBwZXJzb25hbGl6YXRpb246Jywgc29uZ3NFcnJvcik7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKCFzb25nc0RhdGEgfHwgc29uZ3NEYXRhLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBObyBzb25ncyBmb3VuZCBpbiBkYXRhYmFzZScpO1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG5cbiAgICAgIC8vIDIuIEZldGNoIHVzZXIncyBsaXN0ZW5pbmcgaGlzdG9yeVxuICAgICAgY29uc3QgeyBkYXRhOiBoaXN0b3J5RGF0YSwgZXJyb3I6IGhpc3RvcnlFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2hpc3RvcnknKVxuICAgICAgICAuc2VsZWN0KCdzb25nX2lkLCBtaW51dGVzX2xpc3RlbmVkJylcbiAgICAgICAgLmVxKCd1c2VyX2lkJywgdXNlcklkKTtcbiAgICAgIFxuICAgICAgaWYgKGhpc3RvcnlFcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgZmV0Y2hpbmcgaGlzdG9yeTonLCBoaXN0b3J5RXJyb3IpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBoaXN0b3J5TWFwID0gbmV3IE1hcDxudW1iZXIsIG51bWJlcj4oKTtcbiAgICAgIGlmIChoaXN0b3J5RGF0YSkge1xuICAgICAgICBoaXN0b3J5RGF0YS5mb3JFYWNoKGggPT4gaGlzdG9yeU1hcC5zZXQoaC5zb25nX2lkLCBoLm1pbnV0ZXNfbGlzdGVuZWQgfHwgMCkpO1xuICAgICAgfVxuXG4gICAgICAvLyAzLiBHZXQgdXNlcidzIGxpa2VkIHNvbmdzXG4gICAgICBjb25zdCB7IGRhdGE6IGxpa2VkRGF0YSB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2xpa2VkX3NvbmdzJylcbiAgICAgICAgLnNlbGVjdCgnc29uZ19pZCcpXG4gICAgICAgIC5lcSgndXNlcl9pZCcsIHVzZXJJZCk7XG4gICAgICBcbiAgICAgIGNvbnN0IHVzZXJMaWtlZFNvbmdzID0gbmV3IFNldDxudW1iZXI+KCk7XG4gICAgICBpZiAobGlrZWREYXRhKSB7XG4gICAgICAgIGxpa2VkRGF0YS5mb3JFYWNoKGl0ZW0gPT4gdXNlckxpa2VkU29uZ3MuYWRkKGl0ZW0uc29uZ19pZCkpO1xuICAgICAgfVxuXG4gICAgICAvLyA0LiBGaWx0ZXIgYW5kIHNjb3JlIHNvbmdzXG4gICAgICBjb25zdCBhdmFpbGFibGVTb25ncyA9IHNvbmdzRGF0YS5maWx0ZXIoKHNvbmcpID0+IHtcbiAgICAgICAgLy8gRXhjbHVkZSBjdXJyZW50IHNvbmdcbiAgICAgICAgaWYgKHNvbmcuZmlsZV9pZCA9PT0gY3VycmVudFNvbmcuZmlsZV9pZCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gRXhjbHVkZSBsaXN0ZW5lZCBzb25ncyBpZiBwcm92aWRlZFxuICAgICAgICBpZiAobGlzdGVuZWRTb25ncyAmJiBsaXN0ZW5lZFNvbmdzLmhhcyhzb25nLmZpbGVfaWQudG9TdHJpbmcoKSkpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhg8J+aqyBFeGNsdWRpbmcgbGlzdGVuZWQgc29uZzogJHtzb25nLm5hbWV9IGJ5ICR7c29uZy5hcnRpc3R9YCk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zb2xlLmxvZyhg8J+OtSBBdmFpbGFibGUgc29uZ3MgYWZ0ZXIgZmlsdGVyaW5nOiAke2F2YWlsYWJsZVNvbmdzLmxlbmd0aH1gKTtcblxuICAgICAgaWYgKGF2YWlsYWJsZVNvbmdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBObyBhdmFpbGFibGUgc29uZ3MgYWZ0ZXIgZmlsdGVyaW5nJyk7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cblxuICAgICAgLy8gNS4gU2NvcmUgYW5kIHNvcnQgc29uZ3NcbiAgICAgIGNvbnN0IHNjb3JlZFNvbmdzID0gYXZhaWxhYmxlU29uZ3MubWFwKChzb25nKSA9PiB7XG4gICAgICAgIGxldCBzY29yZSA9IDA7XG5cbiAgICAgICAgLy8gVGFnIG1hdGNoaW5nIChoaWdoZXN0IHByaW9yaXR5KVxuICAgICAgICBjb25zdCBtYXRjaGluZ1RhZ3MgPSBzb25nLnRhZ3M/LmZpbHRlcigodGFnOiBzdHJpbmcpID0+XG4gICAgICAgICAgY3VycmVudFNvbmcudGFncz8uaW5jbHVkZXModGFnKVxuICAgICAgICApIHx8IFtdO1xuICAgICAgICBzY29yZSArPSBtYXRjaGluZ1RhZ3MubGVuZ3RoICogMTU7XG5cbiAgICAgICAgLy8gQXJ0aXN0IG1hdGNoaW5nXG4gICAgICAgIGlmIChzb25nLmFydGlzdCA9PT0gY3VycmVudFNvbmcuYXJ0aXN0KSB7XG4gICAgICAgICAgc2NvcmUgKz0gMjU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBMYW5ndWFnZSBtYXRjaGluZ1xuICAgICAgICBpZiAoc29uZy5sYW5ndWFnZSA9PT0gY3VycmVudFNvbmcubGFuZ3VhZ2UpIHtcbiAgICAgICAgICBzY29yZSArPSAxMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIExpc3RlbmluZyBoaXN0b3J5IGJvb3N0XG4gICAgICAgIGNvbnN0IGxpc3RlbmVkTWludXRlcyA9IGhpc3RvcnlNYXAuZ2V0KHNvbmcuZmlsZV9pZCkgfHwgMDtcbiAgICAgICAgc2NvcmUgKz0gTWF0aC5taW4obGlzdGVuZWRNaW51dGVzICogMiwgMjApOyAvLyBDYXAgYXQgMjAgcG9pbnRzXG5cbiAgICAgICAgLy8gUG9wdWxhcml0eSBib29zdCAobGlrZXMgYW5kIHZpZXdzKVxuICAgICAgICBzY29yZSArPSBNYXRoLmxvZygxICsgKHNvbmcubGlrZXMgfHwgMCkpICogMjtcbiAgICAgICAgc2NvcmUgKz0gTWF0aC5sb2coMSArIChzb25nLnZpZXdzIHx8IDApKSAqIDE7XG5cbiAgICAgICAgLy8gTGlrZWQgc29uZ3MgYm9vc3RcbiAgICAgICAgaWYgKHVzZXJMaWtlZFNvbmdzLmhhcyhzb25nLmZpbGVfaWQpKSB7XG4gICAgICAgICAgc2NvcmUgKz0gODtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkZCBjb250cm9sbGVkIHJhbmRvbW5lc3MgdG8gYXZvaWQgcmVwZXRpdGlvblxuICAgICAgICBzY29yZSArPSBNYXRoLnJhbmRvbSgpICogMztcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNvbmc6IGNvbnZlcnREYXRhYmFzZVNvbmcoc29uZywgdXNlckxpa2VkU29uZ3MuaGFzKHNvbmcuZmlsZV9pZCkpLFxuICAgICAgICAgIHNjb3JlXG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgICAgLy8gNi4gU29ydCBieSBzY29yZSBhbmQgcmV0dXJuIHRvcCByZWNvbW1lbmRhdGlvbnNcbiAgICAgIGNvbnN0IHJlY29tbWVuZGF0aW9ucyA9IHNjb3JlZFNvbmdzXG4gICAgICAgIC5zb3J0KChhLCBiKSA9PiBiLnNjb3JlIC0gYS5zY29yZSlcbiAgICAgICAgLnNsaWNlKDAsIDEwKSAvLyBHZXQgbW9yZSBzb25ncyB0byBoYXZlIGEgYnVmZmVyXG4gICAgICAgIC5tYXAoZW50cnkgPT4gZW50cnkuc29uZyk7XG5cbiAgICAgIGNvbnNvbGUubG9nKCfwn461IFBlcnNvbmFsaXplZCByZWNvbW1lbmRhdGlvbnM6JywgcmVjb21tZW5kYXRpb25zLnNsaWNlKDAsIDUpLm1hcChzID0+IGAke3MubmFtZX0gYnkgJHtzLmFydGlzdH1gKSk7XG4gICAgICBjb25zb2xlLmxvZygn8J+OtSBUb3RhbCBhdmFpbGFibGUgc29uZ3M6JywgYXZhaWxhYmxlU29uZ3MubGVuZ3RoKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHJlY29tbWVuZGF0aW9ucztcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgaW4gZ2V0UGVyc29uYWxpemVkU29uZ3M6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfTtcblxuICAvLyBGZXRjaCByZWNlbnRseSBwbGF5ZWQgc29uZ3MgYmFzZWQgb24gbGlzdGVuaW5nIGhpc3RvcnlcbiAgY29uc3QgZmV0Y2hSZWNlbnRseVBsYXllZCA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIHNldFJlY2VudGx5UGxheWVkU29uZ3MoW10pXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgLy8gR2V0IHVzZXIncyBsaXN0ZW5pbmcgaGlzdG9yeSBzb3J0ZWQgYnkgbWludXRlcyBsaXN0ZW5lZFxuICAgICAgY29uc3QgeyBkYXRhOiBoaXN0b3J5RGF0YSwgZXJyb3I6IGhpc3RvcnlFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2hpc3RvcnknKVxuICAgICAgICAuc2VsZWN0KGBcbiAgICAgICAgICBzb25nX2lkLFxuICAgICAgICAgIG1pbnV0ZXNfbGlzdGVuZWQsXG4gICAgICAgICAgc29uZ3MgKCopXG4gICAgICAgIGApXG4gICAgICAgIC5lcSgndXNlcl9pZCcsIHVzZXIuaWQpXG4gICAgICAgIC5vcmRlcignbWludXRlc19saXN0ZW5lZCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxuICAgICAgICAubGltaXQoOSlcblxuICAgICAgaWYgKGhpc3RvcnlFcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyByZWNlbnRseSBwbGF5ZWQ6JywgaGlzdG9yeUVycm9yKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgaWYgKCFoaXN0b3J5RGF0YSB8fCBoaXN0b3J5RGF0YS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgc2V0UmVjZW50bHlQbGF5ZWRTb25ncyhbXSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIC8vIEdldCB1c2VyJ3MgbGlrZWQgc29uZ3MgZm9yIHByb3BlciBjb252ZXJzaW9uXG4gICAgICBjb25zdCB7IGRhdGE6IGxpa2VkRGF0YSB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2xpa2VkX3NvbmdzJylcbiAgICAgICAgLnNlbGVjdCgnc29uZ19pZCcpXG4gICAgICAgIC5lcSgndXNlcl9pZCcsIHVzZXIuaWQpXG4gICAgICBcbiAgICAgIGNvbnN0IHVzZXJMaWtlZFNvbmdzID0gbmV3IFNldDxudW1iZXI+KClcbiAgICAgIGlmIChsaWtlZERhdGEpIHtcbiAgICAgICAgbGlrZWREYXRhLmZvckVhY2goaXRlbSA9PiB1c2VyTGlrZWRTb25ncy5hZGQoaXRlbS5zb25nX2lkKSlcbiAgICAgIH1cblxuICAgICAgLy8gQ29udmVydCB0byBTb25nIGZvcm1hdFxuICAgICAgY29uc3QgcmVjZW50U29uZ3MgPSBoaXN0b3J5RGF0YVxuICAgICAgICAuZmlsdGVyKGl0ZW0gPT4gaXRlbS5zb25ncykgLy8gRW5zdXJlIHNvbmcgZGF0YSBleGlzdHNcbiAgICAgICAgLm1hcChpdGVtID0+IGNvbnZlcnREYXRhYmFzZVNvbmcoaXRlbS5zb25ncywgdXNlckxpa2VkU29uZ3MuaGFzKGl0ZW0uc29uZ19pZCkpKVxuXG4gICAgICBzZXRSZWNlbnRseVBsYXllZFNvbmdzKHJlY2VudFNvbmdzKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyByZWNlbnRseSBwbGF5ZWQgc29uZ3M6JywgZXJyb3IpXG4gICAgICBzZXRSZWNlbnRseVBsYXllZFNvbmdzKFtdKVxuICAgIH1cbiAgfVxuXG4gIC8vIEZldGNoIHVzZXIgcGxheWxpc3RzXG4gIGNvbnN0IGZldGNoUGxheWxpc3RzID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghdXNlcikge1xuICAgICAgc2V0UGxheWxpc3RzKFtdKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZGF0YTogcGxheWxpc3RzRGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdwbGF5bGlzdHMnKVxuICAgICAgICAuc2VsZWN0KGBcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBuYW1lLFxuICAgICAgICAgIHBsYXlsaXN0X3NvbmdzIChcbiAgICAgICAgICAgIHNvbmdzICgqKVxuICAgICAgICAgIClcbiAgICAgICAgYClcbiAgICAgICAgLmVxKCd1c2VyX2lkJywgdXNlci5pZClcblxuICAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxuXG4gICAgICBjb25zdCBjb252ZXJ0ZWRQbGF5bGlzdHM6IFBsYXlsaXN0W10gPSBwbGF5bGlzdHNEYXRhPy5tYXAocGxheWxpc3QgPT4ge1xuICAgICAgICBjb25zdCBwbGF5bGlzdFNvbmdzID0gcGxheWxpc3QucGxheWxpc3Rfc29uZ3M/Lm1hcCgocHM6IGFueSkgPT4gXG4gICAgICAgICAgY29udmVydERhdGFiYXNlU29uZyhwcy5zb25ncywgbGlrZWRTb25ncy5oYXMocHMuc29uZ3MuZmlsZV9pZCkpXG4gICAgICAgICkgfHwgW11cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlkOiBwbGF5bGlzdC5pZC50b1N0cmluZygpLFxuICAgICAgICAgIG5hbWU6IHBsYXlsaXN0Lm5hbWUsXG4gICAgICAgICAgc29uZ0NvdW50OiBwbGF5bGlzdFNvbmdzLmxlbmd0aCxcbiAgICAgICAgICBpbWFnZTogcGxheWxpc3RTb25nc1swXT8uaW1hZ2UgfHwgJ2h0dHBzOi8vaW1hZ2VzLnBleGVscy5jb20vcGhvdG9zLzE3NjMwNzUvcGV4ZWxzLXBob3RvLTE3NjMwNzUuanBlZz9hdXRvPWNvbXByZXNzJmNzPXRpbnlzcmdiJnc9MzAwJyxcbiAgICAgICAgICBzb25nczogcGxheWxpc3RTb25nc1xuICAgICAgICB9XG4gICAgICB9KSB8fCBbXVxuXG4gICAgICBzZXRQbGF5bGlzdHMoY29udmVydGVkUGxheWxpc3RzKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBwbGF5bGlzdHM6JywgZXJyb3IpXG4gICAgfVxuICB9XG5cbiAgLy8gVG9nZ2xlIGxpa2Ugc29uZ1xuICBjb25zdCB0b2dnbGVMaWtlID0gYXN5bmMgKHNvbmdJZDogc3RyaW5nKSA9PiB7XG4gIGlmICghdXNlcikgcmV0dXJuO1xuXG4gIGNvbnN0IHNvbmdGaWxlSWQgPSBwYXJzZUludChzb25nSWQpO1xuICBjb25zdCBpc0N1cnJlbnRseUxpa2VkID0gbGlrZWRTb25ncy5oYXMoc29uZ0ZpbGVJZCk7XG5cbiAgdHJ5IHtcbiAgICBpZiAoaXNDdXJyZW50bHlMaWtlZCkge1xuICAgICAgLy8gUmVtb3ZlIGZyb20gbGlrZWRfc29uZ3NcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdsaWtlZF9zb25ncycpXG4gICAgICAgIC5kZWxldGUoKVxuICAgICAgICAuZXEoJ3VzZXJfaWQnLCB1c2VyLmlkKVxuICAgICAgICAuZXEoJ3NvbmdfaWQnLCBzb25nRmlsZUlkKTtcblxuICAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcblxuICAgICAgLy8gRGVjcmVtZW50IGxpa2VzXG4gICAgICBhd2FpdCBzdXBhYmFzZS5ycGMoJ2RlY3JlbWVudF9zb25nX2xpa2VzJywgeyBzb25nX2ZpbGVfaWQ6IHNvbmdGaWxlSWQgfSk7XG5cbiAgICAgIHNldExpa2VkU29uZ3MocHJldiA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1NldCA9IG5ldyBTZXQocHJldik7XG4gICAgICAgIG5ld1NldC5kZWxldGUoc29uZ0ZpbGVJZCk7XG4gICAgICAgIHJldHVybiBuZXdTZXQ7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQWRkIHRvIGxpa2VkX3NvbmdzXG4gICAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnbGlrZWRfc29uZ3MnKVxuICAgICAgICAuaW5zZXJ0KHtcbiAgICAgICAgICB1c2VyX2lkOiB1c2VyLmlkLFxuICAgICAgICAgIHNvbmdfaWQ6IHNvbmdGaWxlSWQsXG4gICAgICAgIH0pO1xuXG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuXG4gICAgICAvLyBJbmNyZW1lbnQgbGlrZXNcbiAgICAgIGF3YWl0IHN1cGFiYXNlLnJwYygnaW5jcmVtZW50X3NvbmdfbGlrZXMnLCB7IHNvbmdfZmlsZV9pZDogc29uZ0ZpbGVJZCB9KTtcblxuICAgICAgc2V0TGlrZWRTb25ncyhwcmV2ID0+IG5ldyBTZXQocHJldikuYWRkKHNvbmdGaWxlSWQpKTtcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgc29uZ3Mgc3RhdGVcbiAgICAvLyBVcGRhdGUgc29uZ3Mgc3RhdGVcbnNldFNvbmdzKHByZXZTb25ncyA9PlxuICBwcmV2U29uZ3MubWFwKHNvbmcgPT5cbiAgICBzb25nLmlkID09PSBzb25nSWRcbiAgICAgID8ge1xuICAgICAgICAgIC4uLnNvbmcsXG4gICAgICAgICAgaXNMaWtlZDogIWlzQ3VycmVudGx5TGlrZWQsXG4gICAgICAgICAgbGlrZXM6IHNvbmcubGlrZXMgKyAoaXNDdXJyZW50bHlMaWtlZCA/IC0xIDogMSksXG4gICAgICAgIH1cbiAgICAgIDogc29uZ1xuICApXG4pO1xuXG5cbiAgICAvLyBVcGRhdGUgcGxheWxpc3RzIHN0YXRlXG4gICAgc2V0UGxheWxpc3RzKHByZXZQbGF5bGlzdHMgPT5cbiAgICAgIHByZXZQbGF5bGlzdHMubWFwKHBsYXlsaXN0ID0+ICh7XG4gICAgICAgIC4uLnBsYXlsaXN0LFxuICAgICAgICBzb25nczogcGxheWxpc3Quc29uZ3MubWFwKHNvbmcgPT5cbiAgICAgICAgICBzb25nLmlkID09PSBzb25nSWRcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgIC4uLnNvbmcsXG4gICAgICAgICAgICAgICAgaXNMaWtlZDogIWlzQ3VycmVudGx5TGlrZWQsXG4gICAgICAgICAgICAgICAgbGlrZXM6IHNvbmcubGlrZXMgKyAoaXNDdXJyZW50bHlMaWtlZCA/IC0xIDogMSksXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogc29uZ1xuICAgICAgICApLFxuICAgICAgfSkpXG4gICAgKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciB0b2dnbGluZyBsaWtlOicsIGVycm9yKTtcbiAgfVxufTtcblxuXG4gIC8vIENyZWF0ZSBwbGF5bGlzdFxuICBjb25zdCBjcmVhdGVQbGF5bGlzdCA9IGFzeW5jIChuYW1lOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoIXVzZXIpIHJldHVyblxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdwbGF5bGlzdHMnKVxuICAgICAgICAuaW5zZXJ0KHtcbiAgICAgICAgICB1c2VyX2lkOiB1c2VyLmlkLFxuICAgICAgICAgIG5hbWVcbiAgICAgICAgfSlcbiAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgIC5zaW5nbGUoKVxuXG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXG5cbiAgICAgIGNvbnN0IG5ld1BsYXlsaXN0OiBQbGF5bGlzdCA9IHtcbiAgICAgICAgaWQ6IGRhdGEuaWQudG9TdHJpbmcoKSxcbiAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgICBzb25nQ291bnQ6IDAsXG4gICAgICAgIGltYWdlOiAnaHR0cHM6Ly9pbWFnZXMucGV4ZWxzLmNvbS9waG90b3MvMTc2MzA3NS9wZXhlbHMtcGhvdG8tMTc2MzA3NS5qcGVnP2F1dG89Y29tcHJlc3MmY3M9dGlueXNyZ2Imdz0zMDAnLFxuICAgICAgICBzb25nczogW11cbiAgICAgIH1cblxuICAgICAgc2V0UGxheWxpc3RzKHByZXYgPT4gWy4uLnByZXYsIG5ld1BsYXlsaXN0XSlcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgcGxheWxpc3Q6JywgZXJyb3IpXG4gICAgfVxuICB9XG5cbiAgLy8gRGVsZXRlIHBsYXlsaXN0XG4gIGNvbnN0IGRlbGV0ZVBsYXlsaXN0ID0gYXN5bmMgKHBsYXlsaXN0SWQ6IHN0cmluZykgPT4ge1xuICAgIGlmICghdXNlcikgcmV0dXJuXG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3BsYXlsaXN0cycpXG4gICAgICAgIC5kZWxldGUoKVxuICAgICAgICAuZXEoJ2lkJywgcGFyc2VJbnQocGxheWxpc3RJZCkpXG4gICAgICAgIC5lcSgndXNlcl9pZCcsIHVzZXIuaWQpXG5cbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcblxuICAgICAgc2V0UGxheWxpc3RzKHByZXYgPT4gcHJldi5maWx0ZXIocGxheWxpc3QgPT4gcGxheWxpc3QuaWQgIT09IHBsYXlsaXN0SWQpKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBwbGF5bGlzdDonLCBlcnJvcilcbiAgICB9XG4gIH1cblxuICAvLyBSZW5hbWUgcGxheWxpc3RcbiAgY29uc3QgcmVuYW1lUGxheWxpc3QgPSBhc3luYyAocGxheWxpc3RJZDogc3RyaW5nLCBuZXdOYW1lOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoIXVzZXIpIHJldHVyblxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdwbGF5bGlzdHMnKVxuICAgICAgICAudXBkYXRlKHsgbmFtZTogbmV3TmFtZSB9KVxuICAgICAgICAuZXEoJ2lkJywgcGFyc2VJbnQocGxheWxpc3RJZCkpXG4gICAgICAgIC5lcSgndXNlcl9pZCcsIHVzZXIuaWQpXG5cbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcblxuICAgICAgc2V0UGxheWxpc3RzKHByZXYgPT4gXG4gICAgICAgIHByZXYubWFwKHBsYXlsaXN0ID0+IFxuICAgICAgICAgIHBsYXlsaXN0LmlkID09PSBwbGF5bGlzdElkIFxuICAgICAgICAgICAgPyB7IC4uLnBsYXlsaXN0LCBuYW1lOiBuZXdOYW1lIH1cbiAgICAgICAgICAgIDogcGxheWxpc3RcbiAgICAgICAgKVxuICAgICAgKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZW5hbWluZyBwbGF5bGlzdDonLCBlcnJvcilcbiAgICB9XG4gIH1cblxuICAvLyBBZGQgc29uZyB0byBwbGF5bGlzdFxuICBjb25zdCBhZGRTb25nVG9QbGF5bGlzdCA9IGFzeW5jIChwbGF5bGlzdElkOiBzdHJpbmcsIHNvbmc6IFNvbmcpID0+IHtcbiAgICBpZiAoIXVzZXIpIHJldHVyblxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdwbGF5bGlzdF9zb25ncycpXG4gICAgICAgIC5pbnNlcnQoe1xuICAgICAgICAgIHBsYXlsaXN0X2lkOiBwYXJzZUludChwbGF5bGlzdElkKSxcbiAgICAgICAgICBzb25nX2lkOiBzb25nLmZpbGVfaWRcbiAgICAgICAgfSlcblxuICAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxuXG4gICAgICBzZXRQbGF5bGlzdHMocHJldiA9PiBcbiAgICAgICAgcHJldi5tYXAocGxheWxpc3QgPT4ge1xuICAgICAgICAgIGlmIChwbGF5bGlzdC5pZCA9PT0gcGxheWxpc3RJZCkge1xuICAgICAgICAgICAgY29uc3Qgc29uZ0V4aXN0cyA9IHBsYXlsaXN0LnNvbmdzLnNvbWUocyA9PiBzLmlkID09PSBzb25nLmlkKVxuICAgICAgICAgICAgaWYgKCFzb25nRXhpc3RzKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRTb25ncyA9IFsuLi5wbGF5bGlzdC5zb25ncywgc29uZ11cbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5wbGF5bGlzdCxcbiAgICAgICAgICAgICAgICBzb25nczogdXBkYXRlZFNvbmdzLFxuICAgICAgICAgICAgICAgIHNvbmdDb3VudDogdXBkYXRlZFNvbmdzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBpbWFnZTogdXBkYXRlZFNvbmdzWzBdPy5pbWFnZSB8fCBwbGF5bGlzdC5pbWFnZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBwbGF5bGlzdFxuICAgICAgICB9KVxuICAgICAgKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhZGRpbmcgc29uZyB0byBwbGF5bGlzdDonLCBlcnJvcilcbiAgICB9XG4gIH1cblxuICAvLyBSZW1vdmUgc29uZyBmcm9tIHBsYXlsaXN0XG4gIGNvbnN0IHJlbW92ZVNvbmdGcm9tUGxheWxpc3QgPSBhc3luYyAocGxheWxpc3RJZDogc3RyaW5nLCBzb25nSWQ6IHN0cmluZykgPT4ge1xuICAgIGlmICghdXNlcikgcmV0dXJuXG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3BsYXlsaXN0X3NvbmdzJylcbiAgICAgICAgLmRlbGV0ZSgpXG4gICAgICAgIC5lcSgncGxheWxpc3RfaWQnLCBwYXJzZUludChwbGF5bGlzdElkKSlcbiAgICAgICAgLmVxKCdzb25nX2lkJywgcGFyc2VJbnQoc29uZ0lkKSlcblxuICAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxuXG4gICAgICBzZXRQbGF5bGlzdHMocHJldiA9PiBcbiAgICAgICAgcHJldi5tYXAocGxheWxpc3QgPT4ge1xuICAgICAgICAgIGlmIChwbGF5bGlzdC5pZCA9PT0gcGxheWxpc3RJZCkge1xuICAgICAgICAgICAgY29uc3QgdXBkYXRlZFNvbmdzID0gcGxheWxpc3Quc29uZ3MuZmlsdGVyKHNvbmcgPT4gc29uZy5pZCAhPT0gc29uZ0lkKVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4ucGxheWxpc3QsXG4gICAgICAgICAgICAgIHNvbmdzOiB1cGRhdGVkU29uZ3MsXG4gICAgICAgICAgICAgIHNvbmdDb3VudDogdXBkYXRlZFNvbmdzLmxlbmd0aCxcbiAgICAgICAgICAgICAgaW1hZ2U6IHVwZGF0ZWRTb25nc1swXT8uaW1hZ2UgfHwgJ2h0dHBzOi8vaW1hZ2VzLnBleGVscy5jb20vcGhvdG9zLzE3NjMwNzUvcGV4ZWxzLXBob3RvLTE3NjMwNzUuanBlZz9hdXRvPWNvbXByZXNzJmNzPXRpbnlzcmdiJnc9MzAwJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcGxheWxpc3RcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVtb3Zpbmcgc29uZyBmcm9tIHBsYXlsaXN0OicsIGVycm9yKVxuICAgIH1cbiAgfVxuXG4gIC8vIFVwZGF0ZSBsYXN0IHNvbmcgaW4gdXNlciBwcm9maWxlXG4gIGNvbnN0IHVwZGF0ZUxhc3RTb25nID0gYXN5bmMgKHNvbmdJZDogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCF1c2VyKSByZXR1cm5cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgndXNlcnMnKVxuICAgICAgICAudXBkYXRlKHsgbGFzdF9zb25nX2ZpbGVfaWQ6IHBhcnNlSW50KHNvbmdJZCkgfSlcbiAgICAgICAgLmVxKCdpZCcsIHVzZXIuaWQpXG5cbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgbGFzdCBzb25nOicsIGVycm9yKVxuICAgIH1cbiAgfVxuXG4gIC8vIFJlY29yZCBsaXN0ZW5pbmcgaGlzdG9yeSB3aXRoIHByb3BlciB0aW1lIHRyYWNraW5nXG4gIGNvbnN0IHJlY29yZExpc3RlbmluZ0hpc3RvcnkgPSBhc3luYyAoc29uZ0lkOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoIXVzZXIpIHJldHVyblxuXG4gICAgLy8gSWYgdGhlcmUncyBhIHByZXZpb3VzIHNvbmcgcGxheWluZywgcmVjb3JkIGl0cyBsaXN0ZW5pbmcgdGltZVxuICAgICAgaWYgKGN1cnJlbnRTb25nUmVmLmN1cnJlbnQgJiYgY3VycmVudFNvbmdTdGFydFRpbWUpIHtcbiAgICBjb25zdCBlbmRUaW1lID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCBtaW51dGVzTGlzdGVuZWQgPSAoZW5kVGltZS5nZXRUaW1lKCkgLSBjdXJyZW50U29uZ1N0YXJ0VGltZS5nZXRUaW1lKCkpIC8gKDEwMDAgKiA2MCk7XG5cbiAgICBpZiAobWludXRlc0xpc3RlbmVkID4gMC4xKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBtaW51dGVzID0gTWF0aC5yb3VuZChtaW51dGVzTGlzdGVuZWQgKiAxMDApIC8gMTAwO1xuICAgICAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5ycGMoJ3Vwc2VydF9oaXN0b3J5X21pbnV0ZXMnLCB7XG4gICAgICAgICAgdXNlcl91dWlkOiB1c2VyLmlkLFxuICAgICAgICAgIHNvbmdfZmlsZV9pZDogcGFyc2VJbnQoY3VycmVudFNvbmdSZWYuY3VycmVudCksXG4gICAgICAgICAgbWludXRlczogbWludXRlcyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIHJlY29yZGluZyBzb25nIGhpc3Rvcnk6JywgZXJyb3IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGDinIUgSGlzdG9yeSB1cGRhdGVkOiArJHttaW51dGVzfSBtaW5zIGZvciBzb25nICR7Y3VycmVudFNvbmdSZWYuY3VycmVudH1gKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVjb3JkaW5nIHByZXZpb3VzIHNvbmcgaGlzdG9yeTonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cblxuICAgIC8vIFNldCBuZXcgc29uZyBhcyBjdXJyZW50XG4gICAgY3VycmVudFNvbmdSZWYuY3VycmVudCA9IHNvbmdJZFxuICAgIHNldEN1cnJlbnRTb25nU3RhcnRUaW1lKG5ldyBEYXRlKCkpXG4gICAgXG4gICAgLy8gVXBkYXRlIGxhc3Qgc29uZyBpbiB1c2VyIHByb2ZpbGVcbiAgICBhd2FpdCB1cGRhdGVMYXN0U29uZyhzb25nSWQpXG50cnkge1xuICBhd2FpdCBzdXBhYmFzZS5ycGMoJ2luY3JlbWVudF9zb25nX3ZpZXdzJywgeyBzb25nX2ZpbGVfaWQ6IHBhcnNlSW50KHNvbmdJZCkgfSk7XG59IGNhdGNoIChlcnJvcikge1xuICBjb25zb2xlLmVycm9yKCdFcnJvciBpbmNyZW1lbnRpbmcgc29uZyB2aWV3czonLCBlcnJvcik7XG59XG5cbiAgfVxuXG4gIC8vIFN0b3AgY3VycmVudCBzb25nIHRyYWNraW5nICh3aGVuIHBsYXllciBpcyBjbG9zZWQpXG4gIGNvbnN0IHN0b3BDdXJyZW50U29uZ1RyYWNraW5nID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmIChjdXJyZW50U29uZ1JlZi5jdXJyZW50ICYmIGN1cnJlbnRTb25nU3RhcnRUaW1lICYmIHVzZXIpIHtcbiAgICAgIGNvbnN0IGVuZFRpbWUgPSBuZXcgRGF0ZSgpXG4gICAgICBjb25zdCBtaW51dGVzTGlzdGVuZWQgPSAoZW5kVGltZS5nZXRUaW1lKCkgLSBjdXJyZW50U29uZ1N0YXJ0VGltZS5nZXRUaW1lKCkpIC8gKDEwMDAgKiA2MClcbiAgICAgIFxuICAgICAgaWYgKG1pbnV0ZXNMaXN0ZW5lZCA+IDAuMSkge1xuICB0cnkge1xuICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLnJvdW5kKG1pbnV0ZXNMaXN0ZW5lZCAqIDEwMCkgLyAxMDA7XG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UucnBjKCd1cHNlcnRfaGlzdG9yeV9taW51dGVzJywge1xuICAgICAgdXNlcl91dWlkOiB1c2VyLmlkLFxuICAgICAgc29uZ19maWxlX2lkOiBwYXJzZUludChjdXJyZW50U29uZ1JlZi5jdXJyZW50KSxcbiAgICAgIG1pbnV0ZXM6IG1pbnV0ZXMsXG4gICAgfSk7XG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciByZWNvcmRpbmcgc29uZyBoaXN0b3J5IG9uIHN0b3A6JywgZXJyb3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhg8J+bkSBIaXN0b3J5IHVwZGF0ZWQgb24gc3RvcDogKyR7bWludXRlc30gbWlucyBmb3Igc29uZyAke2N1cnJlbnRTb25nUmVmLmN1cnJlbnR9YCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlY29yZGluZyBmaW5hbCBzb25nIGhpc3Rvcnk6JywgZXJyb3IpO1xuICB9XG59XG5cbiAgICB9XG5cbiAgICBjdXJyZW50U29uZ1JlZi5jdXJyZW50ID0gbnVsbFxuICAgIHNldEN1cnJlbnRTb25nU3RhcnRUaW1lKG51bGwpXG4gIH1cblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGxvYWREYXRhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgIC8vIFJlc2V0IGRhdGEgd2hlbiB1c2VyIGxvZ3Mgb3V0XG4gICAgICAgIHNldFNvbmdzKFtdKVxuICAgICAgICBzZXRQbGF5bGlzdHMoW10pXG4gICAgICAgIHNldExpa2VkU29uZ3MobmV3IFNldCgpKVxuICAgICAgICBzZXRMYXN0UGxheWVkU29uZyhudWxsKVxuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgdHJ5IHtcbiAgICAgICAgc2V0TG9hZGluZyh0cnVlKVxuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChbZmV0Y2hTb25ncygpLCBmZXRjaFBsYXlsaXN0cygpLCBmZXRjaFJlY2VudGx5UGxheWVkKCldKVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBkYXRhOicsIGVycm9yKVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsb2FkRGF0YSgpXG4gIH0sIFt1c2VyXSlcblxuICByZXR1cm4ge1xuICAgIHNvbmdzLFxuICAgIHBsYXlsaXN0cyxcbiAgICBsaWtlZFNvbmdzOiBzb25ncy5maWx0ZXIoc29uZyA9PiBzb25nLmlzTGlrZWQpLFxuICAgIHJlY2VudGx5UGxheWVkU29uZ3MsXG4gICAgbGFzdFBsYXllZFNvbmcsXG4gICAgbG9hZGluZyxcbiAgICB0b2dnbGVMaWtlLFxuICAgIGNyZWF0ZVBsYXlsaXN0LFxuICAgIGRlbGV0ZVBsYXlsaXN0LFxuICAgIHJlbmFtZVBsYXlsaXN0LFxuICAgIGFkZFNvbmdUb1BsYXlsaXN0LFxuICAgIHJlbW92ZVNvbmdGcm9tUGxheWxpc3QsXG4gICAgcmVjb3JkTGlzdGVuaW5nSGlzdG9yeSxcbiAgICBzdG9wQ3VycmVudFNvbmdUcmFja2luZyxcbiAgICByZWZyZXNoRGF0YTogKCkgPT4ge1xuICAgICAgZmV0Y2hTb25ncygpXG4gICAgICBmZXRjaFBsYXlsaXN0cygpXG4gICAgICBmZXRjaFJlY2VudGx5UGxheWVkKClcbiAgICB9LFxuICAgIGdldFBlcnNvbmFsaXplZFNvbmdzLFxuICAgIGdldFNtYXJ0UGVyc29uYWxpemVkU29uZ3NcbiAgfVxufSJdLCJuYW1lcyI6WyJzdXBhYmFzZSIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwidXNlU3VwYWJhc2VEYXRhIiwidXNlciIsInNvbmdzIiwic2V0U29uZ3MiLCJwbGF5bGlzdHMiLCJzZXRQbGF5bGlzdHMiLCJsaWtlZFNvbmdzIiwic2V0TGlrZWRTb25ncyIsIlNldCIsImxhc3RQbGF5ZWRTb25nIiwic2V0TGFzdFBsYXllZFNvbmciLCJyZWNlbnRseVBsYXllZFNvbmdzIiwic2V0UmVjZW50bHlQbGF5ZWRTb25ncyIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiY3VycmVudFNvbmdTdGFydFRpbWUiLCJzZXRDdXJyZW50U29uZ1N0YXJ0VGltZSIsImN1cnJlbnRTb25nUmVmIiwiZ2V0U21hcnRQZXJzb25hbGl6ZWRTb25ncyIsInVzZXJJZCIsImxpc3RlbmVkU29uZ3NJbkJhdGNoIiwiZXhjbHVkZVNvbmdzIiwiY29uc29sZSIsImxvZyIsIm1hcCIsInMiLCJuYW1lIiwibGVuZ3RoIiwicHJlZmVycmVkVGFncyIsInByZWZlcnJlZEFydGlzdHMiLCJmb3JFYWNoIiwic29uZyIsInRhZ3MiLCJ0YWciLCJhZGQiLCJ0b0xvd2VyQ2FzZSIsImFydGlzdCIsIkFycmF5IiwiZnJvbSIsImRhdGEiLCJzb25nc0RhdGEiLCJlcnJvciIsInNvbmdzRXJyb3IiLCJzZWxlY3QiLCJ3YXJuIiwibGlrZWREYXRhIiwiZXEiLCJ1c2VyTGlrZWRTb25ncyIsIml0ZW0iLCJzb25nX2lkIiwiYXZhaWxhYmxlU29uZ3MiLCJmaWx0ZXIiLCJoYXMiLCJmaWxlX2lkIiwidG9TdHJpbmciLCJzY29yZWRTb25ncyIsInNjb3JlIiwic29uZ1RhZ3MiLCJtYXRjaGluZ1RhZ3MiLCJsaXN0ZW5lZExhbmd1YWdlcyIsImxhbmd1YWdlIiwiaW5jbHVkZXMiLCJNYXRoIiwibGlrZXMiLCJ2aWV3cyIsInJhbmRvbSIsImNvbnZlcnREYXRhYmFzZVNvbmciLCJyZWNvbW1lbmRhdGlvbnMiLCJzb3J0IiwiYSIsImIiLCJzbGljZSIsImVudHJ5IiwiZGJTb25nIiwiaXNMaWtlZCIsImltZ19pZCIsImlkIiwiaW1hZ2UiLCJmZXRjaFNvbmdzIiwib3JkZXIiLCJhc2NlbmRpbmciLCJjb252ZXJ0ZWRTb25ncyIsInNvcnRlZFNvbmdzIiwiYVNjb3JlIiwiYlNjb3JlIiwidXNlckRhdGEiLCJzaW5nbGUiLCJsYXN0X3NvbmdfZmlsZV9pZCIsImxhc3RTb25nIiwiZmluZCIsImdldFBlcnNvbmFsaXplZFNvbmdzIiwiY3VycmVudFNvbmciLCJsaXN0ZW5lZFNvbmdzIiwic2l6ZSIsImhpc3RvcnlEYXRhIiwiaGlzdG9yeUVycm9yIiwiaGlzdG9yeU1hcCIsIk1hcCIsImgiLCJzZXQiLCJtaW51dGVzX2xpc3RlbmVkIiwibGlzdGVuZWRNaW51dGVzIiwiZ2V0IiwibWluIiwiZmV0Y2hSZWNlbnRseVBsYXllZCIsImxpbWl0IiwicmVjZW50U29uZ3MiLCJmZXRjaFBsYXlsaXN0cyIsInBsYXlsaXN0c0RhdGEiLCJjb252ZXJ0ZWRQbGF5bGlzdHMiLCJwbGF5bGlzdCIsInBsYXlsaXN0U29uZ3MiLCJwbGF5bGlzdF9zb25ncyIsInBzIiwic29uZ0NvdW50IiwidG9nZ2xlTGlrZSIsInNvbmdJZCIsInNvbmdGaWxlSWQiLCJwYXJzZUludCIsImlzQ3VycmVudGx5TGlrZWQiLCJkZWxldGUiLCJycGMiLCJzb25nX2ZpbGVfaWQiLCJwcmV2IiwibmV3U2V0IiwiaW5zZXJ0IiwidXNlcl9pZCIsInByZXZTb25ncyIsInByZXZQbGF5bGlzdHMiLCJjcmVhdGVQbGF5bGlzdCIsIm5ld1BsYXlsaXN0IiwiZGVsZXRlUGxheWxpc3QiLCJwbGF5bGlzdElkIiwicmVuYW1lUGxheWxpc3QiLCJuZXdOYW1lIiwidXBkYXRlIiwiYWRkU29uZ1RvUGxheWxpc3QiLCJwbGF5bGlzdF9pZCIsInNvbmdFeGlzdHMiLCJzb21lIiwidXBkYXRlZFNvbmdzIiwicmVtb3ZlU29uZ0Zyb21QbGF5bGlzdCIsInVwZGF0ZUxhc3RTb25nIiwicmVjb3JkTGlzdGVuaW5nSGlzdG9yeSIsImN1cnJlbnQiLCJlbmRUaW1lIiwiRGF0ZSIsIm1pbnV0ZXNMaXN0ZW5lZCIsImdldFRpbWUiLCJtaW51dGVzIiwicm91bmQiLCJ1c2VyX3V1aWQiLCJzdG9wQ3VycmVudFNvbmdUcmFja2luZyIsImxvYWREYXRhIiwiUHJvbWlzZSIsImFsbCIsInJlZnJlc2hEYXRhIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./hooks/useSupabaseData.ts\n"));

/***/ })

});